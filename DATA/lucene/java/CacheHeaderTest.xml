org.apache.solr.servlet org.apache.http.Header import org.apache.http.HttpResponse import org.apache.http.client.methods.HttpRequestBase import org.apache.http.impl.cookie.DateUtils import org.apache.solr.common.params.CommonParams import org.apache.solr.common.util.SuppressForbidden import org.junit.AfterClass import org.junit.BeforeClass import org.junit.Test import java.io.File import java.io.FileOutputStream import java.io.OutputStreamWriter import java.io.Writer import java.nio.charset.StandardCharsets import java.nio.file.Files import java.util.Arrays import java.util.Date import class org.apache.solr.servlet.CacheHeaderTest super super extends File String public static public static throws = call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() public static public static throws HttpRequestBase HttpResponse File public public throws decl_stmt File = decl_stmt HttpRequestBase = call File.getCanonicalPath() call File.getCanonicalPath() call File.getCanonicalPath() call File.getCanonicalPath() call File.getCanonicalPath() decl_stmt HttpResponse = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call File.toPath() call File.toPath() call File.toPath() call File.toPath() call File.toPath() HttpRequestBase HttpResponse public public throws decl_stmt HttpRequestBase = decl_stmt HttpResponse = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() == Header Date = protected = protected throws decl_stmt Header = + + call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() + + call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() = call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() if = + decl_stmt java.util.Date = call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() - call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() > Date Header HttpResponse HttpRequestBase protected protected throws decl_stmt HttpRequestBase = decl_stmt HttpResponse = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() decl_stmt Header = call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() decl_stmt java.util.Date = call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() new = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() new call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() - = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() new call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() call java.util.Date.getTime() - = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() new = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() Header String HttpResponse HttpRequestBase protected protected throws decl_stmt HttpRequestBase = decl_stmt HttpResponse = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() decl_stmt Header = call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() && call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() decl_stmt java.lang.String = call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() + = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() + = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() = call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() call HttpRequestBase.addHeader() = call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() Header HttpRequestBase HttpResponse protected protected throws if decl_stmt HttpRequestBase = decl_stmt HttpResponse = decl_stmt Header = call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() = call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() else decl_stmt HttpRequestBase = decl_stmt HttpResponse = decl_stmt Header = call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() = call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() protected protected return Writer File protected protected try decl_stmt File = new decl_stmt Writer = new new call Writer.write() call Writer.write() call Writer.write() call Writer.write() call Writer.write() call Writer.close() call Writer.close() call Writer.close() call Writer.close() call Writer.close() return catch throw new