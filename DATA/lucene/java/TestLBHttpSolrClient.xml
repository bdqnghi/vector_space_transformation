org.apache.solr.client.solrj com.carrotsearch.randomizedtesting.annotations.ThreadLeakFilters import junit.framework.Assert import org.apache.commons.io.FileUtils import org.apache.http.impl.client.CloseableHttpClient import org.apache.lucene.util.IOUtils import org.apache.lucene.util.LuceneTestCase.Slow import org.apache.lucene.util.QuickPatchThreadsFilter import org.apache.solr.SolrIgnoredThreadsFilter import org.apache.solr.SolrTestCaseJ4 import org.apache.solr.client.solrj.embedded.JettyConfig import org.apache.solr.client.solrj.embedded.JettySolrRunner import org.apache.solr.client.solrj.impl.HttpClientUtil import org.apache.solr.client.solrj.impl.HttpSolrClient import org.apache.solr.client.solrj.impl.LBHttpSolrClient import org.apache.solr.client.solrj.response.QueryResponse import org.apache.solr.client.solrj.response.SolrResponseBase import org.apache.solr.common.SolrInputDocument import org.apache.solr.util.TimeOut import org.junit.AfterClass import org.junit.BeforeClass import org.slf4j.Logger import org.slf4j.LoggerFactory import java.io.File import java.io.IOException import java.lang.invoke.MethodHandles import java.nio.file.Files import java.util.ArrayList import java.util.HashSet import java.util.List import java.util.Properties import java.util.Set import java.util.concurrent.TimeUnit import class annotation annotation org.apache.solr.client.solrj.TestLBHttpSolrClient super super extends String decl SolrInstance Logger CloseableHttpClient public static public static = public static public static if == else public public throws = for = < ++ = new + + decl List SolrResponseBase SolrInputDocument private private throws decl_stmt java.util.List < = new <> for = < ++ decl_stmt org.apache.solr.common.SolrInputDocument = new call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() decl_stmt org.apache.solr.client.solrj.response.SolrResponseBase try = = call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() = call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() call org.apache.solr.client.solrj.response.SolrResponseBase.getStatus() public public throws for : if != decl String LBHttpSolrClient SolrQuery QueryResponse decl Set public public throws decl_stmt java.lang.String = new for = < ++ = decl_stmt org.apache.solr.client.solrj.impl.LBHttpSolrClient = call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) decl_stmt org.apache.solr.client.solrj.SolrQuery = new decl_stmt java.util.Set < = new <> decl_stmt org.apache.solr.client.solrj.response.QueryResponse = for : = call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() = call decl Set.clear() call decl Set.clear() call decl Set.clear() call decl Set.clear() call decl Set.clear() for : = call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.contains() call decl Set.contains() call decl Set.contains() call decl Set.contains() call decl Set.contains() call decl Set.clear() call decl Set.clear() call decl Set.clear() call decl Set.clear() call decl Set.clear() for : = call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() QueryResponse LBHttpSolrClient SolrQuery String public public throws decl_stmt org.apache.solr.client.solrj.impl.LBHttpSolrClient = call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) decl_stmt org.apache.solr.client.solrj.SolrQuery = new decl_stmt org.apache.solr.client.solrj.response.QueryResponse = = = call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() decl_stmt java.lang.String = call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() = call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() = call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() = try = call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() catch = call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() = call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() decl String LBHttpSolrClient CloseableHttpClient public public throws decl_stmt java.lang.String = new for = < ++ = decl_stmt CloseableHttpClient = try decl_stmt org.apache.solr.client.solrj.impl.LBHttpSolrClient = call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) call org.apache.solr.client.solrj.impl.LBHttpSolrClient.setAliveCheckInterval(int) = for : call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() call LBHttpSolrClient.query() new finally QueryResponse String TimeOut private private throws decl_stmt org.apache.solr.util.TimeOut final final = new while ! call org.apache.solr.util.TimeOut.hasTimedOut() call org.apache.solr.util.TimeOut.hasTimedOut() call org.apache.solr.util.TimeOut.hasTimedOut() call org.apache.solr.util.TimeOut.hasTimedOut() call org.apache.solr.util.TimeOut.hasTimedOut() decl_stmt org.apache.solr.client.solrj.response.QueryResponse try = new catch call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() continue decl_stmt java.lang.String = call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() call org.apache.solr.client.solrj.response.QueryResponse.getResults() if call java.lang.String.equals(Object) call java.lang.String.equals(Object) call java.lang.String.equals(Object) call java.lang.String.equals(Object) call java.lang.String.equals(Object) return public public return public public return public public return public public return public public return public public return public public return File public public throws new decl_stmt File = new = new public public throws if != JettyConfig int Properties public public throws decl_stmt java.util.Properties = new call Properties.setProperty() call Properties.setProperty() call Properties.setProperty() call Properties.setProperty() call Properties.setProperty() call Properties.setProperty() call Properties.setProperty() call Properties.setProperty() call Properties.setProperty() call Properties.setProperty() decl_stmt org.apache.solr.client.solrj.embedded.JettyConfig = = new decl_stmt int = if != && != =