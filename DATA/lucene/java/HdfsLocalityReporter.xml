org.apache.solr.store.hdfs java.io.IOException import java.lang.invoke.MethodHandles import java.net.URL import java.util.Arrays import java.util.Iterator import java.util.List import java.util.Map import java.util.Set import java.util.concurrent.ConcurrentHashMap import java.util.concurrent.ConcurrentMap import org.apache.hadoop.fs.BlockLocation import org.apache.hadoop.fs.FileStatus import org.apache.hadoop.fs.FileSystem import org.apache.solr.common.util.NamedList import org.apache.solr.common.util.SimpleOrderedMap import org.apache.solr.core.SolrInfoMBean import org.slf4j.Logger import org.slf4j.LoggerFactory import class org.apache.solr.store.hdfs.HdfsLocalityReporter super super implements String String decl ConcurrentMap String String String Logger String String public public = public public return public public return public public return public public return public public return public public return long int decl Map long HdfsDirectory int public public decl_stmt long = decl_stmt long = decl_stmt int = decl_stmt int = for < = call decl ConcurrentMap.keySet() call decl ConcurrentMap.keySet() call decl ConcurrentMap.keySet() call decl ConcurrentMap.keySet() call decl ConcurrentMap.keySet() decl_stmt org.apache.solr.store.hdfs.HdfsDirectory = if call org.apache.solr.store.hdfs.HdfsDirectory.isClosed() call org.apache.solr.store.hdfs.HdfsDirectory.isClosed() call org.apache.solr.store.hdfs.HdfsDirectory.isClosed() call org.apache.solr.store.hdfs.HdfsDirectory.isClosed() call org.apache.solr.store.hdfs.HdfsDirectory.isClosed() else try decl_stmt java.util.Map < = call decl ConcurrentMap.get() call decl ConcurrentMap.get() call decl ConcurrentMap.get() call decl ConcurrentMap.get() call decl ConcurrentMap.get() for : call decl Map.values() call decl Map.values() call decl Map.values() call decl Map.values() call decl Map.values() for : += ++ if += ++ catch call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call HdfsDirectory.getHdfsDirPath() call HdfsDirectory.getHdfsDirPath() call HdfsDirectory.getHdfsDirPath() call HdfsDirectory.getHdfsDirPath() call HdfsDirectory.getHdfsDirPath() return decl NamedList private < private < decl_stmt org.apache.solr.common.util.NamedList < = new < call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() if == call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() else call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() / double call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() if == call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() else call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() / double return public public call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call decl ConcurrentMap.put() call decl ConcurrentMap.put() call decl ConcurrentMap.put() call decl ConcurrentMap.put() call decl ConcurrentMap.put() new < decl List decl Map decl BlockLocation FileSystem decl Set decl FileStatus private private throws decl_stmt java.util.Map < = call decl ConcurrentMap.get() call decl ConcurrentMap.get() call decl ConcurrentMap.get() call decl ConcurrentMap.get() call decl ConcurrentMap.get() decl_stmt java.util.Set < = call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() decl_stmt java.io.FileSystem = decl_stmt FileStatus = call FileSystem.listStatus() call FileSystem.listStatus() call FileSystem.listStatus() call FileSystem.listStatus() call FileSystem.listStatus() decl_stmt java.util.List < = call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call decl Set.retainAll() call decl Set.retainAll() call decl Set.retainAll() call decl Set.retainAll() call decl Set.retainAll() for : if ! && ! call decl Map.containsKey() call decl Map.containsKey() call decl Map.containsKey() call decl Map.containsKey() call decl Map.containsKey() decl_stmt BlockLocation = call FileSystem.getFileBlockLocations() call FileSystem.getFileBlockLocations() call FileSystem.getFileBlockLocations() call FileSystem.getFileBlockLocations() call FileSystem.getFileBlockLocations() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put()