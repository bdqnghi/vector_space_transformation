org.apache.lucene.search java.io.IOException import java.util.ArrayList import java.util.HashMap import java.util.HashSet import java.util.List import java.util.Random import java.util.Set import org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.document.Document import org.apache.lucene.document.Field.Store import org.apache.lucene.document.NumericDocValuesField import org.apache.lucene.document.StringField import org.apache.lucene.index.DirectoryReader import org.apache.lucene.index.ExitableDirectoryReader import org.apache.lucene.index.LeafReaderContext import org.apache.lucene.index.IndexReader import org.apache.lucene.index.IndexWriterConfig import org.apache.lucene.index.QueryTimeout import org.apache.lucene.index.RandomIndexWriter import org.apache.lucene.index.SerialMergeScheduler import org.apache.lucene.index.SortingMergePolicy import org.apache.lucene.index.Term import org.apache.lucene.index.TestSortingMergePolicy import org.apache.lucene.search.LeafCollector import org.apache.lucene.search.IndexSearcher import org.apache.lucene.search.MatchAllDocsQuery import org.apache.lucene.search.Query import org.apache.lucene.search.ScoreDoc import org.apache.lucene.search.Sort import org.apache.lucene.search.SortField import org.apache.lucene.search.TermQuery import org.apache.lucene.search.TopFieldCollector import org.apache.lucene.store.Directory import org.apache.lucene.uninverting.UninvertingReader import org.apache.lucene.uninverting.UninvertingReader.Type import org.apache.lucene.util.LuceneTestCase import org.apache.lucene.util.TestUtil import com.carrotsearch.randomizedtesting.generators.RandomPicks import class org.apache.lucene.search.TestEarlyTerminatingSortingCollector super super extends Sort decl List SortingMergePolicy RandomIndexWriter int IndexReader int Directory public public throws = new new Document private private decl_stmt org.apache.lucene.document.Document final final = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new return String IndexWriterConfig decl Set Document long int private private throws = = decl_stmt int final final = / decl_stmt java.util.Set < = new <> while call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() < call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() = new <> decl_stmt long final final = decl_stmt org.apache.lucene.index.IndexWriterConfig final final = new new call org.apache.lucene.index.IndexWriterConfig.setMergeScheduler(MergeScheduler) call org.apache.lucene.index.IndexWriterConfig.setMergeScheduler(MergeScheduler) call org.apache.lucene.index.IndexWriterConfig.setMergeScheduler(MergeScheduler) call org.apache.lucene.index.IndexWriterConfig.setMergeScheduler(MergeScheduler) call org.apache.lucene.index.IndexWriterConfig.setMergeScheduler(MergeScheduler) new = call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) = new new call org.apache.lucene.index.RandomIndexWriter.setDoRandomForceMerge(boolean) call org.apache.lucene.index.RandomIndexWriter.setDoRandomForceMerge(boolean) call org.apache.lucene.index.RandomIndexWriter.setDoRandomForceMerge(boolean) call org.apache.lucene.index.RandomIndexWriter.setDoRandomForceMerge(boolean) call org.apache.lucene.index.RandomIndexWriter.setDoRandomForceMerge(boolean) for = < ++ decl_stmt org.apache.lucene.document.Document final final = call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) if == / || != - && == call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() if == decl_stmt java.lang.String final final = call org.apache.lucene.index.RandomIndexWriter.deleteDocuments(Query) call org.apache.lucene.index.RandomIndexWriter.deleteDocuments(Query) call org.apache.lucene.index.RandomIndexWriter.deleteDocuments(Query) call org.apache.lucene.index.RandomIndexWriter.deleteDocuments(Query) call org.apache.lucene.index.RandomIndexWriter.deleteDocuments(Query) new if call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) new call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) new call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) else if call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() private private throws call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() Sort IndexSearcher boolean TopFieldCollector TopFieldCollector int boolean int boolean Query public public throws decl_stmt int final final = for = < ++ for = < ++ decl_stmt org.apache.lucene.search.IndexSearcher final final = decl_stmt int final final = decl_stmt org.apache.lucene.search.Sort final final = new new decl_stmt boolean final final = decl_stmt boolean final final = decl_stmt boolean final final = decl_stmt org.apache.lucene.search.TopFieldCollector final final = decl_stmt org.apache.lucene.search.TopFieldCollector final final = decl_stmt org.apache.lucene.search.Query final final if = new new else = new call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.index.SortingMergePolicy.getSort() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() >= call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() public public new new new new new new new new new new new new new new new new new new new new new new new new new new new new new new new new new new new new Sort IndexSearcher boolean TopFieldCollector TopFieldCollector int boolean Sort LeafCollector int boolean Query public public throws decl_stmt int final final = for = < ++ decl_stmt org.apache.lucene.search.IndexSearcher final final = decl_stmt int final final = decl_stmt org.apache.lucene.search.Sort final final = new new decl_stmt boolean final final = decl_stmt boolean final final = decl_stmt boolean final final = decl_stmt org.apache.lucene.search.TopFieldCollector final final = decl_stmt org.apache.lucene.search.TopFieldCollector final final = decl_stmt org.apache.lucene.search.Query final final if = new new else = new call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) decl_stmt org.apache.lucene.search.Sort = new new call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new public public throws decl_stmt org.apache.lucene.search.LeafCollector final final = call LeafCollector.getClass() call LeafCollector.getClass() call LeafCollector.getClass() call LeafCollector.getClass() call LeafCollector.getClass() == return call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() >= call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call TopFieldCollector.getTotalHits() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() call org.apache.lucene.search.TopFieldCollector.topDocs() LeafCollector public public throws decl_stmt org.apache.lucene.search.LeafCollector final final = call LeafCollector.getClass() call LeafCollector.getClass() call LeafCollector.getClass() call LeafCollector.getClass() call LeafCollector.getClass() == return ScoreDoc ScoreDoc private static private static for = < ++ decl_stmt org.apache.lucene.search.ScoreDoc final final = decl_stmt org.apache.lucene.search.ScoreDoc final final = public public return public public throws = public public return public public return DirectoryReader private private throws switch case return new case + instanceof decl_stmt org.apache.lucene.index.DirectoryReader final final = new < new return new + + return IndexSearcher TestTerminatedEarlySimpleCollector TestTerminatedEarlySimpleCollector int Query EarlyTerminatingSortingCollector public public throws decl_stmt int final final = for = < ++ decl_stmt org.apache.lucene.search.IndexSearcher final final = decl_stmt org.apache.lucene.search.Query final final = new decl_stmt TestTerminatedEarlySimpleCollector final final = new call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) decl_stmt TestTerminatedEarlySimpleCollector final final = new decl_stmt org.apache.lucene.search.EarlyTerminatingSortingCollector final final = new call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.index.SortingMergePolicy.getSort() call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) + call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() + + call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() == call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() if call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() call TestTerminatedEarlySimpleCollector.collectedSomething() + + call org.apache.lucene.search.EarlyTerminatingSortingCollector.terminatedEarly() call org.apache.lucene.search.EarlyTerminatingSortingCollector.terminatedEarly() call org.apache.lucene.search.EarlyTerminatingSortingCollector.terminatedEarly() call org.apache.lucene.search.EarlyTerminatingSortingCollector.terminatedEarly() call org.apache.lucene.search.EarlyTerminatingSortingCollector.terminatedEarly()