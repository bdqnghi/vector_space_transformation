org.apache.lucene.replicator.nrt java.io.IOException import java.io.PrintStream import java.util.Collections import java.util.HashMap import java.util.HashSet import java.util.Map import java.util.Set import java.util.concurrent.atomic.AtomicInteger import org.apache.lucene.index.IndexWriter import org.apache.lucene.index.SegmentCommitInfo import org.apache.lucene.index.SegmentInfos import org.apache.lucene.index.StandardDirectoryReader import org.apache.lucene.index.Term import org.apache.lucene.search.IndexSearcher import org.apache.lucene.search.SearcherFactory import org.apache.lucene.search.SearcherManager import org.apache.lucene.search.TermQuery import org.apache.lucene.store.AlreadyClosedException import org.apache.lucene.store.RAMFile import org.apache.lucene.store.RAMOutputStream import org.apache.lucene.util.ThreadInterruptedException import class org.apache.lucene.replicator.nrt.PrimaryNode super super extends SegmentInfos CopyState decl Set IndexWriter long AtomicInteger decl Set boolean public public throws decl_stmt java.util.Set < synchronized = new <> decl_stmt boolean = if + call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call decl Set.removeAll() call decl Set.removeAll() call decl Set.removeAll() call decl Set.removeAll() call decl Set.removeAll() + call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() + + + + else + call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() return public public return String public synchronized public synchronized decl_stmt java.lang.String = call org.apache.lucene.index.SegmentInfos.getUserData() call org.apache.lucene.index.SegmentInfos.getUserData() call org.apache.lucene.index.SegmentInfos.getUserData() call org.apache.lucene.index.SegmentInfos.getUserData() call org.apache.lucene.index.SegmentInfos.getUserData() assert != return decl Map public public throws decl_stmt java.util.Map < = new <> call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() + call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) int public synchronized public synchronized throws assert == call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) decl_stmt int = call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() assert > return int public public throws assert != call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) decl_stmt int = call java.util.concurrent.atomic.AtomicInteger.decrementAndGet() call java.util.concurrent.atomic.AtomicInteger.decrementAndGet() call java.util.concurrent.atomic.AtomicInteger.decrementAndGet() call java.util.concurrent.atomic.AtomicInteger.decrementAndGet() call java.util.concurrent.atomic.AtomicInteger.decrementAndGet() assert >= public public return return || == && private private if throw new IndexSearcher decl Map SegmentInfos SegmentInfos FileMetaData decl byte RAMOutputStream private synchronized private synchronized < throws decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.index.SegmentInfos try = = call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() + call org.apache.lucene.search.IndexSearcher.count(Query) call org.apache.lucene.search.IndexSearcher.count(Query) call org.apache.lucene.search.IndexSearcher.count(Query) call org.apache.lucene.search.IndexSearcher.count(Query) call org.apache.lucene.search.IndexSearcher.count(Query) new new + + call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() + + finally if != if != && call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() == call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() + call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() + + call org.apache.lucene.index.SegmentInfos.toString() call org.apache.lucene.index.SegmentInfos.toString() call org.apache.lucene.index.SegmentInfos.toString() call org.apache.lucene.index.SegmentInfos.toString() call org.apache.lucene.index.SegmentInfos.toString() return decl_stmt org.apache.lucene.index.SegmentInfos = call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.incRefDeleter(SegmentInfos) = if != call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) + call org.apache.lucene.index.SegmentInfos.toString() call org.apache.lucene.index.SegmentInfos.toString() call org.apache.lucene.index.SegmentInfos.toString() call org.apache.lucene.index.SegmentInfos.toString() call org.apache.lucene.index.SegmentInfos.toString() + + call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() decl_stmt org.apache.lucene.store.RAMOutputStream = new new call org.apache.lucene.index.SegmentInfos.write(Directory) call org.apache.lucene.index.SegmentInfos.write(Directory) call org.apache.lucene.index.SegmentInfos.write(Directory) call org.apache.lucene.index.SegmentInfos.write(Directory) call org.apache.lucene.index.SegmentInfos.write(Directory) decl_stmt byte = new int call org.apache.lucene.store.RAMOutputStream.getFilePointer() call org.apache.lucene.store.RAMOutputStream.getFilePointer() call org.apache.lucene.store.RAMOutputStream.getFilePointer() call org.apache.lucene.store.RAMOutputStream.getFilePointer() call org.apache.lucene.store.RAMOutputStream.getFilePointer() call org.apache.lucene.store.RAMOutputStream.writeTo(DataOutput) call org.apache.lucene.store.RAMOutputStream.writeTo(DataOutput) call org.apache.lucene.store.RAMOutputStream.writeTo(DataOutput) call org.apache.lucene.store.RAMOutputStream.writeTo(DataOutput) call org.apache.lucene.store.RAMOutputStream.writeTo(DataOutput) decl_stmt java.util.Map < = new < for : for : decl_stmt FileMetaData = assert != assert call decl Map.containsKey() call decl Map.containsKey() call decl Map.containsKey() call decl Map.containsKey() call decl Map.containsKey() == call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() = + + + call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() + + call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() = new call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getVersion() call org.apache.lucene.index.SegmentInfos.getGeneration() call org.apache.lucene.index.SegmentInfos.getGeneration() call org.apache.lucene.index.SegmentInfos.getGeneration() call org.apache.lucene.index.SegmentInfos.getGeneration() call org.apache.lucene.index.SegmentInfos.getGeneration() return int private synchronized private synchronized throws while decl_stmt int = call java.util.concurrent.atomic.AtomicInteger.get() call java.util.concurrent.atomic.AtomicInteger.get() call java.util.concurrent.atomic.AtomicInteger.get() call java.util.concurrent.atomic.AtomicInteger.get() call java.util.concurrent.atomic.AtomicInteger.get() if == return + try catch throw new public public throws = synchronized if != call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) call org.apache.lucene.index.IndexWriter.decRefDeleter(SegmentInfos) = call org.apache.lucene.index.IndexWriter.rollback() call org.apache.lucene.index.IndexWriter.rollback() call org.apache.lucene.index.IndexWriter.rollback() call org.apache.lucene.index.IndexWriter.rollback() call org.apache.lucene.index.IndexWriter.rollback() =