org.apache.solr.handler org.apache.commons.lang.ObjectUtils import org.apache.solr.SolrTestCaseJ4 import org.apache.solr.common.SolrInputDocument import org.apache.solr.common.util.ContentStreamBase import org.apache.solr.handler.loader.XMLLoader import org.apache.solr.request.SolrQueryRequest import org.apache.solr.response.SolrQueryResponse import org.apache.solr.update.AddUpdateCommand import org.apache.solr.update.DeleteUpdateCommand import org.apache.solr.update.processor.BufferingRequestProcessor import org.apache.solr.update.processor.UpdateRequestProcessor import org.junit.AfterClass import org.junit.BeforeClass import org.junit.Test import javax.xml.stream.XMLInputFactory import javax.xml.stream.XMLStreamReader import java.io.IOException import java.io.StringReader import java.util.Collection import java.util.LinkedList import java.util.Queue import class org.apache.solr.handler.XmlUpdateRequestHandlerTest super super extends XMLInputFactory UpdateRequestHandler public static public static throws = new = public static public static = = String SolrInputDocument XMLStreamReader decl Collection XMLLoader public public throws decl_stmt java.lang.String = + + + + + + + decl_stmt XMLStreamReader = call XMLInputFactory.createXMLStreamReader() call XMLInputFactory.createXMLStreamReader() call XMLInputFactory.createXMLStreamReader() call XMLInputFactory.createXMLStreamReader() call XMLInputFactory.createXMLStreamReader() new call XMLStreamReader.next() call XMLStreamReader.next() call XMLStreamReader.next() call XMLStreamReader.next() call XMLStreamReader.next() decl_stmt org.apache.solr.handler.loader.XMLLoader = new decl_stmt org.apache.solr.common.SolrInputDocument = call org.apache.solr.handler.loader.XMLLoader.readDoc(XMLStreamReader) call org.apache.solr.handler.loader.XMLLoader.readDoc(XMLStreamReader) call org.apache.solr.handler.loader.XMLLoader.readDoc(XMLStreamReader) call org.apache.solr.handler.loader.XMLLoader.readDoc(XMLStreamReader) call org.apache.solr.handler.loader.XMLLoader.readDoc(XMLStreamReader) call org.apache.solr.common.SolrInputDocument.getDocumentBoost() call org.apache.solr.common.SolrInputDocument.getDocumentBoost() call org.apache.solr.common.SolrInputDocument.getDocumentBoost() call org.apache.solr.common.SolrInputDocument.getDocumentBoost() call org.apache.solr.common.SolrInputDocument.getDocumentBoost() call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) * * call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) decl_stmt java.util.Collection < = call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call org.apache.solr.common.SolrInputDocument.getField(String) call decl Collection.size() call decl Collection.size() call decl Collection.size() call decl Collection.size() call decl Collection.size() call decl Collection.toString() call decl Collection.toString() call decl Collection.toString() call decl Collection.toString() call decl Collection.toString() String SolrQueryRequest XMLLoader BufferingRequestProcessor AddUpdateCommand SolrQueryResponse public public throws decl_stmt java.lang.String = + + + + + decl_stmt org.apache.solr.request.SolrQueryRequest = decl_stmt org.apache.solr.response.SolrQueryResponse = new decl_stmt org.apache.solr.update.processor.BufferingRequestProcessor = new decl_stmt org.apache.solr.handler.loader.XMLLoader = new call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) new decl_stmt org.apache.solr.update.AddUpdateCommand = call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call org.apache.solr.request.SolrQueryRequest.close() call org.apache.solr.request.SolrQueryRequest.close() call org.apache.solr.request.SolrQueryRequest.close() call org.apache.solr.request.SolrQueryRequest.close() call org.apache.solr.request.SolrQueryRequest.close() String SolrQueryRequest XMLLoader BufferingRequestProcessor AddUpdateCommand String SolrQueryResponse public public throws decl_stmt java.lang.String = decl_stmt java.lang.String = + + + + + + + + + + decl_stmt org.apache.solr.request.SolrQueryRequest = decl_stmt org.apache.solr.response.SolrQueryResponse = new decl_stmt org.apache.solr.update.processor.BufferingRequestProcessor = new decl_stmt org.apache.solr.handler.loader.XMLLoader = new call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) new decl_stmt org.apache.solr.update.AddUpdateCommand = call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call BufferingRequestProcessor.addCommands() call AddUpdateCommand.solrDoc() call AddUpdateCommand.solrDoc() call AddUpdateCommand.solrDoc() call AddUpdateCommand.solrDoc() call AddUpdateCommand.solrDoc() call AddUpdateCommand.solrDoc() call AddUpdateCommand.solrDoc() call AddUpdateCommand.solrDoc() call AddUpdateCommand.solrDoc() call org.apache.solr.request.SolrQueryRequest.close() call org.apache.solr.request.SolrQueryRequest.close() call org.apache.solr.request.SolrQueryRequest.close() call org.apache.solr.request.SolrQueryRequest.close() call org.apache.solr.request.SolrQueryRequest.close() public public throws + + + + + String MockUpdateRequestProcessor XMLLoader public public throws decl_stmt java.lang.String = + + + + + + + + + + + + + + + + + + + + + + decl_stmt MockUpdateRequestProcessor = new call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() - call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() - call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() - call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() - call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() - call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() - call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() - call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() call MockUpdateRequestProcessor.expectDelete() - decl_stmt org.apache.solr.handler.loader.XMLLoader = new call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) call org.apache.solr.handler.loader.XMLLoader.load(SolrQueryRequest,SolrQueryResponse,ContentStream,UpdateRequestProcessor) new new call MockUpdateRequestProcessor.assertNoCommandsPending() call MockUpdateRequestProcessor.assertNoCommandsPending() call MockUpdateRequestProcessor.assertNoCommandsPending() call MockUpdateRequestProcessor.assertNoCommandsPending() call MockUpdateRequestProcessor.assertNoCommandsPending() DeleteUpdateCommand public public decl_stmt org.apache.solr.update.DeleteUpdateCommand = new = = = if != call DeleteUpdateCommand.setVersion() call DeleteUpdateCommand.setVersion() call DeleteUpdateCommand.setVersion() call DeleteUpdateCommand.setVersion() call DeleteUpdateCommand.setVersion() if != call DeleteUpdateCommand.setRoute() call DeleteUpdateCommand.setRoute() call DeleteUpdateCommand.setRoute() call DeleteUpdateCommand.setRoute() call DeleteUpdateCommand.setRoute() public public DeleteUpdateCommand public public throws decl_stmt org.apache.solr.update.DeleteUpdateCommand = + + + + + + && && == && call DeleteUpdateCommand.getRoute() call DeleteUpdateCommand.getRoute() call DeleteUpdateCommand.getRoute() call DeleteUpdateCommand.getRoute() call DeleteUpdateCommand.getRoute()