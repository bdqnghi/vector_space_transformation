org.apache.solr.hadoop static static org.mockito.Mockito.when import java.io.IOException import java.util.ArrayList import java.util.List import org.apache.hadoop.conf.Configuration import org.apache.hadoop.io.Text import org.apache.hadoop.mapred.TaskID import org.apache.hadoop.mapreduce.InputFormat import org.apache.hadoop.mapreduce.InputSplit import org.apache.hadoop.mapreduce.JobContext import org.apache.hadoop.mapreduce.RecordReader import org.apache.hadoop.mapreduce.TaskAttemptContext import org.apache.hadoop.mapreduce.TaskAttemptID import org.apache.hadoop.mrunit.mapreduce.ReduceDriver import org.apache.lucene.util.Constants import org.apache.solr.common.SolrInputDocument import org.junit.AfterClass import org.junit.BeforeClass import org.junit.Ignore import org.junit.Test import org.mockito.invocation.InvocationOnMock import org.mockito.stubbing.Answer import com.google.common.collect.Lists import class org.apache.solr.hadoop.MorphlineReducerTest super super extends public static public static public static public static protected protected throws = new < public public final final return new new public public final final return new new public < public < throws return public < public < throws return MySolrReducer decl ReduceDriver SolrInputDocumentWritable decl List SolrInputDocument Configuration String public public throws decl_stmt MySolrReducer = new try decl_stmt ReduceDriver < = decl_stmt Configuration = call decl ReduceDriver.getConfiguration() call decl ReduceDriver.getConfiguration() call decl ReduceDriver.getConfiguration() call decl ReduceDriver.getConfiguration() call decl ReduceDriver.getConfiguration() decl_stmt java.util.List < = new <> decl_stmt org.apache.solr.common.SolrInputDocument = new decl_stmt java.lang.String = call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) call org.apache.solr.common.SolrInputDocument.addField(String,Object) decl_stmt org.apache.solr.hadoop.SolrInputDocumentWritable = new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl ReduceDriver.withInput() call decl ReduceDriver.withInput() call decl ReduceDriver.withInput() call decl ReduceDriver.withInput() call decl ReduceDriver.withInput() new call decl ReduceDriver.withCacheArchive() call decl ReduceDriver.withCacheArchive() call decl ReduceDriver.withCacheArchive() call decl ReduceDriver.withCacheArchive() call decl ReduceDriver.withCacheArchive() call decl ReduceDriver.withOutputFormat() call decl ReduceDriver.withOutputFormat() call decl ReduceDriver.withOutputFormat() call decl ReduceDriver.withOutputFormat() call decl ReduceDriver.withOutputFormat() call decl ReduceDriver.run() call decl ReduceDriver.run() call decl ReduceDriver.run() call decl ReduceDriver.run() call decl ReduceDriver.run() call decl ReduceDriver.getCounters() call decl ReduceDriver.getCounters() call decl ReduceDriver.getCounters() call decl ReduceDriver.getCounters() call decl ReduceDriver.getCounters() finally call MySolrReducer.cleanup() call MySolrReducer.cleanup() call MySolrReducer.cleanup() call MySolrReducer.cleanup() call MySolrReducer.cleanup()