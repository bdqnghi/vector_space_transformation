org.apache.lucene.store java.io.IOException import java.util.Collections import java.util.HashMap import java.util.Map import org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.document.Document import org.apache.lucene.document.Field import org.apache.lucene.index.IndexWriter import org.apache.lucene.index.IndexWriterConfig import org.apache.lucene.index.IndexWriterConfig.OpenMode import org.apache.lucene.util.LuceneTestCase import class org.apache.lucene.store.TestLockFactory super super extends MockLockFactory IndexWriter Directory public public throws decl_stmt MockLockFactory = new decl_stmt org.apache.lucene.store.Directory = new new decl_stmt org.apache.lucene.index.IndexWriter = new new new for = < ++ call MockLockFactory.locksCreated() call MockLockFactory.locksCreated() call MockLockFactory.locksCreated() call MockLockFactory.locksCreated() call MockLockFactory.locksCreated() call MockLockFactory.locksCreated() call MockLockFactory.locksCreated() call MockLockFactory.locksCreated() call MockLockFactory.locksCreated() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() IndexWriter IndexWriter MockDirectoryWrapper public public throws decl_stmt org.apache.lucene.store.MockDirectoryWrapper = new new decl_stmt org.apache.lucene.index.IndexWriter = new new new call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) decl_stmt org.apache.lucene.index.IndexWriter = try = new new new catch call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() if != call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() Lock public synchronized public synchronized decl_stmt java.util.concurrent.locks.Lock = new return public public public public throws Document private private throws decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField)