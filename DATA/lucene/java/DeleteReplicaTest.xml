org.apache.solr.cloud java.io.File import java.io.IOException import java.lang.invoke.MethodHandles import java.util.HashMap import java.util.List import java.util.Map import java.util.concurrent.TimeUnit import org.apache.solr.client.solrj.SolrRequest import org.apache.solr.client.solrj.SolrServerException import org.apache.solr.client.solrj.impl.CloudSolrClient import org.apache.solr.client.solrj.impl.HttpSolrClient import org.apache.solr.client.solrj.request.CollectionAdminRequest import org.apache.solr.client.solrj.request.CoreAdminRequest import org.apache.solr.client.solrj.request.QueryRequest import org.apache.solr.client.solrj.response.CoreAdminResponse import org.apache.solr.common.SolrException import org.apache.solr.common.cloud.DocCollection import org.apache.solr.common.cloud.Replica import org.apache.solr.common.cloud.Slice import org.apache.solr.common.cloud.ZkStateReader import org.apache.solr.common.params.MapSolrParams import org.apache.solr.common.params.SolrParams import org.apache.solr.common.util.NamedList import org.apache.solr.util.FileUtils import org.apache.solr.util.TimeOut import org.junit.Test import org.slf4j.Logger import org.slf4j.LoggerFactory import static static org.apache.solr.cloud.OverseerCollectionMessageHandler.NUM_SLICES import static static org.apache.solr.cloud.OverseerCollectionMessageHandler.ONLY_IF_DOWN import static static org.apache.solr.common.cloud.ZkStateReader.MAX_SHARDS_PER_NODE import static static org.apache.solr.common.params.CollectionParams.CollectionAction.DELETEREPLICA import static static org.apache.solr.common.util.Utils.makeMap import class org.apache.solr.cloud.DeleteReplicaTest super super extends Logger protected protected return CoreAdminResponse String Replica decl NamedList String Slice DocCollection = public = public throws decl_stmt java.lang.String = try = decl_stmt org.apache.solr.common.cloud.DocCollection = decl_stmt org.apache.solr.common.cloud.Slice = decl_stmt org.apache.solr.common.cloud.Replica = for : call org.apache.solr.common.cloud.DocCollection.getSlices() call org.apache.solr.common.cloud.DocCollection.getSlices() call org.apache.solr.common.cloud.DocCollection.getSlices() call org.apache.solr.common.cloud.DocCollection.getSlices() call org.apache.solr.common.cloud.DocCollection.getSlices() if != break if == = for : call org.apache.solr.common.cloud.Slice.getReplicas() call org.apache.solr.common.cloud.Slice.getReplicas() call org.apache.solr.common.cloud.Slice.getReplicas() call org.apache.solr.common.cloud.Slice.getReplicas() call org.apache.solr.common.cloud.Slice.getReplicas() if == = break if == decl_stmt java.lang.String = try = call Replica.getStr() call Replica.getStr() call Replica.getStr() call Replica.getStr() call Replica.getStr() decl_stmt org.apache.solr.client.solrj.response.CoreAdminResponse = call Replica.getStr() call Replica.getStr() call Replica.getStr() call Replica.getStr() call Replica.getStr() decl_stmt org.apache.solr.common.util.NamedList < = call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call Replica.getStr() call Replica.getStr() call Replica.getStr() call Replica.getStr() call Replica.getStr() = call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() try call org.apache.solr.common.cloud.Slice.getName() call org.apache.solr.common.cloud.Slice.getName() call org.apache.solr.common.cloud.Slice.getName() call org.apache.solr.common.cloud.Slice.getName() call org.apache.solr.common.cloud.Slice.getName() catch + + call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() + new call org.apache.solr.common.cloud.Slice.getName() call org.apache.solr.common.cloud.Slice.getName() call org.apache.solr.common.cloud.Slice.getName() call org.apache.solr.common.cloud.Slice.getName() call org.apache.solr.common.cloud.Slice.getName() + call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() + new SolrParams Map SolrRequest protected protected throws decl_stmt java.util.Map = decl_stmt org.apache.solr.common.params.SolrParams = new decl_stmt org.apache.solr.client.solrj.SolrRequest = new call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) boolean SolrRequest Map DocCollection SolrParams TimeOut static static throws decl_stmt java.util.Map = decl_stmt org.apache.solr.common.params.SolrParams = new decl_stmt org.apache.solr.client.solrj.SolrRequest = new call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) decl_stmt org.apache.solr.util.TimeOut = new decl_stmt boolean = decl_stmt org.apache.solr.common.cloud.DocCollection = while ! call org.apache.solr.util.TimeOut.hasTimedOut() call org.apache.solr.util.TimeOut.hasTimedOut() call org.apache.solr.util.TimeOut.hasTimedOut() call org.apache.solr.util.TimeOut.hasTimedOut() call org.apache.solr.util.TimeOut.hasTimedOut() = = call org.apache.solr.common.cloud.DocCollection.getSlice(String) call org.apache.solr.common.cloud.DocCollection.getSlice(String) call org.apache.solr.common.cloud.DocCollection.getSlice(String) call org.apache.solr.common.cloud.DocCollection.getSlice(String) call org.apache.solr.common.cloud.DocCollection.getSlice(String) == if call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) + + call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) call java.util.logging.Logger.info(String) break int int decl Map int decl Map protected protected throws decl_stmt int = decl_stmt int = decl_stmt int = + * / + decl_stmt java.util.Map < = decl_stmt java.util.Map < < = new <> String Replica String CoreAdminResponse String NamedList String Replica String = public = public throws decl_stmt org.apache.solr.common.cloud.Replica = decl_stmt java.lang.String = call Replica.get() call Replica.get() call Replica.get() call Replica.get() call Replica.get() decl_stmt java.lang.String = call Replica.get() call Replica.get() call Replica.get() call Replica.get() call Replica.get() decl_stmt java.lang.String = call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() call org.apache.solr.common.cloud.Replica.getName() decl_stmt java.lang.String decl_stmt java.lang.String try = decl_stmt org.apache.solr.client.solrj.response.CoreAdminResponse = decl_stmt org.apache.solr.common.util.NamedList = call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() call org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus() = call org.apache.solr.common.util.NamedList.findRecursive(String) call org.apache.solr.common.util.NamedList.findRecursive(String) call org.apache.solr.common.util.NamedList.findRecursive(String) call org.apache.solr.common.util.NamedList.findRecursive(String) call org.apache.solr.common.util.NamedList.findRecursive(String) = call org.apache.solr.common.util.NamedList.get(String) call org.apache.solr.common.util.NamedList.get(String) call org.apache.solr.common.util.NamedList.get(String) call org.apache.solr.common.util.NamedList.get(String) call org.apache.solr.common.util.NamedList.get(String) new decl_stmt org.apache.solr.common.cloud.Replica = call Replica.equals() call Replica.equals() call Replica.equals() call Replica.equals() call Replica.equals()