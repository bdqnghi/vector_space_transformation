org.apache.solr.search java.io.IOException import java.util.List import org.apache.lucene.index.DirectoryReader import org.apache.lucene.index.Fields import org.apache.lucene.index.LeafReader import org.apache.lucene.index.LeafReaderContext import org.apache.lucene.index.PostingsEnum import org.apache.lucene.index.Term import org.apache.lucene.index.Terms import org.apache.lucene.index.TermsEnum import org.apache.lucene.search.BooleanClause import org.apache.lucene.search.BooleanQuery import org.apache.lucene.search.DocIdSetIterator import org.apache.lucene.search.Query import org.apache.lucene.search.TermQuery import org.apache.lucene.util.Bits import org.apache.lucene.util.BytesRef import org.apache.lucene.util.FixedBitSet import class org.apache.solr.search.DocSetUtil public static public static return >> + DocIterator DocIterator boolean boolean int int public static public static decl_stmt org.apache.solr.search.DocIterator = decl_stmt org.apache.solr.search.DocIterator = for decl_stmt boolean = call DocIterator.hasNext() call DocIterator.hasNext() call DocIterator.hasNext() call DocIterator.hasNext() call DocIterator.hasNext() decl_stmt boolean = call DocIterator.hasNext() call DocIterator.hasNext() call DocIterator.hasNext() call DocIterator.hasNext() call DocIterator.hasNext() if != return if ! return decl_stmt int = call org.apache.solr.search.DocIterator.nextDoc() call org.apache.solr.search.DocIterator.nextDoc() call org.apache.solr.search.DocIterator.nextDoc() call org.apache.solr.search.DocIterator.nextDoc() call org.apache.solr.search.DocIterator.nextDoc() decl_stmt int = call org.apache.solr.search.DocIterator.nextDoc() call org.apache.solr.search.DocIterator.nextDoc() call org.apache.solr.search.DocIterator.nextDoc() call org.apache.solr.search.DocIterator.nextDoc() call org.apache.solr.search.DocIterator.nextDoc() if != return Filter DocSet public static public static throws if != decl_stmt org.apache.solr.search.Filter = = new if instanceof decl_stmt org.apache.solr.search.DocSet = return else if instanceof decl_stmt org.apache.solr.search.DocSet = return return DocSetCollector int public static public static throws decl_stmt int = decl_stmt org.apache.solr.search.DocSetCollector = new return call org.apache.solr.search.DocSetCollector.getDocSet() call org.apache.solr.search.DocSetCollector.getDocSet() call org.apache.solr.search.DocSetCollector.getDocSet() call org.apache.solr.search.DocSetCollector.getDocSet() call org.apache.solr.search.DocSetCollector.getDocSet() int int int Fields decl List DirectoryReader BytesRef String LeafReader Terms int TermsEnum decl PostingsEnum public static public static throws decl_stmt org.apache.lucene.index.DirectoryReader = decl_stmt int = decl_stmt int = decl_stmt java.lang.String = decl_stmt org.apache.lucene.util.BytesRef = decl_stmt int = decl_stmt int = - decl_stmt java.util.List < = call DirectoryReader.leaves() call DirectoryReader.leaves() call DirectoryReader.leaves() call DirectoryReader.leaves() call DirectoryReader.leaves() decl_stmt org.apache.lucene.index.PostingsEnum = new call decl List.size() call decl List.size() call decl List.size() call decl List.size() call decl List.size() for : assert call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() == decl_stmt org.apache.lucene.index.LeafReader = decl_stmt Fields = call LeafReader.fields() call LeafReader.fields() call LeafReader.fields() call LeafReader.fields() call LeafReader.fields() decl_stmt org.apache.lucene.index.Terms = call Fields.terms() call Fields.terms() call Fields.terms() call Fields.terms() call Fields.terms() if == continue decl_stmt org.apache.lucene.index.TermsEnum = call Terms.iterator() call Terms.iterator() call Terms.iterator() call Terms.iterator() call Terms.iterator() if call org.apache.lucene.index.TermsEnum.seekExact(BytesRef,TermState) call org.apache.lucene.index.TermsEnum.seekExact(BytesRef,TermState) call org.apache.lucene.index.TermsEnum.seekExact(BytesRef,TermState) call org.apache.lucene.index.TermsEnum.seekExact(BytesRef,TermState) call org.apache.lucene.index.TermsEnum.seekExact(BytesRef,TermState) += call org.apache.lucene.index.TermsEnum.docFreq() call org.apache.lucene.index.TermsEnum.docFreq() call org.apache.lucene.index.TermsEnum.docFreq() call org.apache.lucene.index.TermsEnum.docFreq() call org.apache.lucene.index.TermsEnum.docFreq() = call org.apache.lucene.index.TermsEnum.postings(PostingsEnum) call org.apache.lucene.index.TermsEnum.postings(PostingsEnum) call org.apache.lucene.index.TermsEnum.postings(PostingsEnum) call org.apache.lucene.index.TermsEnum.postings(PostingsEnum) call org.apache.lucene.index.TermsEnum.postings(PostingsEnum) if < = if == return if <= return return int int Bits decl int LeafReaderContext int int PostingsEnum private static private static < throws decl_stmt int = new decl_stmt int = for = < ++ decl_stmt org.apache.lucene.index.PostingsEnum = if == continue decl_stmt org.apache.lucene.index.LeafReaderContext = decl_stmt org.apache.lucene.util.Bits = call org.apache.lucene.index.LeafReaderContext.reader() call org.apache.lucene.index.LeafReaderContext.reader() call org.apache.lucene.index.LeafReaderContext.reader() call org.apache.lucene.index.LeafReaderContext.reader() call org.apache.lucene.index.LeafReaderContext.reader() decl_stmt int = for decl_stmt int = call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() if == break if != && ! call Bits.get() call Bits.get() call Bits.get() call Bits.get() call Bits.get() continue decl_stmt int = + ++ = return new int int int Bits DocSet LeafReaderContext int int BitDocSet decl long PostingsEnum private static private static < throws decl_stmt long = new decl_stmt int = for = < ++ decl_stmt org.apache.lucene.index.PostingsEnum = if == continue decl_stmt org.apache.lucene.index.LeafReaderContext = decl_stmt org.apache.lucene.util.Bits = call org.apache.lucene.index.LeafReaderContext.reader() call org.apache.lucene.index.LeafReaderContext.reader() call org.apache.lucene.index.LeafReaderContext.reader() call org.apache.lucene.index.LeafReaderContext.reader() call org.apache.lucene.index.LeafReaderContext.reader() decl_stmt int = for decl_stmt int = call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() if == break if != && ! call Bits.get() call Bits.get() call Bits.get() call Bits.get() call Bits.get() continue decl_stmt int = + >> |= << ++ decl_stmt org.apache.solr.search.BitDocSet = new new decl_stmt int = if < decl_stmt org.apache.solr.search.DocSet = return return int int FixedBitSet decl int public static public static decl_stmt int = decl_stmt int = new decl_stmt org.apache.lucene.util.FixedBitSet = decl_stmt int = - for = < ++ = call org.apache.lucene.util.FixedBitSet.nextSetBit(int) call org.apache.lucene.util.FixedBitSet.nextSetBit(int) call org.apache.lucene.util.FixedBitSet.nextSetBit(int) call org.apache.lucene.util.FixedBitSet.nextSetBit(int) call org.apache.lucene.util.FixedBitSet.nextSetBit(int) + = return new