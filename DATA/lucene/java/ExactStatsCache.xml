org.apache.solr.search.stats com.google.common.collect.Lists import org.apache.lucene.index.IndexReaderContext import org.apache.lucene.index.Term import org.apache.lucene.index.TermContext import org.apache.lucene.search.CollectionStatistics import org.apache.lucene.search.Query import org.apache.lucene.search.TermStatistics import org.apache.solr.client.solrj.SolrResponse import org.apache.solr.common.SolrException import org.apache.solr.common.SolrException.ErrorCode import org.apache.solr.common.params.ModifiableSolrParams import org.apache.solr.common.params.ShardParams import org.apache.solr.common.util.NamedList import org.apache.solr.core.PluginInfo import org.apache.solr.handler.component.ResponseBuilder import org.apache.solr.handler.component.ShardRequest import org.apache.solr.handler.component.ShardResponse import org.apache.solr.request.SolrQueryRequest import org.apache.solr.search.SolrIndexSearcher import org.slf4j.Logger import org.slf4j.LoggerFactory import java.io.IOException import java.lang.invoke.MethodHandles import java.util.Collections import java.util.HashMap import java.util.HashSet import java.util.List import java.util.Map import java.util.Map.Entry import java.util.Set import class org.apache.solr.search.stats.ExactStatsCache super super extends String String String Logger String decl Map decl Map public public decl_stmt java.util.Map < = < decl_stmt java.util.Map < = < if == = if == = call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call decl Map.size() call decl Map.size() call decl Map.size() call decl Map.size() call decl Map.size() return new public public ShardRequest public public decl_stmt org.apache.solr.handler.component.ShardRequest = new = = new call ShardRequest.params() call ShardRequest.params() call ShardRequest.params() call ShardRequest.params() call ShardRequest.params() call ShardRequest.params() call ShardRequest.params() call ShardRequest.params() call ShardRequest.params() return String decl Map decl NamedList SolrResponse decl Set String String decl List public public < decl_stmt java.util.Set < = new <> for : call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() decl_stmt java.lang.String = decl_stmt org.apache.solr.client.solrj.SolrResponse = decl_stmt org.apache.solr.common.util.NamedList < = call SolrResponse.getResponse() call SolrResponse.getResponse() call SolrResponse.getResponse() call SolrResponse.getResponse() call SolrResponse.getResponse() decl_stmt java.lang.String = call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() if != decl_stmt java.util.List < = call decl NamedList.getAll() call decl NamedList.getAll() call decl NamedList.getAll() call decl NamedList.getAll() call decl NamedList.getAll() call decl Set.addAll() call decl Set.addAll() call decl Set.addAll() call decl Set.addAll() call decl Set.addAll() decl_stmt java.lang.String = call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() decl_stmt java.util.Map < = if != if call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() > if call Logger.isDebugEnabled() call Logger.isDebugEnabled() call Logger.isDebugEnabled() call Logger.isDebugEnabled() call Logger.isDebugEnabled() decl Map protected protected < decl_stmt java.util.Map < < = < < if == = new <> call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() decl Map decl Map protected protected decl_stmt java.util.Map < < = < < if == = decl_stmt java.util.Map < < = < < if == = call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() decl Map decl Map protected protected decl_stmt java.util.Map < = if != decl_stmt java.util.Map < < = < < if == = new <> call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() String decl HashSet String Query TermContext IndexReaderContext decl HashMap decl HashMap TermStatistics public public decl_stmt org.apache.lucene.search.Query = try decl_stmt java.util.HashSet < = new <> decl_stmt IndexReaderContext = decl_stmt HashMap < = new <> decl_stmt HashMap < = new <> for : decl_stmt org.apache.lucene.index.TermContext = decl_stmt org.apache.lucene.search.TermStatistics = if call TermStatistics.docFreq() call TermStatistics.docFreq() call TermStatistics.docFreq() call TermStatistics.docFreq() call TermStatistics.docFreq() == continue call decl HashMap.put() call decl HashMap.put() call decl HashMap.put() call decl HashMap.put() call decl HashMap.put() new if ! call decl HashMap.containsKey() call decl HashMap.containsKey() call decl HashMap.containsKey() call decl HashMap.containsKey() call decl HashMap.containsKey() call decl HashMap.put() call decl HashMap.put() call decl HashMap.put() call decl HashMap.put() call decl HashMap.put() new if call decl HashMap.size() call decl HashMap.size() call decl HashMap.size() call decl HashMap.size() call decl HashMap.size() != && call decl HashMap.size() call decl HashMap.size() call decl HashMap.size() call decl HashMap.size() call decl HashMap.size() != decl_stmt java.lang.String = decl_stmt java.lang.String = if call Logger.isDebugEnabled() call Logger.isDebugEnabled() call Logger.isDebugEnabled() call Logger.isDebugEnabled() call Logger.isDebugEnabled() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() + + + + + + + catch call Logger.error() call Logger.error() call Logger.error() call Logger.error() call Logger.error() + call org.apache.lucene.search.Query.toString() call org.apache.lucene.search.Query.toString() call org.apache.lucene.search.Query.toString() call org.apache.lucene.search.Query.toString() call org.apache.lucene.search.Query.toString() + throw new decl List TermStats decl String decl Set TermStats decl Map decl Map ModifiableSolrParams decl Map public public |= decl_stmt org.apache.solr.common.params.ModifiableSolrParams = decl_stmt java.util.List < = < if != decl_stmt java.util.Set < = new <> for : decl_stmt java.lang.String = call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() decl_stmt java.util.Map < = new <> decl_stmt java.util.Map < = new <> for : decl_stmt java.util.Map < = if == continue for < : call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() if ! call decl Set.contains() call decl Set.contains() call decl Set.contains() call decl Set.contains() call decl Set.contains() continue decl_stmt org.apache.solr.search.stats.CollectionStats = call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() if == = new call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call TermStats.add() call TermStats.add() call TermStats.add() call TermStats.add() call TermStats.add() call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) for : call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) for : decl_stmt org.apache.solr.search.stats.TermStats = if == || == continue decl_stmt org.apache.solr.search.stats.TermStats = call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() if == = new call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call TermStats.add() call TermStats.add() call TermStats.add() call TermStats.add() call TermStats.add() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) call org.apache.solr.common.params.ModifiableSolrParams.add(String,String) decl Map protected < protected < decl_stmt java.util.Map < < = < < if == = return call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() decl Map decl Map protected protected decl_stmt java.util.Map < < = < < if == = decl_stmt java.util.Map < = call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() return != call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() : String decl Map String decl Map public public decl_stmt java.lang.String = decl_stmt java.lang.String = if != decl_stmt java.util.Map < = if != for < : call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() if == return decl_stmt java.util.Map < = if != for < : call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() decl Map protected protected < decl_stmt java.util.Map < = < if == = new <> call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() decl Map protected protected < decl_stmt java.util.Map < = < if == = new <> call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() TermStats public public throws decl_stmt org.apache.solr.search.stats.TermStats = if == call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() return else return call org.apache.solr.search.stats.TermStats.toTermStatistics() call org.apache.solr.search.stats.TermStats.toTermStatistics() call org.apache.solr.search.stats.TermStats.toTermStatistics() call org.apache.solr.search.stats.TermStats.toTermStatistics() call org.apache.solr.search.stats.TermStats.toTermStatistics() CollectionStats public public throws decl_stmt org.apache.solr.search.stats.CollectionStats = if == call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() return else return call CollectionStats.toCollectionStatistics() call CollectionStats.toCollectionStatistics() call CollectionStats.toCollectionStatistics() call CollectionStats.toCollectionStatistics() call CollectionStats.toCollectionStatistics()