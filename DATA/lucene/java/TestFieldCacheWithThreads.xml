org.apache.lucene.uninverting java.io.IOException import java.util.ArrayList import java.util.HashSet import java.util.List import java.util.Random import java.util.Set import java.util.concurrent.CountDownLatch import org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.document.BinaryDocValuesField import org.apache.lucene.document.Document import org.apache.lucene.document.NumericDocValuesField import org.apache.lucene.document.SortedDocValuesField import org.apache.lucene.index.LeafReader import org.apache.lucene.index.BinaryDocValues import org.apache.lucene.index.DirectoryReader import org.apache.lucene.index.IndexReader import org.apache.lucene.index.IndexWriter import org.apache.lucene.index.NumericDocValues import org.apache.lucene.index.RandomIndexWriter import org.apache.lucene.index.SortedDocValues import org.apache.lucene.store.Directory import org.apache.lucene.util.BytesRef import org.apache.lucene.util.LuceneTestCase import org.apache.lucene.util.TestUtil import class org.apache.lucene.uninverting.TestFieldCacheWithThreads super super extends Random int long LeafReader decl List decl List BinaryDocValues SortedDocValues int CountDownLatch decl List decl List int BytesRef int Document Thread BytesRef IndexReader IndexWriter Directory NumericDocValues public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriter = new new decl_stmt java.util.List final final final < = new <> decl_stmt java.util.List final final final < = new <> decl_stmt java.util.List final final final < = new <> decl_stmt int final final = for = < ++ decl_stmt org.apache.lucene.document.Document = new decl_stmt long = call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new decl_stmt org.apache.lucene.util.BytesRef = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() call org.apache.lucene.index.IndexWriter.forceMerge(int) call org.apache.lucene.index.IndexWriter.forceMerge(int) call org.apache.lucene.index.IndexWriter.forceMerge(int) call org.apache.lucene.index.IndexWriter.forceMerge(int) call org.apache.lucene.index.IndexWriter.forceMerge(int) decl_stmt org.apache.lucene.index.IndexReader final final = call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexReader.leaves() call org.apache.lucene.index.IndexReader.leaves() call org.apache.lucene.index.IndexReader.leaves() call org.apache.lucene.index.IndexReader.leaves() call org.apache.lucene.index.IndexReader.leaves() decl_stmt org.apache.lucene.index.LeafReader final final = call org.apache.lucene.index.IndexReader.leaves() call org.apache.lucene.index.IndexReader.leaves() call org.apache.lucene.index.IndexReader.leaves() call org.apache.lucene.index.IndexReader.leaves() call org.apache.lucene.index.IndexReader.leaves() decl_stmt int = decl_stmt java.util.List < = new <> decl_stmt java.util.concurrent.CountDownLatch final final = new for = < ++ decl_stmt java.util.Random final final = new decl_stmt java.lang.Thread = new public public try decl_stmt NumericDocValues = decl_stmt BinaryDocValues = decl_stmt org.apache.lucene.index.SortedDocValues = call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) decl_stmt int = for = < ++ decl_stmt int = call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) switch call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) case call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() break case call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() break case call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() break case call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() break decl_stmt org.apache.lucene.util.BytesRef = call BinaryDocValues.get() call BinaryDocValues.get() call BinaryDocValues.get() call BinaryDocValues.get() call BinaryDocValues.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() = call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() catch throw new call java.lang.Thread.start() call java.lang.Thread.start() call java.lang.Thread.start() call java.lang.Thread.start() call java.lang.Thread.start() call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() for : call java.lang.Thread.join(long,int) call java.lang.Thread.join(long,int) call java.lang.Thread.join(long,int) call java.lang.Thread.join(long,int) call java.lang.Thread.join(long,int) call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() SortedDocValues int int BytesRef BinaryDocValues NumericDocValues public public try decl_stmt NumericDocValues = decl_stmt BinaryDocValues = decl_stmt org.apache.lucene.index.SortedDocValues = decl_stmt int = for = < ++ decl_stmt int = switch case break case break case break case break decl_stmt org.apache.lucene.util.BytesRef = call BinaryDocValues.get() call BinaryDocValues.get() call BinaryDocValues.get() call BinaryDocValues.get() call BinaryDocValues.get() = call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) catch throw new int BytesRef Random int int SortedDocValues NumericDocValues Document RandomIndexWriter SortedDocValues String DirectoryReader decl Thread decl List BytesRef LeafReader boolean decl Set int Directory long public public throws decl_stmt java.util.Random = decl_stmt int final final = decl_stmt org.apache.lucene.store.Directory final final = decl_stmt org.apache.lucene.index.RandomIndexWriter final final = new decl_stmt boolean final final = call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() decl_stmt java.util.Set final final final < = new <> if + + + decl_stmt int = decl_stmt java.util.List final final final < = new <> while < decl_stmt java.lang.String final final if call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() = else = decl_stmt org.apache.lucene.util.BytesRef final final = new if ! if call decl Set.contains() call decl Set.contains() call decl Set.contains() call decl Set.contains() call decl Set.contains() continue call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() if + + + decl_stmt org.apache.lucene.document.Document final final = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) ++ if call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) == call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) call org.apache.lucene.index.RandomIndexWriter.forceMerge(int) decl_stmt org.apache.lucene.index.DirectoryReader final final = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() decl_stmt org.apache.lucene.index.LeafReader final final = decl_stmt long final final = + : decl_stmt int final final = decl_stmt java.lang.Thread = new for = < ++ = new public public decl_stmt java.util.Random = decl_stmt org.apache.lucene.index.SortedDocValues final final decl_stmt NumericDocValues final final try = call LeafReader.getSortedDocValues() call LeafReader.getSortedDocValues() call LeafReader.getSortedDocValues() call LeafReader.getSortedDocValues() call LeafReader.getSortedDocValues() = call LeafReader.getNumericDocValues() call LeafReader.getNumericDocValues() call LeafReader.getNumericDocValues() call LeafReader.getNumericDocValues() call LeafReader.getNumericDocValues() catch throw new while < decl_stmt org.apache.lucene.index.SortedDocValues final final = for = < ++ decl_stmt int final final = call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call LeafReader.maxDoc() call LeafReader.maxDoc() call LeafReader.maxDoc() call LeafReader.maxDoc() call LeafReader.maxDoc() decl_stmt org.apache.lucene.util.BytesRef = call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() int call NumericDocValues.get() call NumericDocValues.get() call NumericDocValues.get() call NumericDocValues.get() call NumericDocValues.get() for : call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() BytesRef int NumericDocValues Random SortedDocValues SortedDocValues public public decl_stmt java.util.Random = decl_stmt org.apache.lucene.index.SortedDocValues final final decl_stmt NumericDocValues final final try = = catch throw new while < decl_stmt org.apache.lucene.index.SortedDocValues final final = for = < ++ decl_stmt int final final = call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) call java.util.Random.nextInt(int) decl_stmt org.apache.lucene.util.BytesRef = call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) call org.apache.lucene.index.SortedDocValues.get(int) int call NumericDocValues.get() call NumericDocValues.get() call NumericDocValues.get() call NumericDocValues.get() call NumericDocValues.get()