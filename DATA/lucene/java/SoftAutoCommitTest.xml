org.apache.solr.update static static java.util.concurrent.TimeUnit.MILLISECONDS import static static java.util.concurrent.TimeUnit.SECONDS import static static org.junit.Assert.assertEquals import java.util.concurrent.BlockingQueue import java.util.concurrent.LinkedBlockingQueue import java.util.concurrent.TimeUnit import org.apache.lucene.util.Constants import org.apache.lucene.util.LuceneTestCase.Slow import org.apache.solr.common.util.NamedList import org.apache.solr.core.SolrCore import org.apache.solr.core.SolrEventListener import org.apache.solr.search.SolrIndexSearcher import org.apache.solr.util.AbstractSolrTestCase import org.junit.Before import org.junit.BeforeClass import class annotation org.apache.solr.update.SoftAutoCommitTest super super extends DirectUpdateHandler2 MockEventListener public static public static throws SolrCore public public throws decl_stmt org.apache.solr.core.SolrCore = = call org.apache.solr.core.SolrCore.getUpdateHandler() call org.apache.solr.core.SolrCore.getUpdateHandler() call org.apache.solr.core.SolrCore.getUpdateHandler() call org.apache.solr.core.SolrCore.getUpdateHandler() call org.apache.solr.core.SolrCore.getUpdateHandler() = new call org.apache.solr.core.SolrCore.registerNewSearcherListener(SolrEventListener) call org.apache.solr.core.SolrCore.registerNewSearcherListener(SolrEventListener) call org.apache.solr.core.SolrCore.registerNewSearcherListener(SolrEventListener) call org.apache.solr.core.SolrCore.registerNewSearcherListener(SolrEventListener) call org.apache.solr.core.SolrCore.registerNewSearcherListener(SolrEventListener) call DirectUpdateHandler2.registerSoftCommitCallback() call DirectUpdateHandler2.registerSoftCommitCallback() call DirectUpdateHandler2.registerSoftCommitCallback() call DirectUpdateHandler2.registerSoftCommitCallback() call DirectUpdateHandler2.registerSoftCommitCallback() call DirectUpdateHandler2.registerCommitCallback() call DirectUpdateHandler2.registerCommitCallback() call DirectUpdateHandler2.registerCommitCallback() call DirectUpdateHandler2.registerCommitCallback() call DirectUpdateHandler2.registerCommitCallback() public public throws long Long CommitTracker int CommitTracker long int Long Long long long Long Long long public public throws decl_stmt int final final = decl_stmt int final final = decl_stmt org.apache.solr.update.CommitTracker = decl_stmt org.apache.solr.update.CommitTracker = call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) - call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) - decl_stmt long = call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt java.lang.Long = call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() * call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt java.lang.Long = call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() * call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt java.lang.Long = call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() * call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt long final final = - + + + >= decl_stmt long final final = - + + + >= decl_stmt long = * - decl_stmt long final final = - + + + + < + + + <= call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt java.lang.Long = call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() == : call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() decl_stmt java.lang.Long = call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() if != call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() if != + + + <= else + + + <= else call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() call org.apache.solr.update.CommitTracker.getCommitCount() if != || != call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() long CommitTracker int CommitTracker long int Long Long long long long Long public public throws decl_stmt int final final = decl_stmt int final final = decl_stmt org.apache.solr.update.CommitTracker = decl_stmt org.apache.solr.update.CommitTracker = call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) - call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) - decl_stmt java.lang.Long decl_stmt java.lang.Long call MockEventListener.clear() call MockEventListener.clear() call MockEventListener.clear() call MockEventListener.clear() call MockEventListener.clear() decl_stmt long = call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() = call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() * call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt java.lang.Long = call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.searcher() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() = call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() * call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt long final final = - + + + >= decl_stmt long final final = - + + + >= decl_stmt long = * - decl_stmt long final final = - + + + + < + + + <= call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() long Long long CommitTracker int CommitTracker long int long long long Long long public public throws decl_stmt int final final = decl_stmt int final final = decl_stmt org.apache.solr.update.CommitTracker = decl_stmt org.apache.solr.update.CommitTracker = call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) - call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setTimeUpperBound(long) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) call org.apache.solr.update.CommitTracker.setDocsUpperBound(int) - decl_stmt long = for = < ++ + + decl_stmt long = - decl_stmt long = + - decl_stmt long = long double / decl_stmt long = long double / for = <= ++ decl_stmt java.lang.Long = call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() call MockEventListener.soft() * + call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt long = - + + + + + + + >= * for = <= ++ decl_stmt java.lang.Long = call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() call MockEventListener.hard() + call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() call MockEventListener.assertSaneOffers() decl_stmt long = - + + + + + + + >= *