org.apache.lucene.search.suggest.document java.io.ByteArrayOutputStream import org.apache.lucene.analysis.Analyzer import org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.analysis.TokenStream import org.apache.lucene.analysis.standard.StandardAnalyzer import org.apache.lucene.document.Document import org.apache.lucene.index.DirectoryReader import org.apache.lucene.index.RandomIndexWriter import org.apache.lucene.index.Term import org.apache.lucene.store.Directory import org.apache.lucene.store.OutputStreamDataOutput import org.apache.lucene.util.BytesRef import org.apache.lucene.util.CharsRefBuilder import org.apache.lucene.util.LuceneTestCase import org.junit.After import org.junit.Before import org.junit.Test import static static org.apache.lucene.analysis.BaseTokenStreamTestCase.assertTokenStreamContents import static static org.apache.lucene.search.suggest.document.TestSuggestField.Entry import static static org.apache.lucene.search.suggest.document.TestSuggestField.assertSuggestions import static static org.apache.lucene.search.suggest.document.TestSuggestField.iwcWithSuggestField import class org.apache.lucene.search.suggest.document.TestContextSuggestField super super extends Directory public public throws = public public throws call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() IllegalArgumentException public public throws decl_stmt IllegalArgumentException = new call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() CharsRefBuilder IllegalArgumentException Document Analyzer public public throws decl_stmt org.apache.lucene.util.CharsRefBuilder = new call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.setCharAt(int,char) call org.apache.lucene.util.CharsRefBuilder.setCharAt(int,char) call org.apache.lucene.util.CharsRefBuilder.setCharAt(int,char) call org.apache.lucene.util.CharsRefBuilder.setCharAt(int,char) call org.apache.lucene.util.CharsRefBuilder.setCharAt(int,char) char decl_stmt org.apache.lucene.analysis.Analyzer = new decl_stmt org.apache.lucene.document.Document = new try = new decl_stmt IllegalArgumentException = call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.util.CharsRefBuilder.toString() call org.apache.lucene.util.CharsRefBuilder.toString() call org.apache.lucene.util.CharsRefBuilder.toString() call org.apache.lucene.util.CharsRefBuilder.toString() call org.apache.lucene.util.CharsRefBuilder.toString() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call org.apache.lucene.document.Document.clear() call org.apache.lucene.document.Document.clear() call org.apache.lucene.document.Document.clear() call org.apache.lucene.document.Document.clear() call org.apache.lucene.document.Document.clear() try = new decl_stmt IllegalArgumentException = call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.util.CharsRefBuilder.toString() call org.apache.lucene.util.CharsRefBuilder.toString() call org.apache.lucene.util.CharsRefBuilder.toString() call org.apache.lucene.util.CharsRefBuilder.toString() call org.apache.lucene.util.CharsRefBuilder.toString() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() TokenStream decl String BytesRef CharsRefBuilder Analyzer ContextSuggestField ByteArrayOutputStream BytesRef CompletionAnalyzer public public throws decl_stmt org.apache.lucene.analysis.Analyzer = new decl_stmt org.apache.lucene.search.suggest.document.ContextSuggestField = new decl_stmt org.apache.lucene.util.BytesRef = new decl_stmt java.io.ByteArrayOutputStream = new try = new + decl_stmt org.apache.lucene.util.BytesRef = new call ByteArrayOutputStream.toByteArray() call ByteArrayOutputStream.toByteArray() call ByteArrayOutputStream.toByteArray() call ByteArrayOutputStream.toByteArray() call ByteArrayOutputStream.toByteArray() decl_stmt java.lang.String = new decl_stmt org.apache.lucene.util.CharsRefBuilder = new call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) char call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) char call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) = call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.clear() call org.apache.lucene.util.CharsRefBuilder.clear() call org.apache.lucene.util.CharsRefBuilder.clear() call org.apache.lucene.util.CharsRefBuilder.clear() call org.apache.lucene.util.CharsRefBuilder.clear() call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) char call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) char call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) call org.apache.lucene.util.CharsRefBuilder.append(char) = call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.toCharsRef() call org.apache.lucene.util.CharsRefBuilder.toCharsRef() decl_stmt org.apache.lucene.analysis.TokenStream = new call ContextSuggestField.tokenStream() call ContextSuggestField.tokenStream() call ContextSuggestField.tokenStream() call ContextSuggestField.tokenStream() call ContextSuggestField.tokenStream() new call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() new decl_stmt org.apache.lucene.search.suggest.document.CompletionAnalyzer = new = new call ContextSuggestField.tokenStream() call ContextSuggestField.tokenStream() call ContextSuggestField.tokenStream() call ContextSuggestField.tokenStream() call ContextSuggestField.tokenStream() new call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() new IllegalArgumentException Document Analyzer public public throws decl_stmt org.apache.lucene.analysis.Analyzer = new decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new try = new decl_stmt IllegalArgumentException = call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() SuggestIndexSearcher TopSuggestDocs RandomIndexWriter Analyzer DirectoryReader CompletionQuery Document public public throws decl_stmt org.apache.lucene.analysis.Analyzer = new decl_stmt org.apache.lucene.index.RandomIndexWriter = new decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) if call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() decl_stmt org.apache.lucene.index.DirectoryReader = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() decl_stmt org.apache.lucene.search.suggest.document.SuggestIndexSearcher = new decl_stmt org.apache.lucene.search.suggest.document.CompletionQuery = new new decl_stmt org.apache.lucene.search.suggest.document.TopSuggestDocs = call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) new new new new = new new = call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) new new new new call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() SuggestIndexSearcher TopSuggestDocs RandomIndexWriter DirectoryReader ContextQuery Document CompletionAnalyzer public public throws decl_stmt org.apache.lucene.search.suggest.document.CompletionAnalyzer = new new decl_stmt org.apache.lucene.index.RandomIndexWriter = new decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) if call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() call org.apache.lucene.index.RandomIndexWriter.commit() decl_stmt org.apache.lucene.index.DirectoryReader = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() decl_stmt org.apache.lucene.search.suggest.document.SuggestIndexSearcher = new decl_stmt org.apache.lucene.search.suggest.document.ContextQuery = new new new decl_stmt org.apache.lucene.search.suggest.document.TopSuggestDocs = call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) new new new new call org.apache.lucene.search.suggest.document.ContextQuery.addContext(CharSequence,float) call org.apache.lucene.search.suggest.document.ContextQuery.addContext(CharSequence,float) call org.apache.lucene.search.suggest.document.ContextQuery.addContext(CharSequence,float) call org.apache.lucene.search.suggest.document.ContextQuery.addContext(CharSequence,float) call org.apache.lucene.search.suggest.document.ContextQuery.addContext(CharSequence,float) = call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) call org.apache.lucene.search.suggest.document.SuggestIndexSearcher.suggest(CompletionQuery,TopSuggestDocsCollector) new call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call DirectoryReader.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close()