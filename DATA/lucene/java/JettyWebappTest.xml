org.apache.solr.client.solrj.embedded java.io.File import java.net.URL import java.util.Locale import java.util.Random import com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule import org.apache.commons.io.IOUtils import org.apache.http.Header import org.apache.http.HttpResponse import org.apache.http.client.HttpClient import org.apache.http.client.methods.HttpGet import org.apache.http.client.methods.HttpRequestBase import org.apache.http.impl.client.HttpClients import org.apache.solr.SolrJettyTestBase import org.apache.solr.SolrTestCaseJ4 import org.apache.solr.client.solrj.impl.HttpClientUtil import org.apache.solr.util.ExternalPaths import org.eclipse.jetty.server.Connector import org.eclipse.jetty.server.HttpConnectionFactory import org.eclipse.jetty.server.Server import org.eclipse.jetty.server.ServerConnector import org.eclipse.jetty.server.session.HashSessionIdManager import org.eclipse.jetty.webapp.WebAppContext import org.junit.Rule import org.junit.rules.RuleChain import org.junit.rules.TestRule import class org.apache.solr.client.solrj.embedded.JettyWebappTest super super extends TestRule int String Server ServerConnector String File public public throws decl_stmt File = call File.mkdirs() call File.mkdirs() call File.mkdirs() call File.mkdirs() call File.mkdirs() call File.getCanonicalPath() call File.getCanonicalPath() call File.getCanonicalPath() call File.getCanonicalPath() call File.getCanonicalPath() decl_stmt java.lang.String = = new call Server.setSessionIdManager() call Server.setSessionIdManager() call Server.setSessionIdManager() call Server.setSessionIdManager() call Server.setSessionIdManager() new new new decl_stmt ServerConnector = new new call ServerConnector.setIdleTimeout() call ServerConnector.setIdleTimeout() call ServerConnector.setIdleTimeout() call ServerConnector.setIdleTimeout() call ServerConnector.setIdleTimeout() * * call ServerConnector.setSoLingerTime() call ServerConnector.setSoLingerTime() call ServerConnector.setSoLingerTime() call ServerConnector.setSoLingerTime() call ServerConnector.setSoLingerTime() - call ServerConnector.setPort() call ServerConnector.setPort() call ServerConnector.setPort() call ServerConnector.setPort() call ServerConnector.setPort() call Server.setConnectors() call Server.setConnectors() call Server.setConnectors() call Server.setConnectors() call Server.setConnectors() new call Server.setStopAtShutdown() call Server.setStopAtShutdown() call Server.setStopAtShutdown() call Server.setStopAtShutdown() call Server.setStopAtShutdown() call Server.start() call Server.start() call Server.start() call Server.start() call Server.start() = call ServerConnector.getLocalPort() call ServerConnector.getLocalPort() call ServerConnector.getLocalPort() call ServerConnector.getLocalPort() call ServerConnector.getLocalPort() public public throws try call Server.stop() call Server.stop() call Server.stop() call Server.stop() call Server.stop() catch String decl byte HttpRequestBase Header HttpClient HttpResponse public public throws decl_stmt java.lang.String = + + + decl_stmt byte = new decl_stmt sun.net.www.http.HttpClient = decl_stmt HttpRequestBase = new decl_stmt HttpResponse = call HttpClient.execute() call HttpClient.execute() call HttpClient.execute() call HttpClient.execute() call HttpClient.execute() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() call HttpResponse.getStatusLine() decl_stmt Header = call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call HttpResponse.getFirstHeader() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call Header.getValue() call HttpRequestBase.releaseConnection() call HttpRequestBase.releaseConnection() call HttpRequestBase.releaseConnection() call HttpRequestBase.releaseConnection() call HttpRequestBase.releaseConnection()