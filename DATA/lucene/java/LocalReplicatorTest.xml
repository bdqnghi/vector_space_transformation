org.apache.lucene.replicator java.io.FileNotFoundException import java.io.IOException import java.nio.file.NoSuchFileException import java.util.HashMap import java.util.List import java.util.Map.Entry import org.apache.lucene.document.Document import org.apache.lucene.index.DirectoryReader import org.apache.lucene.index.IndexFileNames import org.apache.lucene.index.IndexWriter import org.apache.lucene.index.IndexWriterConfig import org.apache.lucene.index.SnapshotDeletionPolicy import org.apache.lucene.store.AlreadyClosedException import org.apache.lucene.store.Directory import org.apache.lucene.store.MockDirectoryWrapper import org.apache.lucene.util.IOUtils import org.junit.After import org.junit.Before import org.junit.Test import class org.apache.lucene.replicator.LocalReplicatorTest super super extends IndexWriter LocalReplicator String Directory IndexWriterConfig public public throws = decl_stmt org.apache.lucene.index.IndexWriterConfig = call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) new call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() = new = new public public throws call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() private private final final throws call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) new call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) call org.apache.lucene.index.IndexWriter.setCommitData(Map,boolean) new < call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) return new public public throws call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) SessionToken decl Entry public public throws call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) decl_stmt org.apache.lucene.replicator.SessionToken = call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() decl_stmt Entry < < = call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call decl Entry.getKey() call decl Entry.getKey() call decl Entry.getKey() call decl Entry.getKey() call decl Entry.getKey() call decl Entry.getValue() call decl Entry.getValue() call decl Entry.getValue() call decl Entry.getValue() call decl Entry.getValue() public public throws call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) public public throws call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.close() call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) SessionToken Revision public public throws decl_stmt org.apache.lucene.replicator.Revision = call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) decl_stmt org.apache.lucene.replicator.SessionToken = call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.Revision.getVersion() call org.apache.lucene.replicator.Revision.getVersion() call org.apache.lucene.replicator.Revision.getVersion() call org.apache.lucene.replicator.Revision.getVersion() call org.apache.lucene.replicator.Revision.getVersion() call LocalReplicator.release() call LocalReplicator.release() call LocalReplicator.release() call LocalReplicator.release() call LocalReplicator.release() call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) new = call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) Revision public public throws call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) decl_stmt org.apache.lucene.replicator.Revision = new call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) SessionToken public public throws call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) decl_stmt org.apache.lucene.replicator.SessionToken = call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) try call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() catch SessionToken public public throws call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) decl_stmt org.apache.lucene.replicator.SessionToken = call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.setExpirationThreshold(long) call org.apache.lucene.replicator.LocalReplicator.setExpirationThreshold(long) call org.apache.lucene.replicator.LocalReplicator.setExpirationThreshold(long) call org.apache.lucene.replicator.LocalReplicator.setExpirationThreshold(long) call org.apache.lucene.replicator.LocalReplicator.setExpirationThreshold(long) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call org.apache.lucene.replicator.LocalReplicator.obtainFile(String,String,String) call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() call SessionToken.sourceFiles() SessionToken Revision public public throws call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) decl_stmt org.apache.lucene.replicator.Revision = call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) decl_stmt org.apache.lucene.replicator.SessionToken = call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call org.apache.lucene.replicator.LocalReplicator.checkForUpdate(String) call Revision.compareTo() call Revision.compareTo() call Revision.compareTo() call Revision.compareTo() call Revision.compareTo() public public throws call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) + call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) call org.apache.lucene.replicator.LocalReplicator.publish(Revision) + +