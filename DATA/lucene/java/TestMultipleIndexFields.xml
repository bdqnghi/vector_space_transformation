org.apache.lucene.facet java.io.IOException import java.util.HashMap import java.util.Map import org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.analysis.MockTokenizer import org.apache.lucene.document.Document import org.apache.lucene.document.Field import org.apache.lucene.document.TextField import org.apache.lucene.facet.taxonomy.TaxonomyReader import org.apache.lucene.facet.taxonomy.TaxonomyWriter import org.apache.lucene.facet.taxonomy.directory.DirectoryTaxonomyReader import org.apache.lucene.facet.taxonomy.directory.DirectoryTaxonomyWriter import org.apache.lucene.index.LeafReader import org.apache.lucene.index.LeafReaderContext import org.apache.lucene.index.IndexReader import org.apache.lucene.index.IndexWriterConfig.OpenMode import org.apache.lucene.index.RandomIndexWriter import org.apache.lucene.search.IndexSearcher import org.apache.lucene.search.MatchAllDocsQuery import org.apache.lucene.store.Directory import org.apache.lucene.util.IOUtils import org.junit.Test import class org.apache.lucene.facet.TestMultipleIndexFields super super extends decl FacetField FacetsConfig private private decl_stmt org.apache.lucene.facet.FacetsConfig = new call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) return IndexSearcher Directory IndexReader TaxonomyReader RandomIndexWriter TaxonomyWriter Directory FacetsConfig FacetsCollector public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.RandomIndexWriter = new new decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyWriter = new decl_stmt org.apache.lucene.facet.FacetsConfig = decl_stmt org.apache.lucene.index.IndexReader = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyReader = new decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.FacetsCollector = call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() IndexSearcher decl Map Directory Facets IndexReader TaxonomyReader RandomIndexWriter TaxonomyWriter Directory FacetsConfig FacetsCollector public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.RandomIndexWriter = new new decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyWriter = new decl_stmt org.apache.lucene.facet.FacetsConfig = call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) decl_stmt org.apache.lucene.index.IndexReader = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyReader = new decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.FacetsCollector = decl_stmt java.util.Map < = new <> call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() decl_stmt Facets = new call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() IndexSearcher decl Map Directory Facets IndexReader TaxonomyReader RandomIndexWriter Facets TaxonomyWriter Directory FacetsConfig FacetsCollector public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.RandomIndexWriter = new new decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyWriter = new decl_stmt org.apache.lucene.facet.FacetsConfig = call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) decl_stmt org.apache.lucene.index.IndexReader = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyReader = new decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.FacetsCollector = decl_stmt java.util.Map < = new <> decl_stmt Facets = call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() decl_stmt Facets = new call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() LeafReader private private throws for : decl_stmt org.apache.lucene.index.LeafReader = if call LeafReader.getBinaryDocValues() call LeafReader.getBinaryDocValues() call LeafReader.getBinaryDocValues() call LeafReader.getBinaryDocValues() call LeafReader.getBinaryDocValues() != return + IndexSearcher decl Map Directory Facets IndexReader TaxonomyReader RandomIndexWriter TaxonomyWriter Directory FacetsConfig FacetsCollector public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.RandomIndexWriter = new new decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyWriter = new decl_stmt org.apache.lucene.facet.FacetsConfig = call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) decl_stmt org.apache.lucene.index.IndexReader = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyReader = new decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.FacetsCollector = decl_stmt java.util.Map < = new <> call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() decl_stmt Facets = new call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() IndexSearcher decl Map Directory Facets IndexReader TaxonomyReader RandomIndexWriter Facets TaxonomyWriter Directory FacetsConfig FacetsCollector public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.RandomIndexWriter = new new decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyWriter = new decl_stmt org.apache.lucene.facet.FacetsConfig = call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) decl_stmt org.apache.lucene.index.IndexReader = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() call TaxonomyWriter.commit() decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyReader = new decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.FacetsCollector = decl_stmt java.util.Map < = new <> decl_stmt Facets = call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() decl_stmt Facets = new call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() private private throws FacetsCollector private private throws decl_stmt org.apache.lucene.facet.FacetsCollector = new new return Document private private throws for : decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new