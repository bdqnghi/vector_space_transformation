org.apache.lucene.index java.io.IOException import org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.document.Document import org.apache.lucene.document.Field.Store import org.apache.lucene.document.StringField import org.apache.lucene.index.IndexWriterConfig.OpenMode import org.apache.lucene.search.IndexSearcher import org.apache.lucene.search.ReferenceManager import org.apache.lucene.search.SearcherFactory import org.apache.lucene.search.SearcherManager import org.apache.lucene.search.TermQuery import org.apache.lucene.search.TopDocs import org.apache.lucene.store.Directory import org.apache.lucene.store.RAMDirectory import org.apache.lucene.util.LuceneTestCase import class org.apache.lucene.index.TestTryDelete super super extends MergePolicy IndexWriter IndexWriterConfig private static private static throws decl_stmt org.apache.lucene.index.MergePolicy = new decl_stmt org.apache.lucene.index.IndexWriterConfig = new new call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setMergePolicy(MergePolicy) call org.apache.lucene.index.IndexWriterConfig.setOpenMode(OpenMode) call org.apache.lucene.index.IndexWriterConfig.setOpenMode(OpenMode) call org.apache.lucene.index.IndexWriterConfig.setOpenMode(OpenMode) call org.apache.lucene.index.IndexWriterConfig.setOpenMode(OpenMode) call org.apache.lucene.index.IndexWriterConfig.setOpenMode(OpenMode) decl_stmt org.apache.lucene.index.IndexWriter = new return Directory Document IndexWriter private static private static throws decl_stmt org.apache.lucene.store.Directory = new decl_stmt org.apache.lucene.index.IndexWriter = for = < ++ decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() return IndexSearcher TopDocs IndexWriter decl ReferenceManager IndexReader long Directory TrackingIndexWriter public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriter = decl_stmt org.apache.lucene.search.ReferenceManager < = new new decl_stmt org.apache.lucene.index.TrackingIndexWriter = new decl_stmt org.apache.lucene.search.IndexSearcher = call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new new decl_stmt long if decl_stmt org.apache.lucene.index.IndexReader = = call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() else = call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() != - call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() if call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() = call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new new IndexSearcher TopDocs IndexWriter decl ReferenceManager long Directory TrackingIndexWriter public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriter = decl_stmt org.apache.lucene.search.ReferenceManager < = new new decl_stmt org.apache.lucene.search.IndexSearcher = call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new new decl_stmt org.apache.lucene.index.TrackingIndexWriter = new decl_stmt long = call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.TrackingIndexWriter.tryDeleteDocument(IndexReader,int) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() = call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new new call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() = new = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new new IndexSearcher TopDocs IndexWriter decl ReferenceManager long Directory TrackingIndexWriter public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriter = decl_stmt org.apache.lucene.search.ReferenceManager < = new new decl_stmt org.apache.lucene.search.IndexSearcher = call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new new decl_stmt org.apache.lucene.index.TrackingIndexWriter = new decl_stmt long = call org.apache.lucene.index.TrackingIndexWriter.deleteDocuments(Query) call org.apache.lucene.index.TrackingIndexWriter.deleteDocuments(Query) call org.apache.lucene.index.TrackingIndexWriter.deleteDocuments(Query) call org.apache.lucene.index.TrackingIndexWriter.deleteDocuments(Query) call org.apache.lucene.index.TrackingIndexWriter.deleteDocuments(Query) new new call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call org.apache.lucene.index.IndexWriter.hasDeletions() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() call decl ReferenceManager.maybeRefresh() = call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() call decl ReferenceManager.acquire() = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new new