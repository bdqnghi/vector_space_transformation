org.apache.lucene.facet java.io.IOException import java.util.Random import org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.analysis.MockTokenizer import org.apache.lucene.document.Document import org.apache.lucene.document.Field import org.apache.lucene.document.TextField import org.apache.lucene.facet.taxonomy.TaxonomyWriter import org.apache.lucene.facet.taxonomy.directory.DirectoryTaxonomyReader import org.apache.lucene.facet.taxonomy.directory.DirectoryTaxonomyWriter import org.apache.lucene.index.IndexReader import org.apache.lucene.index.RandomIndexWriter import org.apache.lucene.index.Term import org.apache.lucene.search.IndexSearcher import org.apache.lucene.search.MatchAllDocsQuery import org.apache.lucene.search.Query import org.apache.lucene.search.QueryUtils import org.apache.lucene.search.ScoreDoc import org.apache.lucene.search.TermQuery import org.apache.lucene.search.TopDocs import org.apache.lucene.store.Directory import org.apache.lucene.util.IOUtils import org.junit.AfterClass import org.junit.BeforeClass import class org.apache.lucene.facet.TestDrillDownQuery super super extends Directory FacetsConfig Directory DirectoryTaxonomyReader IndexReader public static public static throws = = = = = Document RandomIndexWriter Random TaxonomyWriter public static public static throws = decl_stmt java.util.Random = decl_stmt org.apache.lucene.index.RandomIndexWriter = new new = decl_stmt org.apache.lucene.facet.taxonomy.TaxonomyWriter = new = new call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) if call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setHierarchical(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) call org.apache.lucene.facet.FacetsConfig.setMultiValued(String,boolean) if call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setIndexFieldName(String,String) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) call org.apache.lucene.facet.FacetsConfig.setRequireDimCount(String,boolean) for = < ++ decl_stmt org.apache.lucene.document.Document = new if == call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new if == call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new if == if call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call java.util.Random.nextBoolean() call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new else call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new if == call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.facet.FacetsConfig.build(Document) call org.apache.lucene.facet.FacetsConfig.build(Document) call org.apache.lucene.facet.FacetsConfig.build(Document) call org.apache.lucene.facet.FacetsConfig.build(Document) call org.apache.lucene.facet.FacetsConfig.build(Document) call TaxonomyWriter.close() call TaxonomyWriter.close() call TaxonomyWriter.close() call TaxonomyWriter.close() call TaxonomyWriter.close() = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() = new DrillDownQuery IndexSearcher TopDocs public public throws decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) IndexSearcher DrillDownQuery DrillDownQuery DrillDownQuery TopDocs DrillDownQuery Query public public throws decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) decl_stmt org.apache.lucene.search.Query = new new decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) IndexSearcher DrillDownQuery DrillDownQuery TopDocs DrillDownQuery Query public public throws decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) decl_stmt org.apache.lucene.search.Query = new new decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) Query IndexSearcher DrillDownQuery TopDocs decl float public public throws decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt float = new call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() decl_stmt org.apache.lucene.search.Query = new new decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() for : = decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() for : + + DrillDownQuery IndexSearcher TopDocs public public throws decl_stmt org.apache.lucene.search.IndexSearcher = decl_stmt org.apache.lucene.facet.DrillDownQuery = new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() call IndexReader.maxDoc() for : String String Term Term public public decl_stmt java.lang.String = call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) decl_stmt org.apache.lucene.index.Term = new decl_stmt java.lang.String = call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) call org.apache.lucene.facet.FacetsConfig.getDimConfig(String) decl_stmt org.apache.lucene.index.Term = new DrillDownQuery DrillDownQuery public public throws decl_stmt org.apache.lucene.facet.DrillDownQuery = new new call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) decl_stmt org.apache.lucene.facet.DrillDownQuery = call org.apache.lucene.facet.DrillDownQuery.clone() call org.apache.lucene.facet.DrillDownQuery.clone() call org.apache.lucene.facet.DrillDownQuery.clone() call org.apache.lucene.facet.DrillDownQuery.clone() call org.apache.lucene.facet.DrillDownQuery.clone() call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) + + + call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) call org.apache.lucene.facet.DrillDownQuery.toString(String) DrillDownQuery Query Query public public throws decl_stmt org.apache.lucene.search.Query = new decl_stmt org.apache.lucene.facet.DrillDownQuery = new decl_stmt org.apache.lucene.search.Query = call org.apache.lucene.facet.DrillDownQuery.rewrite(IndexReader) call org.apache.lucene.facet.DrillDownQuery.rewrite(IndexReader) call org.apache.lucene.facet.DrillDownQuery.rewrite(IndexReader) call org.apache.lucene.facet.DrillDownQuery.rewrite(IndexReader) call org.apache.lucene.facet.DrillDownQuery.rewrite(IndexReader)