org.apache.lucene.search.spell java.io.IOException import java.util.ArrayList import java.util.Collections import java.util.Comparator import java.util.List import java.util.Locale import java.util.concurrent.ExecutorService import java.util.concurrent.Executors import java.util.concurrent.TimeUnit import org.apache.lucene.analysis.Analyzer import org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.document.Document import org.apache.lucene.document.Field import org.apache.lucene.index.DirectoryReader import org.apache.lucene.index.IndexReader import org.apache.lucene.index.IndexWriter import org.apache.lucene.index.IndexWriterConfig import org.apache.lucene.search.IndexSearcher import org.apache.lucene.store.AlreadyClosedException import org.apache.lucene.store.Directory import org.apache.lucene.util.English import org.apache.lucene.util.LuceneTestCase import org.apache.lucene.util.NamedThreadFactory import class org.apache.lucene.search.spell.TestSpellChecker super super extends Analyzer Directory SpellCheckerMock decl List Document IndexWriter public public throws = = new decl_stmt org.apache.lucene.index.IndexWriter = new new for = < ++ decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) + call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) + == : call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() = new < = = new public public throws call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() if ! call SpellCheckerMock.isClosed() call SpellCheckerMock.isClosed() call SpellCheckerMock.isClosed() call SpellCheckerMock.isClosed() call SpellCheckerMock.isClosed() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call org.apache.lucene.analysis.Analyzer.close() call org.apache.lucene.analysis.Analyzer.close() call org.apache.lucene.analysis.Analyzer.close() call org.apache.lucene.analysis.Analyzer.close() call org.apache.lucene.analysis.Analyzer.close() call decl List.close() call decl List.close() call decl List.close() call decl List.close() call decl List.close() decl String IndexReader int int public public throws decl_stmt org.apache.lucene.index.IndexReader = call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() decl_stmt int = decl_stmt int = + call SpellCheckerMock.setStringDistance() call SpellCheckerMock.setStringDistance() call SpellCheckerMock.setStringDistance() call SpellCheckerMock.setStringDistance() call SpellCheckerMock.setStringDistance() new call SpellCheckerMock.setAccuracy() call SpellCheckerMock.setAccuracy() call SpellCheckerMock.setAccuracy() call SpellCheckerMock.setAccuracy() call SpellCheckerMock.setAccuracy() decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() == = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() == = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() > call SpellCheckerMock.setStringDistance() call SpellCheckerMock.setStringDistance() call SpellCheckerMock.setStringDistance() call SpellCheckerMock.setStringDistance() call SpellCheckerMock.setStringDistance() new call SpellCheckerMock.setAccuracy() call SpellCheckerMock.setAccuracy() call SpellCheckerMock.setAccuracy() call SpellCheckerMock.setAccuracy() call SpellCheckerMock.setAccuracy() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() IndexReader decl String Directory SpellChecker public public throws decl_stmt org.apache.lucene.index.IndexReader = decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.search.spell.SpellChecker = new new new decl_stmt java.lang.String = call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) == call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() if ! call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.close() call org.apache.lucene.search.spell.SpellChecker.close() call org.apache.lucene.search.spell.SpellChecker.close() call org.apache.lucene.search.spell.SpellChecker.close() call org.apache.lucene.search.spell.SpellChecker.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() IndexReader decl String Directory SpellChecker public public throws decl_stmt org.apache.lucene.index.IndexReader = decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.search.spell.SpellChecker = new new new decl_stmt java.lang.String = call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.search.spell.SpellChecker.suggestSimilar(String,int,float) call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() if ! call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.isClosed() call org.apache.lucene.search.spell.SpellChecker.close() call org.apache.lucene.search.spell.SpellChecker.close() call org.apache.lucene.search.spell.SpellChecker.close() call org.apache.lucene.search.spell.SpellChecker.close() call org.apache.lucene.search.spell.SpellChecker.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() IndexReader decl String public public throws decl_stmt org.apache.lucene.index.IndexReader = call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() decl String private private throws decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() > = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() if > = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() > = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() > > = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl String private private throws decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl String private private throws decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() decl String private private throws decl_stmt java.lang.String = call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() call SpellCheckerMock.suggestSimilar() long private private throws decl_stmt long = new = - int IndexReader private private throws decl_stmt org.apache.lucene.index.IndexReader = decl_stmt int = call IndexReader.numDocs() call IndexReader.numDocs() call IndexReader.numDocs() call IndexReader.numDocs() call IndexReader.numDocs() != call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() return String IndexReader int int public public throws decl_stmt org.apache.lucene.index.IndexReader = call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() decl_stmt java.lang.String = decl_stmt int = decl_stmt int = + call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.indexDictionary() call SpellCheckerMock.indexDictionary() call SpellCheckerMock.indexDictionary() call SpellCheckerMock.indexDictionary() call SpellCheckerMock.indexDictionary() new call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.setSpellIndex() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() int int int decl SpellCheckWorker IndexReader int ExecutorService SpellCheckWorker public public throws decl_stmt org.apache.lucene.index.IndexReader final final = call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() call SpellCheckerMock.clearIndex() decl_stmt int = decl_stmt int = + decl_stmt int = + decl_stmt java.util.concurrent.ExecutorService = new decl_stmt SpellCheckWorker = new for = < ++ decl_stmt SpellCheckWorker = new call ExecutorService.execute() call ExecutorService.execute() call ExecutorService.execute() call ExecutorService.execute() call ExecutorService.execute() = decl_stmt int = + for = < ++ call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.setSpellIndex() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call SpellCheckerMock.close() call java.util.concurrent.ExecutorService.shutdown() call java.util.concurrent.ExecutorService.shutdown() call java.util.concurrent.ExecutorService.shutdown() call java.util.concurrent.ExecutorService.shutdown() call java.util.concurrent.ExecutorService.shutdown() call java.util.concurrent.ExecutorService.awaitTermination(long,TimeUnit) call java.util.concurrent.ExecutorService.awaitTermination(long,TimeUnit) call java.util.concurrent.ExecutorService.awaitTermination(long,TimeUnit) call java.util.concurrent.ExecutorService.awaitTermination(long,TimeUnit) call java.util.concurrent.ExecutorService.awaitTermination(long,TimeUnit) for = < ++ + call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() call org.apache.lucene.index.IndexReader.close() decl IndexSearcher private private decl_stmt org.apache.lucene.search.IndexSearcher = new for = < ++ if == - > else + > private private for : public public try while try catch return catch = return finally = IndexSearcher throws decl_stmt org.apache.lucene.search.IndexSearcher = return