org.apache.lucene.index java.io.IOException import org.apache.lucene.document.Document import org.apache.lucene.index.IndexWriterConfig.OpenMode import org.apache.lucene.store.Directory import org.apache.lucene.store.MockDirectoryWrapper import org.apache.lucene.util.TestUtil import org.junit.After import org.junit.Before import org.junit.Test import class org.apache.lucene.index.TestPersistentSnapshotDeletionPolicy super super extends public public throws public public throws private private throws return new new int IndexWriter PersistentSnapshotDeletionPolicy int MockDirectoryWrapper public public throws decl_stmt int = decl_stmt org.apache.lucene.store.MockDirectoryWrapper = decl_stmt org.apache.lucene.index.IndexWriter = new decl_stmt org.apache.lucene.index.PersistentSnapshotDeletionPolicy = call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.getLastSaveFile() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() decl_stmt int = for : call org.apache.lucene.store.MockDirectoryWrapper.listAll() call org.apache.lucene.store.MockDirectoryWrapper.listAll() call org.apache.lucene.store.MockDirectoryWrapper.listAll() call org.apache.lucene.store.MockDirectoryWrapper.listAll() call org.apache.lucene.store.MockDirectoryWrapper.listAll() if ++ call org.apache.lucene.store.MockDirectoryWrapper.crash() call org.apache.lucene.store.MockDirectoryWrapper.crash() call org.apache.lucene.store.MockDirectoryWrapper.crash() call org.apache.lucene.store.MockDirectoryWrapper.crash() call org.apache.lucene.store.MockDirectoryWrapper.crash() call org.apache.lucene.store.MockDirectoryWrapper.clearCrash() call org.apache.lucene.store.MockDirectoryWrapper.clearCrash() call org.apache.lucene.store.MockDirectoryWrapper.clearCrash() call org.apache.lucene.store.MockDirectoryWrapper.clearCrash() call org.apache.lucene.store.MockDirectoryWrapper.clearCrash() = new new = new = call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) new call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() + call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshots() call PersistentSnapshotDeletionPolicy.getSnapshots() + call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() + call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.store.MockDirectoryWrapper.close() call org.apache.lucene.store.MockDirectoryWrapper.close() call org.apache.lucene.store.MockDirectoryWrapper.close() call org.apache.lucene.store.MockDirectoryWrapper.close() call org.apache.lucene.store.MockDirectoryWrapper.close() Directory public public throws decl_stmt org.apache.lucene.store.Directory = new new call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() Directory public public throws decl_stmt org.apache.lucene.store.Directory = new new call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() PersistentSnapshotDeletionPolicy IndexWriter decl StackTraceElement MockDirectoryWrapper public public throws decl_stmt org.apache.lucene.store.MockDirectoryWrapper = call org.apache.lucene.store.MockDirectoryWrapper.failOn(Failure) call org.apache.lucene.store.MockDirectoryWrapper.failOn(Failure) call org.apache.lucene.store.MockDirectoryWrapper.failOn(Failure) call org.apache.lucene.store.MockDirectoryWrapper.failOn(Failure) call org.apache.lucene.store.MockDirectoryWrapper.failOn(Failure) new public public throws decl_stmt java.lang.StackTraceElement = for = < ++ if && throw new decl_stmt org.apache.lucene.index.IndexWriter = new new new call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) new call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) decl_stmt org.apache.lucene.index.PersistentSnapshotDeletionPolicy = call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() try call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.snapshot() catch if else throw call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.store.MockDirectoryWrapper.close() call org.apache.lucene.store.MockDirectoryWrapper.close() call org.apache.lucene.store.MockDirectoryWrapper.close() call org.apache.lucene.store.MockDirectoryWrapper.close() call org.apache.lucene.store.MockDirectoryWrapper.close() decl StackTraceElement public public throws decl_stmt java.lang.StackTraceElement = for = < ++ if && throw new PersistentSnapshotDeletionPolicy IndexWriter Directory public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriter = new decl_stmt org.apache.lucene.index.PersistentSnapshotDeletionPolicy = call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) = new new call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() PersistentSnapshotDeletionPolicy IndexWriter Directory public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriter = new decl_stmt org.apache.lucene.index.PersistentSnapshotDeletionPolicy = call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.getConfig() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) call org.apache.lucene.index.PersistentSnapshotDeletionPolicy.release(long) = new new call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call PersistentSnapshotDeletionPolicy.getSnapshotCount() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close()