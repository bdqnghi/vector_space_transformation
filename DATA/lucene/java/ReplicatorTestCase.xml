org.apache.lucene.replicator java.util.Random import java.util.concurrent.TimeUnit import org.apache.http.conn.HttpClientConnectionManager import org.apache.http.impl.conn.PoolingHttpClientConnectionManager import org.apache.lucene.util.LuceneTestCase import org.eclipse.jetty.server.Connector import org.eclipse.jetty.server.Handler import org.eclipse.jetty.server.HttpConfiguration import org.eclipse.jetty.server.HttpConnectionFactory import org.eclipse.jetty.server.SecureRequestCustomizer import org.eclipse.jetty.server.Server import org.eclipse.jetty.server.ServerConnector import org.eclipse.jetty.server.SslConnectionFactory import org.eclipse.jetty.server.session.HashSessionIdManager import org.eclipse.jetty.util.ssl.SslContextFactory import org.eclipse.jetty.util.thread.QueuedThreadPool import org.junit.AfterClass import class org.apache.lucene.replicator.ReplicatorTestCase super super extends HttpClientConnectionManager public static public static throws if != call HttpClientConnectionManager.shutdown() call HttpClientConnectionManager.shutdown() call HttpClientConnectionManager.shutdown() call HttpClientConnectionManager.shutdown() call HttpClientConnectionManager.shutdown() = SslContextFactory ServerConnector boolean Server ServerConnector QueuedThreadPool HttpConfiguration public static synchronized public static synchronized throws decl_stmt boolean final final = decl_stmt SslContextFactory final final = new if if != call SslContextFactory.setKeyStorePath() call SslContextFactory.setKeyStorePath() call SslContextFactory.setKeyStorePath() call SslContextFactory.setKeyStorePath() call SslContextFactory.setKeyStorePath() if != call SslContextFactory.setKeyStorePassword() call SslContextFactory.setKeyStorePassword() call SslContextFactory.setKeyStorePassword() call SslContextFactory.setKeyStorePassword() call SslContextFactory.setKeyStorePassword() if != call SslContextFactory.setKeyStorePath() call SslContextFactory.setKeyStorePath() call SslContextFactory.setKeyStorePath() call SslContextFactory.setKeyStorePath() call SslContextFactory.setKeyStorePath() if != call SslContextFactory.setTrustStorePassword() call SslContextFactory.setTrustStorePassword() call SslContextFactory.setTrustStorePassword() call SslContextFactory.setTrustStorePassword() call SslContextFactory.setTrustStorePassword() call SslContextFactory.setNeedClientAuth() call SslContextFactory.setNeedClientAuth() call SslContextFactory.setNeedClientAuth() call SslContextFactory.setNeedClientAuth() call SslContextFactory.setNeedClientAuth() decl_stmt QueuedThreadPool final final = new call QueuedThreadPool.setDaemon() call QueuedThreadPool.setDaemon() call QueuedThreadPool.setDaemon() call QueuedThreadPool.setDaemon() call QueuedThreadPool.setDaemon() call QueuedThreadPool.setMaxThreads() call QueuedThreadPool.setMaxThreads() call QueuedThreadPool.setMaxThreads() call QueuedThreadPool.setMaxThreads() call QueuedThreadPool.setMaxThreads() call QueuedThreadPool.setIdleTimeout() call QueuedThreadPool.setIdleTimeout() call QueuedThreadPool.setIdleTimeout() call QueuedThreadPool.setIdleTimeout() call QueuedThreadPool.setIdleTimeout() call QueuedThreadPool.setStopTimeout() call QueuedThreadPool.setStopTimeout() call QueuedThreadPool.setStopTimeout() call QueuedThreadPool.setStopTimeout() call QueuedThreadPool.setStopTimeout() decl_stmt com.sun.security.ntlm.Server = new call Server.setStopAtShutdown() call Server.setStopAtShutdown() call Server.setStopAtShutdown() call Server.setStopAtShutdown() call Server.setStopAtShutdown() call Server.manage() call Server.manage() call Server.manage() call Server.manage() call Server.manage() decl_stmt ServerConnector final final if decl_stmt HttpConfiguration = new call HttpConfiguration.setSecureScheme() call HttpConfiguration.setSecureScheme() call HttpConfiguration.setSecureScheme() call HttpConfiguration.setSecureScheme() call HttpConfiguration.setSecureScheme() call HttpConfiguration.addCustomizer() call HttpConfiguration.addCustomizer() call HttpConfiguration.addCustomizer() call HttpConfiguration.addCustomizer() call HttpConfiguration.addCustomizer() new decl_stmt ServerConnector = new new new = else decl_stmt ServerConnector = new new = call ServerConnector.setPort() call ServerConnector.setPort() call ServerConnector.setPort() call ServerConnector.setPort() call ServerConnector.setPort() call ServerConnector.setHost() call ServerConnector.setHost() call ServerConnector.setHost() call ServerConnector.setHost() call ServerConnector.setHost() call Server.setConnectors() call Server.setConnectors() call Server.setConnectors() call Server.setConnectors() call Server.setConnectors() new call Server.setSessionIdManager() call Server.setSessionIdManager() call Server.setSessionIdManager() call Server.setSessionIdManager() call Server.setSessionIdManager() new new call Server.setHandler() call Server.setHandler() call Server.setHandler() call Server.setHandler() call Server.setHandler() call Server.start() call Server.start() call Server.start() call Server.start() call Server.start() return public static public static return public static public static return public static public static throws PoolingHttpClientConnectionManager public static synchronized public static synchronized if == decl_stmt PoolingHttpClientConnectionManager = new call PoolingHttpClientConnectionManager.setDefaultMaxPerRoute() call PoolingHttpClientConnectionManager.setDefaultMaxPerRoute() call PoolingHttpClientConnectionManager.setDefaultMaxPerRoute() call PoolingHttpClientConnectionManager.setDefaultMaxPerRoute() call PoolingHttpClientConnectionManager.setDefaultMaxPerRoute() call PoolingHttpClientConnectionManager.setMaxTotal() call PoolingHttpClientConnectionManager.setMaxTotal() call PoolingHttpClientConnectionManager.setMaxTotal() call PoolingHttpClientConnectionManager.setMaxTotal() call PoolingHttpClientConnectionManager.setMaxTotal() = return