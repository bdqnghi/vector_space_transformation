org.apache.lucene.replicator java.io.InputStream import java.util.List import java.util.Map import org.apache.lucene.document.Document import org.apache.lucene.index.IndexFileNames import org.apache.lucene.index.IndexWriter import org.apache.lucene.index.IndexWriterConfig import org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy import org.apache.lucene.index.SnapshotDeletionPolicy import org.apache.lucene.store.Directory import org.apache.lucene.store.IOContext import org.apache.lucene.store.IndexInput import org.apache.lucene.store.MockDirectoryWrapper import org.apache.lucene.util.IOUtils import org.junit.Test import class org.apache.lucene.replicator.IndexRevisionTest super super extends IndexWriter IndexWriterConfig Directory public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriterConfig = new call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) new decl_stmt org.apache.lucene.index.IndexWriter = new new call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() IndexWriter IndexWriterConfig Directory public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriterConfig = new call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) new call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() decl_stmt org.apache.lucene.index.IndexWriter = new new call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() Revision IndexWriter IndexWriterConfig Directory public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriterConfig = new call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) new call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() decl_stmt org.apache.lucene.index.IndexWriter = new try call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) new call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) decl_stmt org.apache.lucene.replicator.Revision = new call org.apache.lucene.replicator.Revision.release() call org.apache.lucene.replicator.Revision.release() call org.apache.lucene.replicator.Revision.release() call org.apache.lucene.replicator.Revision.release() call org.apache.lucene.replicator.Revision.release() + = new call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) new call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) new call org.apache.lucene.replicator.Revision.release() call org.apache.lucene.replicator.Revision.release() call org.apache.lucene.replicator.Revision.release() call org.apache.lucene.replicator.Revision.release() call org.apache.lucene.replicator.Revision.release() + finally decl List IndexWriter Revision IndexWriterConfig String decl Map Directory public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriterConfig = new call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) new call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() decl_stmt org.apache.lucene.index.IndexWriter = new try call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) new call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) decl_stmt org.apache.lucene.replicator.Revision = new decl_stmt java.util.Map < < = call org.apache.lucene.replicator.Revision.getSourceFiles() call org.apache.lucene.replicator.Revision.getSourceFiles() call org.apache.lucene.replicator.Revision.getSourceFiles() call org.apache.lucene.replicator.Revision.getSourceFiles() call org.apache.lucene.replicator.Revision.getSourceFiles() call decl Map.size() call decl Map.size() call decl Map.size() call decl Map.size() call decl Map.size() decl_stmt java.util.List < = call decl Map.values() call decl Map.values() call decl Map.values() call decl Map.values() call decl Map.values() decl_stmt java.lang.String = call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.size() call decl List.size() call decl List.size() call decl List.size() call decl List.size() - call java.lang.String.startsWith(String,int) call java.lang.String.startsWith(String,int) call java.lang.String.startsWith(String,int) call java.lang.String.startsWith(String,int) call java.lang.String.startsWith(String,int) call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() finally IndexInput decl byte IndexWriter Revision int String int IndexWriterConfig InputStream decl Map Directory decl byte public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.IndexWriterConfig = new call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) call org.apache.lucene.index.IndexWriterConfig.setIndexDeletionPolicy(IndexDeletionPolicy) new call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() call org.apache.lucene.index.IndexWriterConfig.getIndexDeletionPolicy() decl_stmt org.apache.lucene.index.IndexWriter = new try call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) new call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) call org.apache.lucene.index.IndexWriter.commit(SegmentInfos) decl_stmt org.apache.lucene.replicator.Revision = new decl_stmt java.util.Map < < = call org.apache.lucene.replicator.Revision.getSourceFiles() call org.apache.lucene.replicator.Revision.getSourceFiles() call org.apache.lucene.replicator.Revision.getSourceFiles() call org.apache.lucene.replicator.Revision.getSourceFiles() call org.apache.lucene.replicator.Revision.getSourceFiles() decl_stmt java.lang.String = call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() call decl Map.keySet() for : call decl Map.values() call decl Map.values() call decl Map.values() call decl Map.values() call decl Map.values() decl_stmt org.apache.lucene.store.IndexInput = call Directory.openInput() call Directory.openInput() call Directory.openInput() call Directory.openInput() call Directory.openInput() decl_stmt java.io.InputStream = call org.apache.lucene.replicator.Revision.open(String,String) call org.apache.lucene.replicator.Revision.open(String,String) call org.apache.lucene.replicator.Revision.open(String,String) call org.apache.lucene.replicator.Revision.open(String,String) call org.apache.lucene.replicator.Revision.open(String,String) call IndexInput.length() call IndexInput.length() call IndexInput.length() call IndexInput.length() call IndexInput.length() call InputStream.available() call InputStream.available() call InputStream.available() call InputStream.available() call InputStream.available() decl_stmt byte = new int call IndexInput.length() call IndexInput.length() call IndexInput.length() call IndexInput.length() call IndexInput.length() decl_stmt byte = new int call IndexInput.length() call IndexInput.length() call IndexInput.length() call IndexInput.length() call IndexInput.length() decl_stmt int = if decl_stmt int = if >= call IndexInput.length() call IndexInput.length() call IndexInput.length() call IndexInput.length() call IndexInput.length() = call java.io.InputStream.skip(long) call java.io.InputStream.skip(long) call java.io.InputStream.skip(long) call java.io.InputStream.skip(long) call java.io.InputStream.skip(long) call IndexInput.seek() call IndexInput.seek() call IndexInput.seek() call IndexInput.seek() call IndexInput.seek() = call IndexInput.readBytes() call IndexInput.readBytes() call IndexInput.readBytes() call IndexInput.readBytes() call IndexInput.readBytes() - call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) - call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() finally