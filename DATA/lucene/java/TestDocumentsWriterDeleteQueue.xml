org.apache.lucene.index java.util.HashSet import java.util.Set import java.util.concurrent.CountDownLatch import java.util.concurrent.atomic.AtomicInteger import java.util.concurrent.locks.ReentrantLock import org.apache.lucene.index.DocumentsWriterDeleteQueue.DeleteSlice import org.apache.lucene.index.PrefixCodedTerms.TermIterator import org.apache.lucene.search.TermQuery import org.apache.lucene.util.BytesRefBuilder import org.apache.lucene.util.LuceneTestCase import org.apache.lucene.util.ThreadInterruptedException import class org.apache.lucene.index.TestDocumentsWriterDeleteQueue super super extends decl Term DeleteSlice DeleteSlice Integer int decl Integer TermIterator DocumentsWriterDeleteQueue decl Set BufferedUpdates decl HashSet BufferedUpdates int BytesRefBuilder int public public decl_stmt org.apache.lucene.index.DocumentsWriterDeleteQueue = new decl_stmt int final final = + * decl_stmt java.lang.Integer = new for = < ++ = decl_stmt DeleteSlice = call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() decl_stmt DeleteSlice = call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.newSlice() decl_stmt org.apache.lucene.index.BufferedUpdates = new decl_stmt org.apache.lucene.index.BufferedUpdates = new decl_stmt int = decl_stmt int = decl_stmt java.util.Set < = new <> for = < ++ decl_stmt java.lang.Integer = decl_stmt org.apache.lucene.index.Term = new new call java.lang.Integer.toString() call java.lang.Integer.toString() call java.lang.Integer.toString() call java.lang.Integer.toString() call java.lang.Integer.toString() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) if == || == - call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call DeleteSlice.isTailItem() call DeleteSlice.isTailItem() call DeleteSlice.isTailItem() call DeleteSlice.isTailItem() call DeleteSlice.isTailItem() call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() = + if == || == - call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call DeleteSlice.isTailItem() call DeleteSlice.isTailItem() call DeleteSlice.isTailItem() call DeleteSlice.isTailItem() call DeleteSlice.isTailItem() call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() = + + call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() decl_stmt java.util.HashSet < = new <> decl_stmt org.apache.lucene.util.BytesRefBuilder = new decl_stmt TermIterator = call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) while call TermIterator.next() call TermIterator.next() call TermIterator.next() call TermIterator.next() call TermIterator.next() != call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call decl HashSet.add() call decl HashSet.add() call decl HashSet.add() call decl HashSet.add() call decl HashSet.add() new call TermIterator.field() call TermIterator.field() call TermIterator.field() call TermIterator.field() call TermIterator.field() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() private private for = <= ++ new DocumentsWriterDeleteQueue Term int public public decl_stmt org.apache.lucene.index.DocumentsWriterDeleteQueue = new call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() decl_stmt int final final = + * for = < ++ decl_stmt org.apache.lucene.index.Term = new + if == call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) new else call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() if == call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.clear() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() Term FrozenBufferedUpdates DocumentsWriterDeleteQueue int int int public public decl_stmt org.apache.lucene.index.DocumentsWriterDeleteQueue = new decl_stmt int final final = + * decl_stmt int = decl_stmt int = for = < ++ decl_stmt org.apache.lucene.index.Term = new + if == call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) new ++ else call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) ++ call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() if == decl_stmt org.apache.lucene.index.FrozenBufferedUpdates = call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() = = call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() DocumentsWriterDeleteQueue ReentrantLock FrozenBufferedUpdates Thread public public throws decl_stmt org.apache.lucene.index.DocumentsWriterDeleteQueue final final = new decl_stmt java.util.concurrent.locks.ReentrantLock = call java.util.concurrent.locks.ReentrantLock.lock() call java.util.concurrent.locks.ReentrantLock.lock() call java.util.concurrent.locks.ReentrantLock.lock() call java.util.concurrent.locks.ReentrantLock.lock() call java.util.concurrent.locks.ReentrantLock.lock() decl_stmt java.lang.Thread = new public public call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) call org.apache.lucene.index.DocumentsWriterDeleteQueue.addDelete(Term) new call java.lang.Thread.start() call java.lang.Thread.start() call java.lang.Thread.start() call java.lang.Thread.start() call java.lang.Thread.start() call java.lang.Thread.join(long,int) call java.lang.Thread.join(long,int) call java.lang.Thread.join(long,int) call java.lang.Thread.join(long,int) call java.lang.Thread.join(long,int) call java.util.concurrent.locks.ReentrantLock.unlock() call java.util.concurrent.locks.ReentrantLock.unlock() call java.util.concurrent.locks.ReentrantLock.unlock() call java.util.concurrent.locks.ReentrantLock.unlock() call java.util.concurrent.locks.ReentrantLock.unlock() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() decl_stmt org.apache.lucene.index.FrozenBufferedUpdates = call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.FrozenBufferedUpdates.any() call org.apache.lucene.index.FrozenBufferedUpdates.any() call org.apache.lucene.index.FrozenBufferedUpdates.any() call org.apache.lucene.index.FrozenBufferedUpdates.any() call org.apache.lucene.index.FrozenBufferedUpdates.any() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call FrozenBufferedUpdates.terms() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() call org.apache.lucene.index.DocumentsWriterDeleteQueue.anyChanges() public public new AtomicInteger DeleteSlice int BytesRefBuilder decl Integer TermIterator DocumentsWriterDeleteQueue decl Set decl UpdateThread decl Set CountDownLatch BufferedUpdates int public public throws decl_stmt org.apache.lucene.index.DocumentsWriterDeleteQueue = new decl_stmt java.util.Set < = new <> decl_stmt int final final = + * decl_stmt java.lang.Integer = new for = < ++ = call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() new decl_stmt java.util.concurrent.CountDownLatch = new decl_stmt java.util.concurrent.atomic.AtomicInteger = new decl_stmt int final final = + decl_stmt UpdateThread = new for = < ++ = new call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() for = < ++ for : decl_stmt DeleteSlice = call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.updateSlice(DeleteSlice) decl_stmt org.apache.lucene.index.BufferedUpdates = call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() call DeleteSlice.apply() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call BufferedUpdates.terms() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() call org.apache.lucene.index.DocumentsWriterDeleteQueue.tryApplyGlobalSlice() decl_stmt java.util.Set < = new <> decl_stmt org.apache.lucene.util.BytesRefBuilder = new decl_stmt TermIterator = call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) call org.apache.lucene.index.DocumentsWriterDeleteQueue.freezeGlobalBuffer(DeleteSlice) while call TermIterator.next() call TermIterator.next() call TermIterator.next() call TermIterator.next() call TermIterator.next() != call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call org.apache.lucene.util.BytesRefBuilder.copyBytes(BytesRef) call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() call decl Set.add() new call TermIterator.field() call TermIterator.field() call TermIterator.field() call TermIterator.field() call TermIterator.field() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.util.BytesRefBuilder.toBytesRef() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call org.apache.lucene.index.DocumentsWriterDeleteQueue.numGlobalTermDeletes() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() call decl Set.size() int Term public public try catch throw new decl_stmt int = while = < decl_stmt org.apache.lucene.index.Term = new