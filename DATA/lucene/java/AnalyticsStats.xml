org.apache.solr.analytics.request java.io.IOException import java.lang.invoke.MethodHandles import java.util.List import org.apache.lucene.index.LeafReaderContext import org.apache.lucene.search.DocIdSet import org.apache.lucene.search.DocIdSetIterator import org.apache.solr.analytics.accumulator.BasicAccumulator import org.apache.solr.analytics.accumulator.FacetingAccumulator import org.apache.solr.analytics.accumulator.ValueAccumulator import org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector import org.apache.solr.common.params.SolrParams import org.apache.solr.common.util.NamedList import org.apache.solr.request.SolrQueryRequest import org.apache.solr.search.DocSet import org.apache.solr.search.Filter import org.apache.solr.search.SolrIndexSearcher import org.slf4j.Logger import org.slf4j.LoggerFactory import class org.apache.solr.analytics.request.AnalyticsStats SolrIndexSearcher Logger DocSet SolrQueryRequest SolrParams AnalyticsStatisticsCollector decl List decl NamedList int Filter ValueAccumulator LeafReaderContext int DocIdSetIterator decl List DocIdSet public < public < throws call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.startRequest() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.startRequest() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.startRequest() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.startRequest() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.startRequest() decl_stmt org.apache.solr.common.util.NamedList < = new <> decl_stmt java.util.List < = call org.apache.solr.search.SolrIndexSearcher.getSchema() call org.apache.solr.search.SolrIndexSearcher.getSchema() call org.apache.solr.search.SolrIndexSearcher.getSchema() call org.apache.solr.search.SolrIndexSearcher.getSchema() call org.apache.solr.search.SolrIndexSearcher.getSchema() if == || call decl List.size() call decl List.size() call decl List.size() call decl List.size() call decl List.size() == return call AnalyticsStatisticsCollector.addRequests() call AnalyticsStatisticsCollector.addRequests() call AnalyticsStatisticsCollector.addRequests() call AnalyticsStatisticsCollector.addRequests() call AnalyticsStatisticsCollector.addRequests() call decl List.size() call decl List.size() call decl List.size() call decl List.size() call decl List.size() decl_stmt org.apache.solr.search.Filter = call org.apache.solr.search.DocSet.getTopFilter() call org.apache.solr.search.DocSet.getTopFilter() call org.apache.solr.search.DocSet.getTopFilter() call org.apache.solr.search.DocSet.getTopFilter() call org.apache.solr.search.DocSet.getTopFilter() for : decl_stmt org.apache.solr.analytics.accumulator.ValueAccumulator decl_stmt int = + + try if == = else = catch call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() + + continue call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsCollected(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsCollected(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsCollected(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsCollected(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsCollected(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsRequests(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsRequests(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsRequests(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsRequests(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addStatsRequests(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addFieldFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addFieldFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addFieldFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addFieldFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addFieldFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addRangeFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addRangeFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addRangeFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addRangeFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addRangeFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueryFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueryFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueryFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueryFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueryFacets(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueries(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueries(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueries(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueries(long) call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.addQueries(long) decl_stmt java.util.List < = call SolrIndexSearcher.getTopReaderContext() call SolrIndexSearcher.getTopReaderContext() call SolrIndexSearcher.getTopReaderContext() call SolrIndexSearcher.getTopReaderContext() call SolrIndexSearcher.getTopReaderContext() for = < call decl List.size() call decl List.size() call decl List.size() call decl List.size() call decl List.size() ++ decl_stmt org.apache.lucene.index.LeafReaderContext = call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() decl_stmt org.apache.lucene.search.DocIdSet = call Filter.getDocIdSet() call Filter.getDocIdSet() call Filter.getDocIdSet() call Filter.getDocIdSet() call Filter.getDocIdSet() decl_stmt org.apache.lucene.search.DocIdSetIterator = if != = call org.apache.lucene.search.DocIdSet.iterator() call org.apache.lucene.search.DocIdSet.iterator() call org.apache.lucene.search.DocIdSet.iterator() call org.apache.lucene.search.DocIdSet.iterator() call org.apache.lucene.search.DocIdSet.iterator() if != call ValueAccumulator.getLeafCollector() call ValueAccumulator.getLeafCollector() call ValueAccumulator.getLeafCollector() call ValueAccumulator.getLeafCollector() call ValueAccumulator.getLeafCollector() decl_stmt int = call org.apache.lucene.search.DocIdSetIterator.nextDoc() call org.apache.lucene.search.DocIdSetIterator.nextDoc() call org.apache.lucene.search.DocIdSetIterator.nextDoc() call org.apache.lucene.search.DocIdSetIterator.nextDoc() call org.apache.lucene.search.DocIdSetIterator.nextDoc() while != call ValueAccumulator.collect() call ValueAccumulator.collect() call ValueAccumulator.collect() call ValueAccumulator.collect() call ValueAccumulator.collect() = call org.apache.lucene.search.DocIdSetIterator.nextDoc() call org.apache.lucene.search.DocIdSetIterator.nextDoc() call org.apache.lucene.search.DocIdSetIterator.nextDoc() call org.apache.lucene.search.DocIdSetIterator.nextDoc() call org.apache.lucene.search.DocIdSetIterator.nextDoc() call ValueAccumulator.postProcess() call ValueAccumulator.postProcess() call ValueAccumulator.postProcess() call ValueAccumulator.postProcess() call ValueAccumulator.postProcess() call ValueAccumulator.compute() call ValueAccumulator.compute() call ValueAccumulator.compute() call ValueAccumulator.compute() call ValueAccumulator.compute() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call ValueAccumulator.export() call ValueAccumulator.export() call ValueAccumulator.export() call ValueAccumulator.export() call ValueAccumulator.export() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.endRequest() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.endRequest() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.endRequest() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.endRequest() call org.apache.solr.analytics.plugin.AnalyticsStatisticsCollector.endRequest() return