org.apache.lucene.demo.facet org.apache.lucene.analysis.core.WhitespaceAnalyzer import org.apache.lucene.document.DoublePoint import org.apache.lucene.document.Document import org.apache.lucene.document.NumericDocValuesField import org.apache.lucene.expressions.Expression import org.apache.lucene.expressions.SimpleBindings import org.apache.lucene.expressions.js.JavascriptCompiler import org.apache.lucene.facet.DrillDownQuery import org.apache.lucene.facet.DrillSideways import org.apache.lucene.facet.FacetResult import org.apache.lucene.facet.Facets import org.apache.lucene.facet.FacetsCollector import org.apache.lucene.facet.FacetsConfig import org.apache.lucene.facet.range.DoubleRange import org.apache.lucene.facet.range.DoubleRangeFacetCounts import org.apache.lucene.facet.taxonomy.TaxonomyReader import org.apache.lucene.index.DirectoryReader import org.apache.lucene.index.IndexWriter import org.apache.lucene.index.IndexWriterConfig import org.apache.lucene.index.IndexWriterConfig.OpenMode import org.apache.lucene.queries.function.ValueSource import org.apache.lucene.search.BooleanClause import org.apache.lucene.search.BooleanQuery import org.apache.lucene.search.IndexSearcher import org.apache.lucene.search.MatchAllDocsQuery import org.apache.lucene.search.Query import org.apache.lucene.search.SortField import org.apache.lucene.search.TopDocs import org.apache.lucene.store.Directory import org.apache.lucene.store.RAMDirectory import java.io.Closeable import java.io.IOException import java.text.ParseException import class org.apache.lucene.demo.facet.DistanceFacetsExample super super implements IndexSearcher double DoubleRange Directory double double DoubleRange DoubleRange DoubleRange FacetsConfig Document IndexWriter public public throws decl_stmt org.apache.lucene.index.IndexWriter = new new new decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new - call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new - call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new - call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new - call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new - call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new - call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) call org.apache.lucene.index.IndexWriter.addDocument(Iterable) = new call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() call org.apache.lucene.index.IndexWriter.close() Expression SimpleBindings private private decl_stmt org.apache.solr.analytics.expression.Expression try = + + + + catch throw new decl_stmt org.apache.lucene.expressions.SimpleBindings = new call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) new call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) call org.apache.lucene.expressions.SimpleBindings.add(String,Expression) new return call org.apache.solr.analytics.expression.Expression.getValueSource(Bindings) call org.apache.solr.analytics.expression.Expression.getValueSource(Bindings) call org.apache.solr.analytics.expression.Expression.getValueSource(Bindings) call org.apache.solr.analytics.expression.Expression.getValueSource(Bindings) call org.apache.solr.analytics.expression.Expression.getValueSource(Bindings) decl BooleanQuery double double double double decl Builder double double double double public static public static decl_stmt double = decl_stmt double = decl_stmt double = / decl_stmt double = - decl_stmt double = + decl_stmt double decl_stmt double if > - && < decl_stmt double = / = - if < - += * = + if > -= * else = - = = - = decl_stmt org.apache.lucene.util.fst.Builder = new call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() if > decl_stmt org.apache.lucene.util.fst.Builder = new call decl Builder.add() call decl Builder.add() call decl Builder.add() call decl Builder.add() call decl Builder.add() call decl Builder.add() call decl Builder.add() call decl Builder.add() call decl Builder.add() call decl Builder.add() call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() call decl Builder.build() call decl Builder.build() call decl Builder.build() call decl Builder.build() call decl Builder.build() else call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() call decl BooleanQuery.add() return call decl BooleanQuery.build() call decl BooleanQuery.build() call decl BooleanQuery.build() call decl BooleanQuery.build() call decl BooleanQuery.build() Facets FacetsCollector public public throws decl_stmt org.apache.lucene.facet.FacetsCollector = new call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) call org.apache.lucene.search.IndexSearcher.search(Query,int) new decl_stmt Facets = new return call Facets.getTopChildren() call Facets.getTopChildren() call Facets.getTopChildren() call Facets.getTopChildren() call Facets.getTopChildren() DrillDownQuery ValueSource DrillSideways public public throws decl_stmt org.apache.lucene.facet.DrillDownQuery = new decl_stmt org.apache.lucene.queries.function.ValueSource final final = call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) call org.apache.lucene.facet.DrillDownQuery.add(String,String) decl_stmt org.apache.lucene.facet.DrillSideways = new protected protected throws assert == return new return call org.apache.lucene.facet.DrillSideways.search(ScoreDoc,DrillDownQuery,int) call org.apache.lucene.facet.DrillSideways.search(ScoreDoc,DrillDownQuery,int) call org.apache.lucene.facet.DrillSideways.search(ScoreDoc,DrillDownQuery,int) call org.apache.lucene.facet.DrillSideways.search(ScoreDoc,DrillDownQuery,int) call org.apache.lucene.facet.DrillSideways.search(ScoreDoc,DrillDownQuery,int) protected protected throws assert == return new public public throws call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() TopDocs DistanceFacetsExample public static public static throws decl_stmt org.apache.lucene.demo.facet.DistanceFacetsExample = new call org.apache.lucene.demo.facet.DistanceFacetsExample.index() call org.apache.lucene.demo.facet.DistanceFacetsExample.index() call org.apache.lucene.demo.facet.DistanceFacetsExample.index() call org.apache.lucene.demo.facet.DistanceFacetsExample.index() call org.apache.lucene.demo.facet.DistanceFacetsExample.index() call org.apache.lucene.demo.facet.DistanceFacetsExample.search() call org.apache.lucene.demo.facet.DistanceFacetsExample.search() call org.apache.lucene.demo.facet.DistanceFacetsExample.search() call org.apache.lucene.demo.facet.DistanceFacetsExample.search() call org.apache.lucene.demo.facet.DistanceFacetsExample.search() decl_stmt org.apache.lucene.search.TopDocs = call org.apache.lucene.demo.facet.DistanceFacetsExample.drillDown(DoubleRange) call org.apache.lucene.demo.facet.DistanceFacetsExample.drillDown(DoubleRange) call org.apache.lucene.demo.facet.DistanceFacetsExample.drillDown(DoubleRange) call org.apache.lucene.demo.facet.DistanceFacetsExample.drillDown(DoubleRange) call org.apache.lucene.demo.facet.DistanceFacetsExample.drillDown(DoubleRange) + call org.apache.lucene.demo.facet.DistanceFacetsExample.close() call org.apache.lucene.demo.facet.DistanceFacetsExample.close() call org.apache.lucene.demo.facet.DistanceFacetsExample.close() call org.apache.lucene.demo.facet.DistanceFacetsExample.close() call org.apache.lucene.demo.facet.DistanceFacetsExample.close()