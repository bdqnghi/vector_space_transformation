org.apache.solr.handler.component java.io.IOException import java.nio.charset.StandardCharsets import java.util.ArrayList import java.util.Arrays import java.util.Collections import java.util.HashMap import java.util.Iterator import java.util.LinkedHashSet import java.util.List import java.util.Map import java.util.Set import org.apache.lucene.index.FieldInfo import org.apache.lucene.index.Fields import org.apache.lucene.index.IndexReader import org.apache.lucene.index.PostingsEnum import org.apache.lucene.index.StoredFieldVisitor import org.apache.lucene.index.Term import org.apache.lucene.index.Terms import org.apache.lucene.index.TermsEnum import org.apache.lucene.util.BytesRef import org.apache.solr.common.SolrException import org.apache.solr.common.params.CommonParams import org.apache.solr.common.params.SolrParams import org.apache.solr.common.params.TermVectorParams import org.apache.solr.common.util.Base64 import org.apache.solr.common.util.NamedList import org.apache.solr.core.SolrCore import org.apache.solr.schema.IndexSchema import org.apache.solr.schema.SchemaField import org.apache.solr.search.DocList import org.apache.solr.search.DocListAndSet import org.apache.solr.search.ReturnFields import org.apache.solr.search.SolrIndexSearcher import org.apache.solr.search.SolrReturnFields import org.apache.solr.util.SolrPluginUtils import org.apache.solr.util.plugin.SolrCoreAware import class org.apache.solr.handler.component.TermVectorComponent super super extends super implements NamedList String String String decl String ReturnFields SolrParams decl Set private < private < decl_stmt org.apache.solr.common.params.SolrParams = decl_stmt java.lang.String = call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() if == || == || == && == decl_stmt ReturnFields = new call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() if call ReturnFields.wantsAllFields() call ReturnFields.wantsAllFields() call ReturnFields.wantsAllFields() call ReturnFields.wantsAllFields() call ReturnFields.wantsAllFields() return decl_stmt java.util.Set < = call ReturnFields.getLuceneFieldNames() call ReturnFields.getLuceneFieldNames() call ReturnFields.getLuceneFieldNames() call ReturnFields.getLuceneFieldNames() call ReturnFields.getLuceneFieldNames() return != : > decl_stmt java.util.Set < = new <> for : call decl Set.addAll() call decl Set.addAll() call decl Set.addAll() call decl Set.addAll() call decl Set.addAll() return decl List Fields DocListAndSet decl Map decl NamedList decl List String Terms decl List String decl NamedList SolrParams IndexReader StoredFieldVisitor IndexSchema String Integer FieldOptions decl NamedList String decl List SolrIndexSearcher SchemaField boolean FieldOptions decl List decl Set TermsEnum DocList decl Iterator Terms decl List SchemaField public public throws decl_stmt org.apache.solr.common.params.SolrParams = if ! call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) return decl_stmt org.apache.solr.common.util.NamedList < = new <> decl_stmt org.apache.solr.schema.IndexSchema = decl_stmt org.apache.solr.schema.SchemaField = call org.apache.solr.schema.IndexSchema.getUniqueKeyField(org,apache,lucene,document,Document) call org.apache.solr.schema.IndexSchema.getUniqueKeyField(org,apache,lucene,document,Document) call org.apache.solr.schema.IndexSchema.getUniqueKeyField(org,apache,lucene,document,Document) call org.apache.solr.schema.IndexSchema.getUniqueKeyField(org,apache,lucene,document,Document) call org.apache.solr.schema.IndexSchema.getUniqueKeyField(org,apache,lucene,document,Document) decl_stmt java.lang.String = if != = call org.apache.solr.schema.SchemaField.getName() call org.apache.solr.schema.SchemaField.getName() call org.apache.solr.schema.SchemaField.getName() call org.apache.solr.schema.SchemaField.getName() call org.apache.solr.schema.SchemaField.getName() decl_stmt FieldOptions = new = call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) = call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) = call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) = call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) = call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) = call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) if call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) call org.apache.solr.common.params.SolrParams.getBool(String) = = = = = = decl_stmt java.util.Map < = new <> decl_stmt org.apache.solr.common.util.NamedList < < = new <> decl_stmt java.util.List < = new <> decl_stmt java.util.List < = new <> decl_stmt java.util.List < = new <> decl_stmt java.util.List < = new <> decl_stmt java.util.Set < = if != for : if == || continue decl_stmt boolean final final = call java.lang.String.equals(Object) call java.lang.String.equals(Object) call java.lang.String.equals(Object) call java.lang.String.equals(Object) call java.lang.String.equals(Object) decl_stmt org.apache.solr.schema.SchemaField = call org.apache.solr.schema.IndexSchema.getFieldOrNull(String) call org.apache.solr.schema.IndexSchema.getFieldOrNull(String) call org.apache.solr.schema.IndexSchema.getFieldOrNull(String) call org.apache.solr.schema.IndexSchema.getFieldOrNull(String) call org.apache.solr.schema.IndexSchema.getFieldOrNull(String) if != if call org.apache.solr.schema.SchemaField.storeTermVector() call org.apache.solr.schema.SchemaField.storeTermVector() call org.apache.solr.schema.SchemaField.storeTermVector() call org.apache.solr.schema.SchemaField.storeTermVector() call org.apache.solr.schema.SchemaField.storeTermVector() decl_stmt FieldOptions = call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() call decl Map.get() if == = new = call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() = call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) = call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) = call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) = call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) if && ! call SchemaField.storeTermPositions() call SchemaField.storeTermPositions() call SchemaField.storeTermPositions() call SchemaField.storeTermPositions() call SchemaField.storeTermPositions() && ! call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() = call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) if && ! call org.apache.solr.schema.SchemaField.storeTermOffsets() call org.apache.solr.schema.SchemaField.storeTermOffsets() call org.apache.solr.schema.SchemaField.storeTermOffsets() call org.apache.solr.schema.SchemaField.storeTermOffsets() call org.apache.solr.schema.SchemaField.storeTermOffsets() && ! call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() = call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) call org.apache.solr.common.params.SolrParams.getFieldBool(String,String) if && ! call org.apache.solr.schema.SchemaField.storeTermPayloads() call org.apache.solr.schema.SchemaField.storeTermPayloads() call org.apache.solr.schema.SchemaField.storeTermPayloads() call org.apache.solr.schema.SchemaField.storeTermPayloads() call org.apache.solr.schema.SchemaField.storeTermPayloads() && ! call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() else if ! call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() else throw new + if ! call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() if ! call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() if ! call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() if ! call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() if call decl NamedList.size() call decl NamedList.size() call decl NamedList.size() call decl NamedList.size() call decl NamedList.size() > call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() decl_stmt DocListAndSet = decl_stmt java.util.List < = call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() call SolrParams.getParams() decl_stmt java.util.Iterator < if != && ! call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() call decl List.isEmpty() = call decl List.iterator() call decl List.iterator() call decl List.iterator() call decl List.iterator() call decl List.iterator() else decl_stmt org.apache.solr.search.DocList = = call org.apache.solr.search.DocList.iterator() call org.apache.solr.search.DocList.iterator() call org.apache.solr.search.DocList.iterator() call org.apache.solr.search.DocList.iterator() call org.apache.solr.search.DocList.iterator() decl_stmt org.apache.solr.search.SolrIndexSearcher = decl_stmt org.apache.lucene.index.IndexReader = call org.apache.solr.search.SolrIndexSearcher.getIndexReader() call org.apache.solr.search.SolrIndexSearcher.getIndexReader() call org.apache.solr.search.SolrIndexSearcher.getIndexReader() call org.apache.solr.search.SolrIndexSearcher.getIndexReader() call org.apache.solr.search.SolrIndexSearcher.getIndexReader() decl_stmt java.lang.String final final = decl_stmt java.util.List final final final < = new <> decl_stmt org.apache.lucene.index.StoredFieldVisitor final final = new public public call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() new public public call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() public public call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() public public return : while call decl Iterator.hasNext() call decl Iterator.hasNext() call decl Iterator.hasNext() call decl Iterator.hasNext() call decl Iterator.hasNext() decl_stmt java.lang.Integer = call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() decl_stmt org.apache.solr.common.util.NamedList < = new <> if != call org.apache.lucene.index.IndexReader.document(int) call org.apache.lucene.index.IndexReader.document(int) call org.apache.lucene.index.IndexReader.document(int) call org.apache.lucene.index.IndexReader.document(int) call org.apache.lucene.index.IndexReader.document(int) decl_stmt java.lang.String = if call decl List.size() call decl List.size() call decl List.size() call decl List.size() call decl List.size() != = call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.get() call decl List.clear() call decl List.clear() call decl List.clear() call decl List.clear() call decl List.clear() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() else call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() + if != for < : call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() call decl Map.entrySet() decl_stmt java.lang.String final final = decl_stmt org.apache.lucene.index.Terms final final = call org.apache.lucene.index.IndexReader.getTermVector(int,String) call org.apache.lucene.index.IndexReader.getTermVector(int,String) call org.apache.lucene.index.IndexReader.getTermVector(int,String) call org.apache.lucene.index.IndexReader.getTermVector(int,String) call org.apache.lucene.index.IndexReader.getTermVector(int,String) if != decl_stmt org.apache.lucene.index.TermsEnum = call Terms.iterator() call Terms.iterator() call Terms.iterator() call Terms.iterator() call Terms.iterator() else decl_stmt Fields final final = call IndexReader.getTermVectors() call IndexReader.getTermVectors() call IndexReader.getTermVectors() call IndexReader.getTermVectors() call IndexReader.getTermVectors() for : decl_stmt org.apache.lucene.index.Terms = call Fields.terms() call Fields.terms() call Fields.terms() call Fields.terms() call Fields.terms() if != decl_stmt org.apache.lucene.index.TermsEnum = call Terms.iterator() call Terms.iterator() call Terms.iterator() call Terms.iterator() call Terms.iterator() public public new public public public public public public return : decl NamedList String BytesRef int int BytesRef double PostingsEnum decl NamedList decl NamedList int int decl NamedList int boolean decl NamedList private private < throws decl_stmt org.apache.solr.common.util.NamedList < = new <> decl_stmt org.apache.lucene.util.BytesRef decl_stmt org.apache.lucene.index.PostingsEnum = while = != decl_stmt java.lang.String = call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() call org.apache.lucene.util.BytesRef.utf8ToString() decl_stmt org.apache.solr.common.util.NamedList < = new <> call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() decl_stmt int final final = int if == call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() decl_stmt int = |= : |= || : |= : = decl_stmt boolean = if != call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() call PostingsEnum.nextDoc() = if && != decl_stmt org.apache.solr.common.util.NamedList < = decl_stmt org.apache.solr.common.util.NamedList < = decl_stmt org.apache.solr.common.util.NamedList < = for = < ++ decl_stmt int final final = call PostingsEnum.nextPosition() call PostingsEnum.nextPosition() call PostingsEnum.nextPosition() call PostingsEnum.nextPosition() call PostingsEnum.nextPosition() if && >= if == = new <> call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() decl_stmt int = call PostingsEnum.startOffset() call PostingsEnum.startOffset() call PostingsEnum.startOffset() call PostingsEnum.startOffset() call PostingsEnum.startOffset() : - if >= if == = new <> call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call PostingsEnum.startOffset() call PostingsEnum.startOffset() call PostingsEnum.startOffset() call PostingsEnum.startOffset() call PostingsEnum.startOffset() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call PostingsEnum.endOffset() call PostingsEnum.endOffset() call PostingsEnum.endOffset() call PostingsEnum.endOffset() call PostingsEnum.endOffset() decl_stmt org.apache.lucene.util.BytesRef = call PostingsEnum.getPayload() call PostingsEnum.getPayload() call PostingsEnum.getPayload() call PostingsEnum.getPayload() call PostingsEnum.getPayload() : if != if == = new <> call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() decl_stmt int = if || = new if call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() if decl_stmt double = double / call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() decl List private < private < decl_stmt java.util.List < = if != && > = new <> for = < ++ try call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() new catch throw new return public public throws decl NamedList decl Map decl NamedList Object public public if == decl_stmt org.apache.solr.common.util.NamedList < = new <> decl_stmt java.util.Map < = new for : if & == || ! continue for : decl_stmt org.apache.solr.common.util.NamedList < = < decl_stmt java.lang.Object = call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() call decl NamedList.get() if != && call decl NamedList.indexOf() call decl NamedList.indexOf() call decl NamedList.indexOf() call decl NamedList.indexOf() call decl NamedList.indexOf() < call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() call decl NamedList.add() public public = public public public public return