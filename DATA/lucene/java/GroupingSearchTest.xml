org.apache.lucene.search.grouping org.apache.lucene.analysis.MockAnalyzer import org.apache.lucene.document.Document import org.apache.lucene.document.Field import org.apache.lucene.document.FieldType import org.apache.lucene.document.SortedDocValuesField import org.apache.lucene.document.StringField import org.apache.lucene.document.TextField import org.apache.lucene.index.RandomIndexWriter import org.apache.lucene.index.Term import org.apache.lucene.queries.function.ValueSource import org.apache.lucene.queries.function.valuesource.BytesRefFieldSource import org.apache.lucene.search.IndexSearcher import org.apache.lucene.search.Query import org.apache.lucene.search.Sort import org.apache.lucene.search.TermQuery import org.apache.lucene.store.Directory import org.apache.lucene.util.BytesRef import org.apache.lucene.util.LuceneTestCase import org.apache.lucene.util.mutable.MutableValueStr import java.util.ArrayList import java.util.HashMap import java.util.List import class org.apache.lucene.search.grouping.GroupingSearchTest super super extends Sort decl List decl GroupDocs decl TopGroups Document FieldType Query boolean IndexSearcher String RandomIndexWriter GroupingSearch Directory public public throws decl_stmt java.lang.String final final = decl_stmt org.apache.solr.schema.FieldType = new call org.apache.solr.schema.FieldType.setStored(boolean) call org.apache.solr.schema.FieldType.setStored(boolean) call org.apache.solr.schema.FieldType.setStored(boolean) call org.apache.solr.schema.FieldType.setStored(boolean) call org.apache.solr.schema.FieldType.setStored(boolean) decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.RandomIndexWriter = new new decl_stmt boolean = decl_stmt java.util.List < = new <> decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call decl List.clear() call decl List.clear() call decl List.clear() call decl List.clear() call decl List.clear() = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call decl List.add() call decl List.add() call decl List.add() call decl List.add() call decl List.add() call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocuments(Iterable) call decl List.clear() call decl List.clear() call decl List.clear() call decl List.clear() call decl List.clear() = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) decl_stmt org.apache.lucene.search.IndexSearcher = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() decl_stmt org.apache.lucene.search.Sort = decl_stmt org.apache.lucene.search.grouping.GroupingSearch = decl_stmt org.apache.lucene.search.grouping.TopGroups < = call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) new new decl_stmt GroupDocs < = >= = >= >= = = decl_stmt org.apache.lucene.search.Query = new new = new = call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) new new call decl TopGroups.totalGroupCount() call decl TopGroups.totalGroupCount() call decl TopGroups.totalGroupCount() call decl TopGroups.totalGroupCount() call decl TopGroups.totalGroupCount() call decl TopGroups.totalGroupCount() call decl TopGroups.totalGroupCount() call decl TopGroups.totalGroupCount() call decl TopGroups.totalGroupCount() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close() private private new if new new MutableValueStr private private < if == if == return else if return else if == return if new else if decl_stmt org.apache.lucene.util.mutable.MutableValueStr = new call MutableValueStr.value() call MutableValueStr.value() call MutableValueStr.value() call MutableValueStr.value() call MutableValueStr.value() call MutableValueStr.value() call MutableValueStr.value() call MutableValueStr.value() call MutableValueStr.value() else ValueSource GroupingSearch private private decl_stmt org.apache.lucene.search.grouping.GroupingSearch if decl_stmt org.apache.lucene.queries.function.ValueSource = new = new new <> else = new call org.apache.lucene.search.grouping.GroupingSearch.setGroupSort(Sort) call org.apache.lucene.search.grouping.GroupingSearch.setGroupSort(Sort) call org.apache.lucene.search.grouping.GroupingSearch.setGroupSort(Sort) call org.apache.lucene.search.grouping.GroupingSearch.setGroupSort(Sort) call org.apache.lucene.search.grouping.GroupingSearch.setGroupSort(Sort) call org.apache.lucene.search.grouping.GroupingSearch.setGroupDocsLimit(int) call org.apache.lucene.search.grouping.GroupingSearch.setGroupDocsLimit(int) call org.apache.lucene.search.grouping.GroupingSearch.setGroupDocsLimit(int) call org.apache.lucene.search.grouping.GroupingSearch.setGroupDocsLimit(int) call org.apache.lucene.search.grouping.GroupingSearch.setGroupDocsLimit(int) if call org.apache.lucene.search.grouping.GroupingSearch.setCachingInMB(double,boolean) call org.apache.lucene.search.grouping.GroupingSearch.setCachingInMB(double,boolean) call org.apache.lucene.search.grouping.GroupingSearch.setCachingInMB(double,boolean) call org.apache.lucene.search.grouping.GroupingSearch.setCachingInMB(double,boolean) call org.apache.lucene.search.grouping.GroupingSearch.setCachingInMB(double,boolean) return GroupingSearch RandomIndexWriter Document IndexSearcher decl TopGroups Directory public public throws decl_stmt org.apache.lucene.store.Directory = decl_stmt org.apache.lucene.index.RandomIndexWriter = new new decl_stmt org.apache.lucene.document.Document = new call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) call org.apache.lucene.document.Document.add(IndexableField) new new call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) call org.apache.lucene.index.RandomIndexWriter.addDocument(Iterable) decl_stmt org.apache.lucene.search.IndexSearcher = call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.getReader() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() call org.apache.lucene.index.RandomIndexWriter.close() decl_stmt org.apache.lucene.search.grouping.GroupingSearch = new call org.apache.lucene.search.grouping.GroupingSearch.setAllGroups(boolean) call org.apache.lucene.search.grouping.GroupingSearch.setAllGroups(boolean) call org.apache.lucene.search.grouping.GroupingSearch.setAllGroups(boolean) call org.apache.lucene.search.grouping.GroupingSearch.setAllGroups(boolean) call org.apache.lucene.search.grouping.GroupingSearch.setAllGroups(boolean) decl_stmt org.apache.lucene.search.grouping.TopGroups < = call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) call org.apache.lucene.search.grouping.GroupingSearch.search(IndexSearcher,Query,int,int) new new call GroupingSearch.getAllMatchingGroups() call GroupingSearch.getAllMatchingGroups() call GroupingSearch.getAllMatchingGroups() call GroupingSearch.getAllMatchingGroups() call GroupingSearch.getAllMatchingGroups() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call org.apache.lucene.search.IndexSearcher.getIndexReader() call Directory.close() call Directory.close() call Directory.close() call Directory.close() call Directory.close()