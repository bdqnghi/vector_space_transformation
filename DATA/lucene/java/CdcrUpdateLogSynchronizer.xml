org.apache.solr.handler java.io.IOException import java.lang.invoke.MethodHandles import java.util.concurrent.Executors import java.util.concurrent.ScheduledExecutorService import java.util.concurrent.TimeUnit import org.apache.solr.client.solrj.SolrRequest import org.apache.solr.client.solrj.SolrServerException import org.apache.solr.client.solrj.impl.HttpSolrClient import org.apache.solr.client.solrj.request.QueryRequest import org.apache.solr.cloud.ZkController import org.apache.solr.common.cloud.ClusterState import org.apache.solr.common.cloud.ZkCoreNodeProps import org.apache.solr.common.cloud.ZkNodeProps import org.apache.solr.common.params.CommonParams import org.apache.solr.common.params.ModifiableSolrParams import org.apache.solr.common.params.SolrParams import org.apache.solr.common.util.NamedList import org.apache.solr.core.SolrCore import org.apache.solr.update.CdcrUpdateLog import org.apache.solr.util.DefaultSolrThreadFactory import org.slf4j.Logger import org.slf4j.LoggerFactory import class org.apache.solr.handler.CdcrUpdateLogSynchronizer super super implements CdcrLeaderStateManager Logger SolrCore int String String int ScheduledExecutorService String final final = public public if ! call org.apache.solr.handler.CdcrLeaderStateManager.amILeader() call org.apache.solr.handler.CdcrLeaderStateManager.amILeader() call org.apache.solr.handler.CdcrLeaderStateManager.amILeader() call org.apache.solr.handler.CdcrLeaderStateManager.amILeader() call org.apache.solr.handler.CdcrLeaderStateManager.amILeader() = new call java.util.concurrent.ScheduledExecutorService.scheduleWithFixedDelay(Runnable,long,long,TimeUnit) call java.util.concurrent.ScheduledExecutorService.scheduleWithFixedDelay(Runnable,long,long,TimeUnit) call java.util.concurrent.ScheduledExecutorService.scheduleWithFixedDelay(Runnable,long,long,TimeUnit) call java.util.concurrent.ScheduledExecutorService.scheduleWithFixedDelay(Runnable,long,long,TimeUnit) call java.util.concurrent.ScheduledExecutorService.scheduleWithFixedDelay(Runnable,long,long,TimeUnit) new return return != if != call ScheduledExecutorService.shutdownNow() call ScheduledExecutorService.shutdownNow() call ScheduledExecutorService.shutdownNow() call ScheduledExecutorService.shutdownNow() call ScheduledExecutorService.shutdownNow() = ClusterState ZkNodeProps ZkController ZkCoreNodeProps private private decl_stmt org.apache.solr.cloud.ZkController = call org.apache.solr.core.SolrCore.getCoreDescriptor() call org.apache.solr.core.SolrCore.getCoreDescriptor() call org.apache.solr.core.SolrCore.getCoreDescriptor() call org.apache.solr.core.SolrCore.getCoreDescriptor() call org.apache.solr.core.SolrCore.getCoreDescriptor() decl_stmt org.apache.solr.common.cloud.ClusterState = call org.apache.solr.cloud.ZkController.getClusterState() call org.apache.solr.cloud.ZkController.getClusterState() call org.apache.solr.cloud.ZkController.getClusterState() call org.apache.solr.cloud.ZkController.getClusterState() call org.apache.solr.cloud.ZkController.getClusterState() decl_stmt org.apache.solr.common.cloud.ZkNodeProps = call org.apache.solr.common.cloud.ClusterState.getLeader(String,String) call org.apache.solr.common.cloud.ClusterState.getLeader(String,String) call org.apache.solr.common.cloud.ClusterState.getLeader(String,String) call org.apache.solr.common.cloud.ClusterState.getLeader(String,String) call org.apache.solr.common.cloud.ClusterState.getLeader(String,String) if == return decl_stmt org.apache.solr.common.cloud.ZkCoreNodeProps = new return call org.apache.solr.common.cloud.ZkCoreNodeProps.getCoreUrl() call org.apache.solr.common.cloud.ZkCoreNodeProps.getCoreUrl() call org.apache.solr.common.cloud.ZkCoreNodeProps.getCoreUrl() call org.apache.solr.common.cloud.ZkCoreNodeProps.getCoreUrl() call org.apache.solr.common.cloud.ZkCoreNodeProps.getCoreUrl() CdcrUpdateLog SolrRequest HttpSolrClient ModifiableSolrParams String NamedList long public public try decl_stmt java.lang.String = if == return decl_stmt org.apache.solr.client.solrj.impl.HttpSolrClient = new call org.apache.solr.client.solrj.impl.HttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setConnectionTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setSoTimeout(int) call org.apache.solr.client.solrj.impl.HttpSolrClient.setSoTimeout(int) decl_stmt org.apache.solr.common.params.ModifiableSolrParams = new call org.apache.solr.common.params.ModifiableSolrParams.set(String,boolean) call org.apache.solr.common.params.ModifiableSolrParams.set(String,boolean) call org.apache.solr.common.params.ModifiableSolrParams.set(String,boolean) call org.apache.solr.common.params.ModifiableSolrParams.set(String,boolean) call org.apache.solr.common.params.ModifiableSolrParams.set(String,boolean) decl_stmt org.apache.solr.client.solrj.SolrRequest = new call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) call org.apache.solr.client.solrj.SolrRequest.setPath(String) decl_stmt long try decl_stmt org.apache.solr.common.util.NamedList = call org.apache.solr.client.solrj.impl.HttpSolrClient.request(SolrRequest,ResponseParser) call org.apache.solr.client.solrj.impl.HttpSolrClient.request(SolrRequest,ResponseParser) call org.apache.solr.client.solrj.impl.HttpSolrClient.request(SolrRequest,ResponseParser) call org.apache.solr.client.solrj.impl.HttpSolrClient.request(SolrRequest,ResponseParser) call org.apache.solr.client.solrj.impl.HttpSolrClient.request(SolrRequest,ResponseParser) = call org.apache.solr.common.util.NamedList.get(String) call org.apache.solr.common.util.NamedList.get(String) call org.apache.solr.common.util.NamedList.get(String) call org.apache.solr.common.util.NamedList.get(String) call org.apache.solr.common.util.NamedList.get(String) call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call org.apache.solr.core.SolrCore.getCoreDescriptor() call org.apache.solr.core.SolrCore.getCoreDescriptor() call org.apache.solr.core.SolrCore.getCoreDescriptor() call org.apache.solr.core.SolrCore.getCoreDescriptor() call org.apache.solr.core.SolrCore.getCoreDescriptor() catch call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() return finally try call org.apache.solr.client.solrj.impl.HttpSolrClient.close() call org.apache.solr.client.solrj.impl.HttpSolrClient.close() call org.apache.solr.client.solrj.impl.HttpSolrClient.close() call org.apache.solr.client.solrj.impl.HttpSolrClient.close() call org.apache.solr.client.solrj.impl.HttpSolrClient.close() catch call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() if == - return try decl_stmt org.apache.solr.update.CdcrUpdateLog = call org.apache.solr.core.SolrCore.getUpdateHandler() call org.apache.solr.core.SolrCore.getUpdateHandler() call org.apache.solr.core.SolrCore.getUpdateHandler() call org.apache.solr.core.SolrCore.getUpdateHandler() call org.apache.solr.core.SolrCore.getUpdateHandler() if call org.apache.solr.update.CdcrUpdateLog.isBuffering() call org.apache.solr.update.CdcrUpdateLog.isBuffering() call org.apache.solr.update.CdcrUpdateLog.isBuffering() call org.apache.solr.update.CdcrUpdateLog.isBuffering() call org.apache.solr.update.CdcrUpdateLog.isBuffering() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call Logger.debug() call org.apache.solr.update.CdcrUpdateLog.getBufferToggle() call org.apache.solr.update.CdcrUpdateLog.getBufferToggle() call org.apache.solr.update.CdcrUpdateLog.getBufferToggle() call org.apache.solr.update.CdcrUpdateLog.getBufferToggle() call org.apache.solr.update.CdcrUpdateLog.getBufferToggle() catch call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() catch call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() catch call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() call Logger.warn() throw