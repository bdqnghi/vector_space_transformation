org.apache.solr.cloud java.io.File import java.util.List import java.util.Locale import java.util.Properties import javax.security.auth.login.Configuration import org.apache.commons.io.FileUtils import org.apache.hadoop.minikdc.MiniKdc import org.apache.lucene.index.TieredMergePolicy import org.apache.lucene.util.Constants import org.apache.lucene.util.LuceneTestCase import org.apache.solr.SolrTestCaseJ4 import org.apache.solr.client.solrj.SolrQuery import org.apache.solr.client.solrj.embedded.JettyConfig import org.apache.solr.client.solrj.embedded.JettySolrRunner import org.apache.solr.client.solrj.impl.CloudSolrClient import org.apache.solr.client.solrj.request.CollectionAdminRequest import org.apache.solr.client.solrj.response.QueryResponse import org.apache.solr.common.SolrInputDocument import org.apache.solr.common.cloud.SolrZkClient import org.apache.solr.common.cloud.ZkStateReader import org.apache.solr.core.CoreDescriptor import org.apache.solr.index.TieredMergePolicyFactory import org.apache.solr.util.BadZookeeperThreadsFilter import org.apache.solr.util.RevertDefaultThreadHandlerRule import org.junit.BeforeClass import org.junit.ClassRule import org.junit.Rule import org.junit.Test import org.junit.rules.RuleChain import org.junit.rules.TestRule import com.carrotsearch.randomizedtesting.annotations.ThreadLeakFilters import com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule import class annotation annotation annotation org.apache.solr.cloud.TestSolrCloudWithKerberosAlt super super extends Configuration MiniKdc int TestRule Locale int int TestRule public static public static public public throws = String String File String String Configuration String private private throws decl_stmt java.lang.String = + + = new decl_stmt File = new decl_stmt java.lang.String = decl_stmt java.lang.String = call MiniKdc.start() call MiniKdc.start() call MiniKdc.start() call MiniKdc.start() call MiniKdc.start() call MiniKdc.createPrincipal() call MiniKdc.createPrincipal() call MiniKdc.createPrincipal() call MiniKdc.createPrincipal() call MiniKdc.createPrincipal() decl_stmt java.lang.String = + + + + call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() + + + + + + + + + decl_stmt Configuration = new decl_stmt java.lang.String = + + new call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() call File.getAbsolutePath() + + public public throws if QueryResponse String String Properties decl List MiniSolrCloudCluster decl CollectionAdminRequest CloudSolrClient SolrInputDocument SolrQuery decl Create File protected protected throws decl_stmt java.lang.String = decl_stmt org.apache.solr.cloud.MiniSolrCloudCluster = new decl_stmt org.apache.solr.client.solrj.impl.CloudSolrClient = call org.apache.solr.cloud.MiniSolrCloudCluster.getSolrClient() call org.apache.solr.cloud.MiniSolrCloudCluster.getSolrClient() call org.apache.solr.cloud.MiniSolrCloudCluster.getSolrClient() call org.apache.solr.cloud.MiniSolrCloudCluster.getSolrClient() call org.apache.solr.cloud.MiniSolrCloudCluster.getSolrClient() call org.apache.solr.client.solrj.impl.CloudSolrClient.setDefaultCollection(String) call org.apache.solr.client.solrj.impl.CloudSolrClient.setDefaultCollection(String) call org.apache.solr.client.solrj.impl.CloudSolrClient.setDefaultCollection(String) call org.apache.solr.client.solrj.impl.CloudSolrClient.setDefaultCollection(String) call org.apache.solr.client.solrj.impl.CloudSolrClient.setDefaultCollection(String) try call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() decl_stmt java.util.List < = call org.apache.solr.cloud.MiniSolrCloudCluster.getJettySolrRunners() call org.apache.solr.cloud.MiniSolrCloudCluster.getJettySolrRunners() call org.apache.solr.cloud.MiniSolrCloudCluster.getJettySolrRunners() call org.apache.solr.cloud.MiniSolrCloudCluster.getJettySolrRunners() call org.apache.solr.cloud.MiniSolrCloudCluster.getJettySolrRunners() call decl List.size() call decl List.size() call decl List.size() call decl List.size() call decl List.size() for : decl_stmt java.lang.String = decl_stmt File = new + + + + call org.apache.solr.cloud.MiniSolrCloudCluster.uploadConfigDir(File,String) call org.apache.solr.cloud.MiniSolrCloudCluster.uploadConfigDir(File,String) call org.apache.solr.cloud.MiniSolrCloudCluster.uploadConfigDir(File,String) call org.apache.solr.cloud.MiniSolrCloudCluster.uploadConfigDir(File,String) call org.apache.solr.cloud.MiniSolrCloudCluster.uploadConfigDir(File,String) decl_stmt Create = new call decl CollectionAdminRequest.setCollectionName() call decl CollectionAdminRequest.setCollectionName() call decl CollectionAdminRequest.setCollectionName() call decl CollectionAdminRequest.setCollectionName() call decl CollectionAdminRequest.setCollectionName() call decl CollectionAdminRequest.setNumShards() call decl CollectionAdminRequest.setNumShards() call decl CollectionAdminRequest.setNumShards() call decl CollectionAdminRequest.setNumShards() call decl CollectionAdminRequest.setNumShards() call decl CollectionAdminRequest.setReplicationFactor() call decl CollectionAdminRequest.setReplicationFactor() call decl CollectionAdminRequest.setReplicationFactor() call decl CollectionAdminRequest.setReplicationFactor() call decl CollectionAdminRequest.setReplicationFactor() decl_stmt java.util.Properties = new call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() if call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() else call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl Create.put() call decl CollectionAdminRequest.setProperties() call decl CollectionAdminRequest.setProperties() call decl CollectionAdminRequest.setProperties() call decl CollectionAdminRequest.setProperties() call decl CollectionAdminRequest.setProperties() call decl CollectionAdminRequest.process() call decl CollectionAdminRequest.process() call decl CollectionAdminRequest.process() call decl CollectionAdminRequest.process() call decl CollectionAdminRequest.process() try = new call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() call org.apache.solr.cloud.MiniSolrCloudCluster.getZkServer() = new decl_stmt org.apache.solr.common.SolrInputDocument = new call Properties.setField() call Properties.setField() call Properties.setField() call Properties.setField() call Properties.setField() call CloudSolrClient.add() call CloudSolrClient.add() call CloudSolrClient.add() call CloudSolrClient.add() call CloudSolrClient.add() call CloudSolrClient.commit() call CloudSolrClient.commit() call CloudSolrClient.commit() call CloudSolrClient.commit() call CloudSolrClient.commit() decl_stmt org.apache.solr.client.solrj.SolrQuery = new call SolrInputDocument.setQuery() call SolrInputDocument.setQuery() call SolrInputDocument.setQuery() call SolrInputDocument.setQuery() call SolrInputDocument.setQuery() decl_stmt org.apache.solr.client.solrj.response.QueryResponse = call CloudSolrClient.query() call CloudSolrClient.query() call CloudSolrClient.query() call CloudSolrClient.query() call CloudSolrClient.query() call SolrQuery.getResults() call SolrQuery.getResults() call SolrQuery.getResults() call SolrQuery.getResults() call SolrQuery.getResults() decl_stmt Delete = new call QueryResponse.setCollectionName() call QueryResponse.setCollectionName() call QueryResponse.setCollectionName() call QueryResponse.setCollectionName() call QueryResponse.setCollectionName() call QueryResponse.process() call QueryResponse.process() call QueryResponse.process() call QueryResponse.process() call QueryResponse.process() finally call org.apache.solr.client.solrj.impl.CloudSolrClient.close() call org.apache.solr.client.solrj.impl.CloudSolrClient.close() call org.apache.solr.client.solrj.impl.CloudSolrClient.close() call org.apache.solr.client.solrj.impl.CloudSolrClient.close() call org.apache.solr.client.solrj.impl.CloudSolrClient.close() call org.apache.solr.cloud.MiniSolrCloudCluster.shutdown() call org.apache.solr.cloud.MiniSolrCloudCluster.shutdown() call org.apache.solr.cloud.MiniSolrCloudCluster.shutdown() call org.apache.solr.cloud.MiniSolrCloudCluster.shutdown() call org.apache.solr.cloud.MiniSolrCloudCluster.shutdown() public public throws if != call MiniKdc.stop() call MiniKdc.stop() call MiniKdc.stop() call MiniKdc.stop() call MiniKdc.stop()