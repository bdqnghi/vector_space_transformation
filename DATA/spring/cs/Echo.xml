Spring.Services.WindowsService.Samples System using System.IO using System.Net using System.Net.Sockets using System.Reflection using System.Threading using log4net using class Spring.Services.WindowsService.Samples.Echo Thread int TcpListener ILog = public public if ! call System.Net.Sockets.TcpListener.Pending() call System.Net.Sockets.TcpListener.Pending() call System.Net.Sockets.TcpListener.Pending() call System.Net.Sockets.TcpListener.Pending() call System.Net.Sockets.TcpListener.Pending() call TcpListener.Stop() call TcpListener.Stop() call TcpListener.Stop() call TcpListener.Stop() call TcpListener.Stop() ThreadStart public public call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() = new decl_stmt ThreadStart = new = new call Thread.Start() call Thread.Start() call Thread.Start() call Thread.Start() call Thread.Start() StreamWriter string StreamReader Socket NetworkStream private private call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() call System.Net.Sockets.TcpListener.Start(int) call System.Net.Sockets.TcpListener.Start(int) call System.Net.Sockets.TcpListener.Start(int) call System.Net.Sockets.TcpListener.Start(int) call System.Net.Sockets.TcpListener.Start(int) while decl_stmt System.Net.Sockets.Socket try = call System.Net.Sockets.TcpListener.AcceptSocket() call System.Net.Sockets.TcpListener.AcceptSocket() call System.Net.Sockets.TcpListener.AcceptSocket() call System.Net.Sockets.TcpListener.AcceptSocket() call System.Net.Sockets.TcpListener.AcceptSocket() catch break if call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() decl_stmt System.Net.Sockets.NetworkStream = new decl_stmt System.IO.StreamWriter = new decl_stmt System.IO.StreamReader = new decl_stmt string = call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.Flush(bool,bool) call System.IO.StreamWriter.Flush(bool,bool) call System.IO.StreamWriter.Flush(bool,bool) call System.IO.StreamWriter.Flush(bool,bool) call System.IO.StreamWriter.Flush(bool,bool) = call System.IO.StreamReader.ReadLine() call System.IO.StreamReader.ReadLine() call System.IO.StreamReader.ReadLine() call System.IO.StreamReader.ReadLine() call System.IO.StreamReader.ReadLine() call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.WriteLine(string) call System.IO.StreamWriter.WriteLine(string) + call System.IO.StreamWriter.Flush(bool,bool) call System.IO.StreamWriter.Flush(bool,bool) call System.IO.StreamWriter.Flush(bool,bool) call System.IO.StreamWriter.Flush(bool,bool) call System.IO.StreamWriter.Flush(bool,bool) call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() + call System.IO.StreamReader.Close() call System.IO.StreamReader.Close() call System.IO.StreamReader.Close() call System.IO.StreamReader.Close() call System.IO.StreamReader.Close() call System.Net.Sockets.NetworkStream.Close(int) call System.Net.Sockets.NetworkStream.Close(int) call System.Net.Sockets.NetworkStream.Close(int) call System.Net.Sockets.NetworkStream.Close(int) call System.Net.Sockets.NetworkStream.Close(int) call System.IO.StreamWriter.Close() call System.IO.StreamWriter.Close() call System.IO.StreamWriter.Close() call System.IO.StreamWriter.Close() call System.IO.StreamWriter.Close() call System.Net.Sockets.Socket.Close() call System.Net.Sockets.Socket.Close() call System.Net.Sockets.Socket.Close() call System.Net.Sockets.Socket.Close() call System.Net.Sockets.Socket.Close()