Spring.Messaging.Ems.Connections System using System.Data using Common.Logging using Spring.Messaging.Ems.Common using Spring.Messaging.Ems.Core using Spring.Objects.Factory using Spring.Transaction using Spring.Transaction.Support using TIBCO.EMS using class Spring.Messaging.Ems.Connections.EmsTransactionManager super super AbstractPlatformTransactionManager super IResourceTransactionManager super IInitializingObject IConnectionFactory ILog return = public public if == throw new return EmsTransactionObject protected override protected override decl_stmt EmsTransactionObject = new = return EmsTransactionObject ISession int IConnection protected override protected override if != throw new decl_stmt EmsTransactionObject = decl_stmt Spring.Messaging.Ems.Common.IConnection = decl_stmt Spring.Messaging.Ems.Common.ISession = try = = if + + + + = new = decl_stmt int = if != = catch if != try call ISession.Close() call ISession.Close() call ISession.Close() call ISession.Close() call ISession.Close() catch if != try call Spring.Messaging.Ems.Common.IConnection.Close() call Spring.Messaging.Ems.Common.IConnection.Close() call Spring.Messaging.Ems.Common.IConnection.Close() call Spring.Messaging.Ems.Common.IConnection.Close() call Spring.Messaging.Ems.Common.IConnection.Close() catch throw new EmsTransactionObject protected override protected override decl_stmt EmsTransactionObject = = return EmsResourceHolder protected override protected override decl_stmt Spring.Messaging.Ems.Connections.EmsResourceHolder = EmsTransactionObject ISession protected override protected override decl_stmt EmsTransactionObject = decl_stmt Spring.Messaging.Ems.Common.ISession = call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() try if call ILog.Debug() call ILog.Debug() call ILog.Debug() call ILog.Debug() call ILog.Debug() + + call Spring.Messaging.Ems.Common.ISession.Commit() call Spring.Messaging.Ems.Common.ISession.Commit() call Spring.Messaging.Ems.Common.ISession.Commit() call Spring.Messaging.Ems.Common.ISession.Commit() call Spring.Messaging.Ems.Common.ISession.Commit() catch throw new catch throw new EmsTransactionObject ISession protected override protected override decl_stmt EmsTransactionObject = decl_stmt Spring.Messaging.Ems.Common.ISession = call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() try if call ILog.Debug() call ILog.Debug() call ILog.Debug() call ILog.Debug() call ILog.Debug() + + call Spring.Messaging.Ems.Common.ISession.Rollback() call Spring.Messaging.Ems.Common.ISession.Rollback() call Spring.Messaging.Ems.Common.ISession.Rollback() call Spring.Messaging.Ems.Common.ISession.Rollback() call Spring.Messaging.Ems.Common.ISession.Rollback() catch throw new EmsTransactionObject protected override protected override decl_stmt EmsTransactionObject = = EmsTransactionObject protected override protected override decl_stmt EmsTransactionObject = call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() call EmsTransactionObject.ResourceHolder() EmsTransactionObject protected override protected override decl_stmt EmsTransactionObject = as if != return != return protected virtual protected virtual return protected virtual protected virtual return return = return