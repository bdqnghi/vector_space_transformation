Spring.Messaging.Listener System using System.Messaging using Common.Logging using class Spring.Messaging.Listener.SendToQueueExceptionHandler super super AbstractSendToQueueExceptionHandler super IMessageTransactionExceptionHandler ILog decl string = return MessageStats string public public if return decl_stmt string = lock decl_stmt MessageStats = if = else = new = ++ call ILog.Warn() call ILog.Warn() call ILog.Warn() call ILog.Warn() call ILog.Warn() + + + + if > call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() + + return else call ILog.Warn() call ILog.Warn() call ILog.Warn() call ILog.Warn() call ILog.Warn() + + return protected virtual protected virtual if != foreach in if >= return return MessageQueue protected virtual protected virtual decl_stmt MessageQueue = try region region if call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() call ILog.Info() + + + + endregion call MessageQueue.Send() call MessageQueue.Send() call MessageQueue.Send() call MessageQueue.Send() call MessageQueue.Send() catch region region if call ILog.Error() call ILog.Error() call ILog.Error() call ILog.Error() call ILog.Error() + + + + call ILog.Error() call ILog.Error() call ILog.Error() call ILog.Error() call ILog.Error() + endregion return protected virtual protected virtual if == =