org.springframework.context.annotation java.lang.annotation.Retention import java.lang.annotation.RetentionPolicy import example.scannable.FooService import example.scannable.ServiceInvocationCounter import org.aspectj.lang.annotation.Aspect import org.aspectj.lang.annotation.Before import org.junit.Test import org.springframework.aop.support.AopUtils import org.springframework.context.ApplicationContext import org.springframework.context.ConfigurableApplicationContext import static static org.hamcrest.CoreMatchers.* import static static org.junit.Assert.* import class org.springframework.context.annotation.EnableAspectJAutoProxyTests ApplicationContext public public decl_stmt org.springframework.context.ApplicationContext = new call ApplicationContext.getBean() call ApplicationContext.getBean() call ApplicationContext.getBean() call ApplicationContext.getBean() call ApplicationContext.getBean() ApplicationContext public public decl_stmt org.springframework.context.ApplicationContext = new call ApplicationContext.getBean() call ApplicationContext.getBean() call ApplicationContext.getBean() call ApplicationContext.getBean() call ApplicationContext.getBean() FooService String ServiceInvocationCounter private private decl_stmt org.springframework.cache.config.FooService = decl_stmt example.scannable.ServiceInvocationCounter = call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call FooService.isInitCalled() call FooService.isInitCalled() call FooService.isInitCalled() call FooService.isInitCalled() call FooService.isInitCalled() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() decl_stmt java.lang.String = call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() ConfigurableApplicationContext SampleService public public decl_stmt org.springframework.context.ConfigurableApplicationContext = new decl_stmt SampleService = call ConfigurableApplicationContext.getBean() call ConfigurableApplicationContext.getBean() call ConfigurableApplicationContext.getBean() call ConfigurableApplicationContext.getBean() call ConfigurableApplicationContext.getBean() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() new call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() new call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() ConfigurableApplicationContext SampleService public public decl_stmt org.springframework.context.ConfigurableApplicationContext = new decl_stmt SampleService = call ConfigurableApplicationContext.getBean() call ConfigurableApplicationContext.getBean() call ConfigurableApplicationContext.getBean() call ConfigurableApplicationContext.getBean() call ConfigurableApplicationContext.getBean() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() new call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() new call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() call SampleService.execute() public public public public public public