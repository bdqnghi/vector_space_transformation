org.springframework.jms.connection javax.jms.Connection import javax.jms.ConnectionFactory import javax.jms.JMSException import javax.jms.Session import javax.jms.TransactionRolledBackException import org.springframework.beans.factory.InitializingBean import org.springframework.transaction.CannotCreateTransactionException import org.springframework.transaction.InvalidIsolationLevelException import org.springframework.transaction.TransactionDefinition import org.springframework.transaction.TransactionSystemException import org.springframework.transaction.UnexpectedRollbackException import org.springframework.transaction.support.AbstractPlatformTransactionManager import org.springframework.transaction.support.DefaultTransactionStatus import org.springframework.transaction.support.ResourceTransactionManager import org.springframework.transaction.support.SmartTransactionObject import org.springframework.transaction.support.TransactionSynchronizationManager import class annotation org.springframework.jms.connection.JmsTransactionManager super super extends super implements ConnectionFactory public public if instanceof = else = public public return public public if == throw new public public return JmsTransactionObject protected protected decl_stmt JmsTransactionObject = new call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() return JmsTransactionObject protected protected decl_stmt JmsTransactionObject = return call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() != JmsTransactionObject Session int Connection protected protected if != throw new decl_stmt JmsTransactionObject = decl_stmt sun.rmi.transport.Connection = decl_stmt sun.security.pkcs11.Session = try = = if + + + + call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() new call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() decl_stmt int = if != call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() catch if != try call sun.security.pkcs11.Session.close() call sun.security.pkcs11.Session.close() call sun.security.pkcs11.Session.close() call sun.security.pkcs11.Session.close() call sun.security.pkcs11.Session.close() catch if != try call sun.rmi.transport.Connection.close() call sun.rmi.transport.Connection.close() call sun.rmi.transport.Connection.close() call sun.rmi.transport.Connection.close() call sun.rmi.transport.Connection.close() catch throw new JmsTransactionObject protected protected decl_stmt JmsTransactionObject = call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() call JmsTransactionObject.setResourceHolder() return JmsResourceHolder protected protected decl_stmt org.springframework.jms.connection.JmsResourceHolder = JmsTransactionObject Session protected protected decl_stmt JmsTransactionObject = decl_stmt sun.security.pkcs11.Session = call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() try if + + call Session.commit() call Session.commit() call Session.commit() call Session.commit() call Session.commit() catch throw new catch throw new JmsTransactionObject Session protected protected decl_stmt JmsTransactionObject = decl_stmt sun.security.pkcs11.Session = call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() try if + + call Session.rollback() call Session.rollback() call Session.rollback() call Session.rollback() call Session.rollback() catch throw new JmsTransactionObject protected protected decl_stmt JmsTransactionObject = call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() JmsTransactionObject protected protected decl_stmt JmsTransactionObject = call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() call JmsTransactionObject.getResourceHolder() protected protected throws return protected protected throws return public public = public public return public public return public public