org.springframework.web.portlet.context javax.portlet.PortletContext import javax.portlet.PortletSession import javax.servlet.ServletContextEvent import org.junit.Test import org.springframework.beans.factory.support.GenericBeanDefinition import org.springframework.mock.web.portlet.MockRenderRequest import org.springframework.mock.web.portlet.ServletWrappingPortletContext import org.springframework.mock.web.test.MockServletContext import org.springframework.tests.sample.beans.DerivedTestBean import org.springframework.web.context.ContextCleanupListener import org.springframework.web.context.WebApplicationContext import org.springframework.web.context.request.RequestContextHolder import org.springframework.web.context.support.GenericWebApplicationContext import static static org.junit.Assert.* import class org.springframework.web.portlet.context.PortletApplicationContextScopeTests String MockServletContext PortletContext StaticPortletApplicationContext GenericBeanDefinition GenericWebApplicationContext private private decl_stmt org.springframework.mock.web.MockServletContext = new decl_stmt org.springframework.web.context.support.GenericWebApplicationContext = new call GenericWebApplicationContext.refresh() call GenericWebApplicationContext.refresh() call GenericWebApplicationContext.refresh() call GenericWebApplicationContext.refresh() call GenericWebApplicationContext.refresh() decl_stmt PortletContext = new decl_stmt org.springframework.web.portlet.context.StaticPortletApplicationContext = new call org.springframework.web.portlet.context.StaticPortletApplicationContext.setParent(ApplicationContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setParent(ApplicationContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setParent(ApplicationContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setParent(ApplicationContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setParent(ApplicationContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setPortletContext(PortletContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setPortletContext(PortletContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setPortletContext(PortletContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setPortletContext(PortletContext) call org.springframework.web.portlet.context.StaticPortletApplicationContext.setPortletContext(PortletContext) decl_stmt org.springframework.beans.factory.support.GenericBeanDefinition = new call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setScope() call GenericBeanDefinition.setScope() call GenericBeanDefinition.setScope() call GenericBeanDefinition.setScope() call GenericBeanDefinition.setScope() call StaticPortletApplicationContext.registerBeanDefinition() call StaticPortletApplicationContext.registerBeanDefinition() call StaticPortletApplicationContext.registerBeanDefinition() call StaticPortletApplicationContext.registerBeanDefinition() call StaticPortletApplicationContext.registerBeanDefinition() call StaticPortletApplicationContext.refresh() call StaticPortletApplicationContext.refresh() call StaticPortletApplicationContext.refresh() call StaticPortletApplicationContext.refresh() call StaticPortletApplicationContext.refresh() return PortletRequestAttributes WebApplicationContext MockRenderRequest DerivedTestBean public public decl_stmt org.springframework.web.context.WebApplicationContext = decl_stmt org.springframework.mock.web.portlet.MockRenderRequest = new decl_stmt org.springframework.web.portlet.context.PortletRequestAttributes = new try call MockRenderRequest.getAttribute() call MockRenderRequest.getAttribute() call MockRenderRequest.getAttribute() call MockRenderRequest.getAttribute() call MockRenderRequest.getAttribute() decl_stmt org.springframework.tests.sample.beans.DerivedTestBean = call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call MockRenderRequest.getAttribute() call MockRenderRequest.getAttribute() call MockRenderRequest.getAttribute() call MockRenderRequest.getAttribute() call MockRenderRequest.getAttribute() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call PortletRequestAttributes.requestCompleted() call PortletRequestAttributes.requestCompleted() call PortletRequestAttributes.requestCompleted() call PortletRequestAttributes.requestCompleted() call PortletRequestAttributes.requestCompleted() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() finally PortletRequestAttributes WebApplicationContext MockRenderRequest DerivedTestBean public public decl_stmt org.springframework.web.context.WebApplicationContext = decl_stmt org.springframework.mock.web.portlet.MockRenderRequest = new decl_stmt org.springframework.web.portlet.context.PortletRequestAttributes = new try call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() decl_stmt org.springframework.tests.sample.beans.DerivedTestBean = call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() finally PortletRequestAttributes WebApplicationContext MockRenderRequest DerivedTestBean public public decl_stmt org.springframework.web.context.WebApplicationContext = decl_stmt org.springframework.mock.web.portlet.MockRenderRequest = new decl_stmt org.springframework.web.portlet.context.PortletRequestAttributes = new try call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() decl_stmt org.springframework.tests.sample.beans.DerivedTestBean = call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call MockRenderRequest.getPortletSession() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() finally ConfigurablePortletApplicationContext DerivedTestBean public public decl_stmt org.springframework.web.portlet.context.ConfigurablePortletApplicationContext = call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() decl_stmt org.springframework.tests.sample.beans.DerivedTestBean = call ConfigurablePortletApplicationContext.getBean() call ConfigurablePortletApplicationContext.getBean() call ConfigurablePortletApplicationContext.getBean() call ConfigurablePortletApplicationContext.getBean() call ConfigurablePortletApplicationContext.getBean() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call org.springframework.web.portlet.context.ConfigurablePortletApplicationContext.getPortletContext() call ConfigurablePortletApplicationContext.getBean() call ConfigurablePortletApplicationContext.getBean() call ConfigurablePortletApplicationContext.getBean() call ConfigurablePortletApplicationContext.getBean() call ConfigurablePortletApplicationContext.getBean() new new call ConfigurablePortletApplicationContext.getServletContext() call ConfigurablePortletApplicationContext.getServletContext() call ConfigurablePortletApplicationContext.getServletContext() call ConfigurablePortletApplicationContext.getServletContext() call ConfigurablePortletApplicationContext.getServletContext() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed()