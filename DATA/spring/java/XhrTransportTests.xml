org.springframework.web.socket.sockjs.client java.net.URI import org.junit.Test import org.mockito.ArgumentCaptor import org.springframework.http.HttpHeaders import org.springframework.http.HttpStatus import org.springframework.http.MediaType import org.springframework.http.ResponseEntity import org.springframework.util.concurrent.SettableListenableFuture import org.springframework.web.client.HttpServerErrorException import org.springframework.web.socket.TextMessage import org.springframework.web.socket.WebSocketHandler import org.springframework.web.socket.WebSocketSession import static static org.junit.Assert.* import static static org.mockito.BDDMockito.* import class org.springframework.web.socket.sockjs.client.XhrTransportTests TestXhrTransport public public throws decl_stmt TestXhrTransport = new = new <> call TestXhrTransport.executeInfoRequest() call TestXhrTransport.executeInfoRequest() call TestXhrTransport.executeInfoRequest() call TestXhrTransport.executeInfoRequest() call TestXhrTransport.executeInfoRequest() new TestXhrTransport = public = public throws decl_stmt TestXhrTransport = new = new <> call TestXhrTransport.executeInfoRequest() call TestXhrTransport.executeInfoRequest() call TestXhrTransport.executeInfoRequest() call TestXhrTransport.executeInfoRequest() call TestXhrTransport.executeInfoRequest() new URI HttpHeaders TestXhrTransport public public throws decl_stmt org.springframework.http.HttpHeaders = new call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.setContentType(MediaType) call org.springframework.http.HttpHeaders.setContentType(MediaType) call org.springframework.http.HttpHeaders.setContentType(MediaType) call org.springframework.http.HttpHeaders.setContentType(MediaType) call org.springframework.http.HttpHeaders.setContentType(MediaType) decl_stmt TestXhrTransport = new = new <> decl_stmt java.net.URI = new call TestXhrTransport.executeSendRequest() call TestXhrTransport.executeSendRequest() call TestXhrTransport.executeSendRequest() call TestXhrTransport.executeSendRequest() call TestXhrTransport.executeSendRequest() new call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() call TestXhrTransport.actualSendRequestHeaders() URI TestXhrTransport = public = public throws decl_stmt TestXhrTransport = new = new <> decl_stmt java.net.URI = new call TestXhrTransport.executeSendRequest() call TestXhrTransport.executeSendRequest() call TestXhrTransport.executeSendRequest() call TestXhrTransport.executeSendRequest() call TestXhrTransport.executeSendRequest() new HttpHeaders TransportRequest WebSocketHandler decl ArgumentCaptor HttpHeaders TestXhrTransport public public throws decl_stmt org.springframework.http.HttpHeaders = new call org.springframework.http.HttpHeaders.setOrigin(String) call org.springframework.http.HttpHeaders.setOrigin(String) call org.springframework.http.HttpHeaders.setOrigin(String) call org.springframework.http.HttpHeaders.setOrigin(String) call org.springframework.http.HttpHeaders.setOrigin(String) decl_stmt org.springframework.web.socket.sockjs.client.TransportRequest = call org.springframework.web.socket.sockjs.client.TransportRequest.getSockJsUrlInfo() call org.springframework.web.socket.sockjs.client.TransportRequest.getSockJsUrlInfo() call org.springframework.web.socket.sockjs.client.TransportRequest.getSockJsUrlInfo() call org.springframework.web.socket.sockjs.client.TransportRequest.getSockJsUrlInfo() call org.springframework.web.socket.sockjs.client.TransportRequest.getSockJsUrlInfo() new new call org.springframework.web.socket.sockjs.client.TransportRequest.getHandshakeHeaders() call org.springframework.web.socket.sockjs.client.TransportRequest.getHandshakeHeaders() call org.springframework.web.socket.sockjs.client.TransportRequest.getHandshakeHeaders() call org.springframework.web.socket.sockjs.client.TransportRequest.getHandshakeHeaders() call org.springframework.web.socket.sockjs.client.TransportRequest.getHandshakeHeaders() decl_stmt org.springframework.http.HttpHeaders = new call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.set(String,String) call org.springframework.http.HttpHeaders.set(String,String) decl_stmt TestXhrTransport = new call TestXhrTransport.setRequestHeaders() call TestXhrTransport.setRequestHeaders() call TestXhrTransport.setRequestHeaders() call TestXhrTransport.setRequestHeaders() call TestXhrTransport.setRequestHeaders() decl_stmt org.springframework.web.socket.WebSocketHandler = call TestXhrTransport.connect() call TestXhrTransport.connect() call TestXhrTransport.connect() call TestXhrTransport.connect() call TestXhrTransport.connect() decl_stmt ArgumentCaptor < = call decl ArgumentCaptor.capture() call decl ArgumentCaptor.capture() call decl ArgumentCaptor.capture() call decl ArgumentCaptor.capture() call decl ArgumentCaptor.capture() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualHandshakeHeaders() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call decl ArgumentCaptor.getValue() call decl ArgumentCaptor.getValue() call decl ArgumentCaptor.getValue() call decl ArgumentCaptor.getValue() call decl ArgumentCaptor.getValue() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() call TestXhrTransport.actualSession() protected < protected < return protected < protected < = return protected protected < = =