org.springframework.jdbc.datasource java.sql.Connection import java.sql.SQLException import javax.sql.DataSource import org.junit.Test import static static org.junit.Assert.* import static static org.mockito.BDDMockito.* import class org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapterTests UserCredentialsDataSourceAdapter Connection DataSource public public throws decl_stmt javax.sql.DataSource = decl_stmt sun.rmi.transport.Connection = call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() decl_stmt org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter = new call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setUsername(String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setUsername(String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setUsername(String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setUsername(String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setUsername(String) call UserCredentialsDataSourceAdapter.setPassword() call UserCredentialsDataSourceAdapter.setPassword() call UserCredentialsDataSourceAdapter.setPassword() call UserCredentialsDataSourceAdapter.setPassword() call UserCredentialsDataSourceAdapter.setPassword() call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) UserCredentialsDataSourceAdapter Connection DataSource public public throws decl_stmt javax.sql.DataSource = decl_stmt sun.rmi.transport.Connection = call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() decl_stmt org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter = new call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) UserCredentialsDataSourceAdapter Connection DataSource public public throws decl_stmt javax.sql.DataSource = decl_stmt sun.rmi.transport.Connection = call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() decl_stmt org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter = new call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call UserCredentialsDataSourceAdapter.setTargetDataSource() call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setCredentialsForCurrentThread(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setCredentialsForCurrentThread(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setCredentialsForCurrentThread(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setCredentialsForCurrentThread(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.setCredentialsForCurrentThread(String,String) try call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.getConnection(String,String) finally call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.removeCredentialsFromCurrentThread() call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.removeCredentialsFromCurrentThread() call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.removeCredentialsFromCurrentThread() call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.removeCredentialsFromCurrentThread() call org.springframework.jdbc.datasource.UserCredentialsDataSourceAdapter.removeCredentialsFromCurrentThread()