org.springframework.http.converter static static org.hamcrest.core.Is.* import static static org.hamcrest.core.IsInstanceOf.* import static static org.junit.Assert.* import static static org.mockito.BDDMockito.* import static static org.mockito.Matchers.any import static static org.mockito.Mockito.doThrow import static static org.mockito.Mockito.mock import java.io.FileNotFoundException import java.io.IOException import java.io.InputStream import java.nio.charset.Charset import java.util.Arrays import java.util.List import org.hamcrest.Matchers import org.junit.Test import org.springframework.core.io.ByteArrayResource import org.springframework.core.io.ClassPathResource import org.springframework.core.io.InputStreamResource import org.springframework.core.io.Resource import org.springframework.http.HttpHeaders import org.springframework.http.HttpRange import org.springframework.http.HttpRangeResource import org.springframework.http.MediaType import org.springframework.http.MockHttpInputMessage import org.springframework.http.MockHttpOutputMessage import org.springframework.util.FileCopyUtils import org.springframework.util.StringUtils import class org.springframework.http.converter.ResourceHttpMessageConverterTests ResourceHttpMessageConverter public public call ResourceHttpMessageConverter.canRead() call ResourceHttpMessageConverter.canRead() call ResourceHttpMessageConverter.canRead() call ResourceHttpMessageConverter.canRead() call ResourceHttpMessageConverter.canRead() new public public call ResourceHttpMessageConverter.canWrite() call ResourceHttpMessageConverter.canWrite() call ResourceHttpMessageConverter.canWrite() call ResourceHttpMessageConverter.canWrite() call ResourceHttpMessageConverter.canWrite() new call ResourceHttpMessageConverter.canWrite() call ResourceHttpMessageConverter.canWrite() call ResourceHttpMessageConverter.canWrite() call ResourceHttpMessageConverter.canWrite() call ResourceHttpMessageConverter.canWrite() decl byte Resource MockHttpInputMessage public public throws decl_stmt byte = decl_stmt org.springframework.http.MockHttpInputMessage = new call org.springframework.http.MockHttpInputMessage.getHeaders() call org.springframework.http.MockHttpInputMessage.getHeaders() call org.springframework.http.MockHttpInputMessage.getHeaders() call org.springframework.http.MockHttpInputMessage.getHeaders() call org.springframework.http.MockHttpInputMessage.getHeaders() decl_stmt org.springframework.core.io.Resource = call ResourceHttpMessageConverter.read() call ResourceHttpMessageConverter.read() call ResourceHttpMessageConverter.read() call ResourceHttpMessageConverter.read() call ResourceHttpMessageConverter.read() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() Resource MockHttpInputMessage public public throws try = decl_stmt org.springframework.http.MockHttpInputMessage = new call org.springframework.http.MockHttpInputMessage.getHeaders() call org.springframework.http.MockHttpInputMessage.getHeaders() call org.springframework.http.MockHttpInputMessage.getHeaders() call org.springframework.http.MockHttpInputMessage.getHeaders() call org.springframework.http.MockHttpInputMessage.getHeaders() decl_stmt org.springframework.core.io.Resource = call ResourceHttpMessageConverter.read() call ResourceHttpMessageConverter.read() call ResourceHttpMessageConverter.read() call ResourceHttpMessageConverter.read() call ResourceHttpMessageConverter.read() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() Resource MockHttpOutputMessage public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = new call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.core.io.Resource.getFile() call org.springframework.core.io.Resource.getFile() call org.springframework.core.io.Resource.getFile() call org.springframework.core.io.Resource.getFile() call org.springframework.core.io.Resource.getFile() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() Resource MockHttpOutputMessage decl List HttpHeaders public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = new decl_stmt java.util.List < = call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() new decl_stmt org.springframework.http.HttpHeaders = call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) Resource MockHttpOutputMessage decl List HttpHeaders public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = new decl_stmt java.util.List < = call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() new decl_stmt org.springframework.http.HttpHeaders = call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) Resource MockHttpOutputMessage decl List HttpHeaders public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = new decl_stmt java.util.List < = call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() new decl_stmt org.springframework.http.HttpHeaders = call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) Resource MockHttpOutputMessage decl List HttpHeaders public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = new decl_stmt java.util.List < = call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() new decl_stmt org.springframework.http.HttpHeaders = call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) Resource MockHttpOutputMessage decl List HttpHeaders public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = new decl_stmt java.util.List < = call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() new decl_stmt org.springframework.http.HttpHeaders = call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.getContentLength() call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.HttpHeaders.get(Object) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) Resource decl String MockHttpOutputMessage String HttpHeaders decl List String public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = new decl_stmt java.util.List < = call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() new decl_stmt org.springframework.http.HttpHeaders = call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() decl_stmt java.lang.String = + call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() call org.springframework.http.HttpHeaders.getContentType() decl_stmt java.lang.String = call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) call org.springframework.http.MockHttpOutputMessage.getBodyAsString(Charset) decl_stmt java.lang.String = decl byte MockHttpOutputMessage Resource public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt byte = decl_stmt org.springframework.core.io.Resource = new call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call org.springframework.http.MockHttpOutputMessage.getBodyAsBytes() call org.springframework.http.MockHttpOutputMessage.getBodyAsBytes() call org.springframework.http.MockHttpOutputMessage.getBodyAsBytes() call org.springframework.http.MockHttpOutputMessage.getBodyAsBytes() call org.springframework.http.MockHttpOutputMessage.getBodyAsBytes() MockHttpOutputMessage Resource public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() MockHttpOutputMessage Resource InputStream public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = decl_stmt java.io.InputStream = call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) - new call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() MockHttpOutputMessage Resource InputStream public public throws decl_stmt org.springframework.http.MockHttpOutputMessage = new decl_stmt org.springframework.core.io.Resource = decl_stmt java.io.InputStream = call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call Resource.getInputStream() call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call java.io.InputStream.read(byte) call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call ResourceHttpMessageConverter.write() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders() call org.springframework.http.MockHttpOutputMessage.getHeaders()