org.springframework.web.socket.handler java.io.IOException import java.util.concurrent.CountDownLatch import java.util.concurrent.Executors import java.util.concurrent.TimeUnit import java.util.concurrent.atomic.AtomicReference import org.junit.Test import org.springframework.web.socket.CloseStatus import org.springframework.web.socket.TextMessage import org.springframework.web.socket.WebSocketMessage import org.springframework.web.socket.WebSocketSession import static static org.junit.Assert.* import class annotation org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecoratorTests ConcurrentWebSocketSessionDecorator TextMessage TestWebSocketSession public public throws decl_stmt org.springframework.web.socket.handler.TestWebSocketSession = new call org.springframework.web.socket.handler.TestWebSocketSession.setOpen(boolean) call org.springframework.web.socket.handler.TestWebSocketSession.setOpen(boolean) call org.springframework.web.socket.handler.TestWebSocketSession.setOpen(boolean) call org.springframework.web.socket.handler.TestWebSocketSession.setOpen(boolean) call org.springframework.web.socket.handler.TestWebSocketSession.setOpen(boolean) decl_stmt org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator = new decl_stmt org.springframework.web.socket.TextMessage = new call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.TestWebSocketSession.getSentMessages() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getBufferSize() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getBufferSize() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getBufferSize() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getBufferSize() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getBufferSize() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getTimeSinceSendStarted() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getTimeSinceSendStarted() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getTimeSinceSendStarted() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getTimeSinceSendStarted() call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.getTimeSinceSendStarted() call org.springframework.web.socket.handler.TestWebSocketSession.isOpen() call org.springframework.web.socket.handler.TestWebSocketSession.isOpen() call org.springframework.web.socket.handler.TestWebSocketSession.isOpen() call org.springframework.web.socket.handler.TestWebSocketSession.isOpen() call org.springframework.web.socket.handler.TestWebSocketSession.isOpen() ConcurrentWebSocketSessionDecorator BlockingSession CountDownLatch public public throws decl_stmt BlockingSession = new call BlockingSession.setOpen() call BlockingSession.setOpen() call BlockingSession.setOpen() call BlockingSession.setOpen() call BlockingSession.setOpen() decl_stmt java.util.concurrent.CountDownLatch = call BlockingSession.getSentMessageLatch() call BlockingSession.getSentMessageLatch() call BlockingSession.getSentMessageLatch() call BlockingSession.getSentMessageLatch() call BlockingSession.getSentMessageLatch() decl_stmt org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator final final = new * -> = new try call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) call org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.sendMessage(WebSocketMessage) catch