org.springframework.aop.target org.junit.After import org.junit.Before import org.junit.Test import org.springframework.aop.framework.Advised import org.springframework.aop.framework.ProxyFactory import org.springframework.aop.support.DefaultPointcutAdvisor import org.springframework.beans.factory.support.DefaultListableBeanFactory import org.springframework.beans.factory.xml.XmlBeanDefinitionReader import org.springframework.core.io.Resource import org.springframework.tests.aop.interceptor.SerializableNopInterceptor import org.springframework.tests.sample.beans.Person import org.springframework.tests.sample.beans.SerializablePerson import org.springframework.tests.sample.beans.SideEffectBean import org.springframework.util.SerializationTestUtils import static static org.junit.Assert.* import static static org.springframework.tests.TestResourceUtils.* import class org.springframework.aop.target.HotSwappableTargetSourceTests int Resource DefaultListableBeanFactory public public throws = new new public public SideEffectBean public public decl_stmt org.springframework.tests.sample.beans.SideEffectBean = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() + call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() + call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() SideEffectBean Object HotSwappableTargetSource SideEffectBean SideEffectBean public public decl_stmt org.springframework.tests.sample.beans.SideEffectBean = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt org.springframework.tests.sample.beans.SideEffectBean = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt org.springframework.tests.sample.beans.SideEffectBean = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() + call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() decl_stmt org.springframework.aop.target.HotSwappableTargetSource = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt java.lang.Object = call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call SideEffectBean.doWork() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() call org.springframework.tests.sample.beans.SideEffectBean.getCount() HotSwappableTargetSource IllegalArgumentException private private decl_stmt org.springframework.aop.target.HotSwappableTargetSource = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt IllegalArgumentException = try call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) + + catch = return IllegalArgumentException public public decl_stmt IllegalArgumentException = call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() call IllegalArgumentException.getMessage() != - SerializablePerson SerializablePerson HotSwappableTargetSource Person ProxyFactory public public throws decl_stmt org.springframework.tests.sample.beans.SerializablePerson = new call org.springframework.tests.sample.beans.SerializablePerson.setName(String) call org.springframework.tests.sample.beans.SerializablePerson.setName(String) call org.springframework.tests.sample.beans.SerializablePerson.setName(String) call org.springframework.tests.sample.beans.SerializablePerson.setName(String) call org.springframework.tests.sample.beans.SerializablePerson.setName(String) decl_stmt org.springframework.tests.sample.beans.SerializablePerson = new call org.springframework.tests.sample.beans.SerializablePerson.setName(String) call org.springframework.tests.sample.beans.SerializablePerson.setName(String) call org.springframework.tests.sample.beans.SerializablePerson.setName(String) call org.springframework.tests.sample.beans.SerializablePerson.setName(String) call org.springframework.tests.sample.beans.SerializablePerson.setName(String) decl_stmt org.springframework.aop.target.HotSwappableTargetSource = new decl_stmt org.springframework.aop.framework.ProxyFactory = new call ProxyFactory.addInterface() call ProxyFactory.addInterface() call ProxyFactory.addInterface() call ProxyFactory.addInterface() call ProxyFactory.addInterface() call ProxyFactory.setTargetSource() call ProxyFactory.setTargetSource() call ProxyFactory.setTargetSource() call ProxyFactory.setTargetSource() call ProxyFactory.setTargetSource() call ProxyFactory.addAdvisor() call ProxyFactory.addAdvisor() call ProxyFactory.addAdvisor() call ProxyFactory.addAdvisor() call ProxyFactory.addAdvisor() new new decl_stmt org.springframework.test.context.junit4.orm.domain.Person = call org.springframework.aop.framework.ProxyFactory.getProxy(TargetSource) call org.springframework.aop.framework.ProxyFactory.getProxy(TargetSource) call org.springframework.aop.framework.ProxyFactory.getProxy(TargetSource) call org.springframework.aop.framework.ProxyFactory.getProxy(TargetSource) call org.springframework.aop.framework.ProxyFactory.getProxy(TargetSource) call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() = = call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.aop.target.HotSwappableTargetSource.swap(Object) call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.tests.sample.beans.SerializablePerson.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName() call org.springframework.test.context.junit4.orm.domain.Person.getName()