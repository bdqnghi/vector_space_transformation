org.springframework.web.context.request javax.servlet.ServletContextEvent import org.junit.Test import org.springframework.beans.factory.support.GenericBeanDefinition import org.springframework.mock.web.test.MockHttpServletRequest import org.springframework.mock.web.test.MockServletContext import org.springframework.tests.sample.beans.DerivedTestBean import org.springframework.web.context.ContextCleanupListener import org.springframework.web.context.WebApplicationContext import org.springframework.web.context.support.GenericWebApplicationContext import static static org.junit.Assert.* import class org.springframework.web.context.request.WebApplicationContextScopeTests String MockServletContext GenericBeanDefinition GenericWebApplicationContext private private decl_stmt org.springframework.mock.web.MockServletContext = new decl_stmt org.springframework.web.context.support.GenericWebApplicationContext = new decl_stmt org.springframework.beans.factory.support.GenericBeanDefinition = new call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setBeanClass() call GenericBeanDefinition.setScope() call GenericBeanDefinition.setScope() call GenericBeanDefinition.setScope() call GenericBeanDefinition.setScope() call GenericBeanDefinition.setScope() call GenericWebApplicationContext.registerBeanDefinition() call GenericWebApplicationContext.registerBeanDefinition() call GenericWebApplicationContext.registerBeanDefinition() call GenericWebApplicationContext.registerBeanDefinition() call GenericWebApplicationContext.registerBeanDefinition() call GenericWebApplicationContext.refresh() call GenericWebApplicationContext.refresh() call GenericWebApplicationContext.refresh() call GenericWebApplicationContext.refresh() call GenericWebApplicationContext.refresh() return ServletRequestAttributes WebApplicationContext MockHttpServletRequest DerivedTestBean public public decl_stmt org.springframework.web.context.WebApplicationContext = decl_stmt org.springframework.mock.web.MockHttpServletRequest = new decl_stmt org.springframework.web.context.request.ServletRequestAttributes = new try call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) decl_stmt org.springframework.tests.sample.beans.DerivedTestBean = call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call org.springframework.mock.web.MockHttpServletRequest.getAttribute(String) call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call ServletRequestAttributes.requestCompleted() call ServletRequestAttributes.requestCompleted() call ServletRequestAttributes.requestCompleted() call ServletRequestAttributes.requestCompleted() call ServletRequestAttributes.requestCompleted() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() finally ServletRequestAttributes WebApplicationContext MockHttpServletRequest DerivedTestBean public public decl_stmt org.springframework.web.context.WebApplicationContext = decl_stmt org.springframework.mock.web.MockHttpServletRequest = new decl_stmt org.springframework.web.context.request.ServletRequestAttributes = new try call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) decl_stmt org.springframework.tests.sample.beans.DerivedTestBean = call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.mock.web.MockHttpServletRequest.getSession(boolean) call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() finally WebApplicationContext DerivedTestBean public public decl_stmt org.springframework.web.context.WebApplicationContext = call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() decl_stmt org.springframework.tests.sample.beans.DerivedTestBean = call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() call WebApplicationContext.getBean() new new call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call WebApplicationContext.getServletContext() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed() call org.springframework.tests.sample.beans.DerivedTestBean.wasDestroyed()