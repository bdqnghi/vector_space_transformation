org.springframework.web.servlet.mvc.method.annotation static static org.junit.Assert.* import java.io.IOException import java.io.OutputStream import java.lang.reflect.Method import java.nio.charset.Charset import java.util.concurrent.CountDownLatch import java.util.concurrent.TimeUnit import java.util.concurrent.atomic.AtomicReference import org.junit.Before import org.junit.Test import org.springframework.core.MethodParameter import org.springframework.http.ResponseEntity import org.springframework.mock.web.test.MockHttpServletRequest import org.springframework.mock.web.test.MockHttpServletResponse import org.springframework.web.context.request.NativeWebRequest import org.springframework.web.context.request.ServletWebRequest import org.springframework.web.context.request.async.AsyncWebRequest import org.springframework.web.context.request.async.StandardServletAsyncWebRequest import org.springframework.web.context.request.async.WebAsyncUtils import org.springframework.web.method.support.ModelAndViewContainer import class org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandlerTests NativeWebRequest StreamingResponseBodyReturnValueHandler MockHttpServletRequest ModelAndViewContainer MockHttpServletResponse AsyncWebRequest public public throws = new = new = new = new = new decl_stmt org.springframework.web.context.request.async.AsyncWebRequest = new public public throws MethodParameter StreamingResponseBody CountDownLatch public public throws decl_stmt java.util.concurrent.CountDownLatch = new decl_stmt org.springframework.core.MethodParameter = decl_stmt org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody = new public public throws call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) public public throws MethodParameter CountDownLatch decl ResponseEntity public public throws decl_stmt java.util.concurrent.CountDownLatch = new decl_stmt org.springframework.core.MethodParameter = decl_stmt org.springframework.http.ResponseEntity < = new public public throws call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call CountDownLatch.countDown() call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) call java.util.concurrent.CountDownLatch.await(long,TimeUnit) public public throws MethodParameter decl ResponseEntity public public throws decl_stmt org.springframework.core.MethodParameter = decl_stmt org.springframework.http.ResponseEntity < = Method private private < throws decl_stmt com.sun.jdi.Method = return new - private private return private < private < return private < private < return private < < private < < return