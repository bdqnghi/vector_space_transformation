org.springframework.orm.jpa.support javax.persistence.EntityManager import javax.persistence.EntityManagerFactory import javax.persistence.EntityTransaction import javax.persistence.PersistenceContext import javax.persistence.PersistenceContextType import org.junit.After import org.junit.Before import org.junit.Test import org.springframework.orm.jpa.JpaTransactionManager import org.springframework.transaction.TransactionDefinition import org.springframework.transaction.TransactionStatus import org.springframework.transaction.support.TransactionCallback import org.springframework.transaction.support.TransactionSynchronizationManager import org.springframework.transaction.support.TransactionTemplate import static static org.junit.Assert.* import static static org.mockito.BDDMockito.* import class annotation org.springframework.orm.jpa.support.PersistenceContextTransactionTests EntityManager TransactionTemplate EntityManagerHoldingBean EntityManagerFactory EntityTransaction JpaTransactionManager PersistenceAnnotationBeanPostProcessor public public throws = = = decl_stmt org.springframework.orm.jpa.JpaTransactionManager = new = new call EntityManagerFactory.createEntityManager() call EntityManagerFactory.createEntityManager() call EntityManagerFactory.createEntityManager() call EntityManagerFactory.createEntityManager() call EntityManagerFactory.createEntityManager() call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() = new decl_stmt org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor = new protected protected return call org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PropertyValues,PropertyDescriptor,Object,String) call org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PropertyValues,PropertyDescriptor,Object,String) call org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PropertyValues,PropertyDescriptor,Object,String) call org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PropertyValues,PropertyDescriptor,Object,String) call org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PropertyValues,PropertyDescriptor,Object,String) protected protected return public public throws public public call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new public public call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() return public public call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() return public public call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new public public call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() return public public call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() call EntityManagerHoldingBean.sharedEntityManager() return public public call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call EntityManager.getTransaction() call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new public public call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() return public public call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() return public public call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() call EntityManager.isOpen() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new public public call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() return public public call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() call EntityManagerHoldingBean.extendedEntityManager() return