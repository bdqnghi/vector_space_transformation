org.springframework.web.socket.client.jetty java.net.URI import java.util.Arrays import org.eclipse.jetty.server.Server import org.eclipse.jetty.server.ServerConnector import org.eclipse.jetty.websocket.servlet.ServletUpgradeRequest import org.eclipse.jetty.websocket.servlet.ServletUpgradeResponse import org.eclipse.jetty.websocket.servlet.WebSocketCreator import org.eclipse.jetty.websocket.servlet.WebSocketServletFactory import org.junit.After import org.junit.Before import org.junit.Test import org.springframework.core.task.SimpleAsyncTaskExecutor import org.springframework.util.CollectionUtils import org.springframework.util.SocketUtils import org.springframework.web.socket.WebSocketHandler import org.springframework.web.socket.WebSocketHttpHeaders import org.springframework.web.socket.WebSocketSession import org.springframework.web.socket.adapter.jetty.JettyWebSocketHandlerAdapter import org.springframework.web.socket.adapter.jetty.JettyWebSocketSession import org.springframework.web.socket.handler.TextWebSocketHandler import static static org.junit.Assert.* import class org.springframework.web.socket.client.jetty.JettyWebSocketClientTests WebSocketSession JettyWebSocketClient String TestJettyWebSocketServer int public public throws decl_stmt int = = new new = new = + + public public throws WebSocketHttpHeaders public public throws decl_stmt org.springframework.web.socket.WebSocketHttpHeaders = new call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) = new new WebSocketHttpHeaders public public throws decl_stmt org.springframework.web.socket.WebSocketHttpHeaders = new call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) call org.springframework.web.socket.WebSocketHttpHeaders.setSecWebSocketProtocol(List) new = new new JettyWebSocketSession public public new public public if ! decl_stmt org.springframework.web.socket.adapter.jetty.JettyWebSocketSession = new return new JettyWebSocketSession public public if ! decl_stmt org.springframework.web.socket.adapter.jetty.JettyWebSocketSession = new return new public public throws public public throws