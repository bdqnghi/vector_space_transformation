org.springframework.messaging.simp.user java.util.concurrent.ScheduledFuture import org.springframework.context.ApplicationListener import org.springframework.messaging.Message import org.springframework.messaging.MessageHandler import org.springframework.messaging.MessagingException import org.springframework.messaging.converter.MessageConverter import org.springframework.messaging.simp.SimpMessageHeaderAccessor import org.springframework.messaging.simp.SimpMessageType import org.springframework.messaging.simp.SimpMessagingTemplate import org.springframework.messaging.simp.broker.BrokerAvailabilityEvent import org.springframework.scheduling.TaskScheduler import org.springframework.util.Assert import class org.springframework.messaging.simp.user.UserRegistryMessageHandler super super implements MultiServerUserRegistry String UserRegistryTask SimpMessagingTemplate long TaskScheduler decl ScheduledFuture public public return public public = public public return long public public if decl_stmt long = / = else if != = MessageConverter public public < throws decl_stmt org.springframework.jms.support.converter.MessageConverter = SimpMessageHeaderAccessor Object public public try decl_stmt org.springframework.messaging.simp.SimpMessageHeaderAccessor = call SimpMessageHeaderAccessor.setHeader() call SimpMessageHeaderAccessor.setHeader() call SimpMessageHeaderAccessor.setHeader() call SimpMessageHeaderAccessor.setHeader() call SimpMessageHeaderAccessor.setHeader() call SimpMessageHeaderAccessor.setLeaveMutable() call SimpMessageHeaderAccessor.setLeaveMutable() call SimpMessageHeaderAccessor.setLeaveMutable() call SimpMessageHeaderAccessor.setLeaveMutable() call SimpMessageHeaderAccessor.setLeaveMutable() decl_stmt java.lang.Object = call org.springframework.messaging.simp.user.MultiServerUserRegistry.getLocalRegistryDto() call org.springframework.messaging.simp.user.MultiServerUserRegistry.getLocalRegistryDto() call org.springframework.messaging.simp.user.MultiServerUserRegistry.getLocalRegistryDto() call org.springframework.messaging.simp.user.MultiServerUserRegistry.getLocalRegistryDto() call org.springframework.messaging.simp.user.MultiServerUserRegistry.getLocalRegistryDto() call SimpMessagingTemplate.convertAndSend() call SimpMessagingTemplate.convertAndSend() call SimpMessagingTemplate.convertAndSend() call SimpMessagingTemplate.convertAndSend() call SimpMessagingTemplate.convertAndSend() call SimpMessageHeaderAccessor.getMessageHeaders() call SimpMessageHeaderAccessor.getMessageHeaders() call SimpMessageHeaderAccessor.getMessageHeaders() call SimpMessageHeaderAccessor.getMessageHeaders() call SimpMessageHeaderAccessor.getMessageHeaders() finally call org.springframework.messaging.simp.user.MultiServerUserRegistry.purgeExpiredRegistries() call org.springframework.messaging.simp.user.MultiServerUserRegistry.purgeExpiredRegistries() call org.springframework.messaging.simp.user.MultiServerUserRegistry.purgeExpiredRegistries() call org.springframework.messaging.simp.user.MultiServerUserRegistry.purgeExpiredRegistries() call org.springframework.messaging.simp.user.MultiServerUserRegistry.purgeExpiredRegistries()