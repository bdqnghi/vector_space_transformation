org.springframework.beans.factory java.util.HashMap import java.util.Map import java.util.concurrent.atomic.AtomicInteger import org.junit.Test import org.springframework.beans.factory.config.BeanFactoryPostProcessor import org.springframework.beans.factory.config.BeanPostProcessor import org.springframework.beans.factory.support.DefaultListableBeanFactory import org.springframework.beans.factory.xml.XmlBeanDefinitionReader import org.springframework.core.io.Resource import org.springframework.stereotype.Component import org.springframework.util.Assert import static static org.junit.Assert.* import static static org.springframework.tests.TestResourceUtils.* import class org.springframework.beans.factory.FactoryBeanTests Resource Resource decl Class Resource Resource DefaultListableBeanFactory Object public public throws decl_stmt org.springframework.beans.factory.support.DefaultListableBeanFactory = new new decl_stmt java.lang.Object = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) BeanFactoryPostProcessor Gamma DefaultListableBeanFactory Beta Alpha Gamma public public throws decl_stmt org.springframework.beans.factory.support.DefaultListableBeanFactory = new new decl_stmt org.springframework.beans.factory.config.BeanFactoryPostProcessor = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call BeanFactoryPostProcessor.postProcessBeanFactory() call BeanFactoryPostProcessor.postProcessBeanFactory() call BeanFactoryPostProcessor.postProcessBeanFactory() call BeanFactoryPostProcessor.postProcessBeanFactory() call BeanFactoryPostProcessor.postProcessBeanFactory() call DefaultListableBeanFactory.getType() call DefaultListableBeanFactory.getType() call DefaultListableBeanFactory.getType() call DefaultListableBeanFactory.getType() call DefaultListableBeanFactory.getType() decl_stmt Alpha = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt Beta = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt Gamma = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt Gamma = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call Alpha.getBeta() call Alpha.getBeta() call Alpha.getBeta() call Alpha.getBeta() call Alpha.getBeta() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getName() call Beta.getName() call Beta.getName() call Beta.getName() call Beta.getName() BeanFactoryPostProcessor Alpha Beta DefaultListableBeanFactory Gamma public public throws decl_stmt org.springframework.beans.factory.support.DefaultListableBeanFactory = new new decl_stmt org.springframework.beans.factory.config.BeanFactoryPostProcessor = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call BeanFactoryPostProcessor.postProcessBeanFactory() call BeanFactoryPostProcessor.postProcessBeanFactory() call BeanFactoryPostProcessor.postProcessBeanFactory() call BeanFactoryPostProcessor.postProcessBeanFactory() call BeanFactoryPostProcessor.postProcessBeanFactory() decl_stmt Beta = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt Alpha = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) decl_stmt Gamma = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call Alpha.getBeta() call Alpha.getBeta() call Alpha.getBeta() call Alpha.getBeta() call Alpha.getBeta() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() call Beta.getGamma() DefaultListableBeanFactory public public throws decl_stmt org.springframework.beans.factory.support.DefaultListableBeanFactory = new new call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansWithAnnotation(Class) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansWithAnnotation(Class) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansWithAnnotation(Class) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansWithAnnotation(Class) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansWithAnnotation(Class) DefaultListableBeanFactory public public throws decl_stmt org.springframework.beans.factory.support.DefaultListableBeanFactory = new new call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(Class) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(Class) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(Class) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(Class) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(Class) BeanImpl1 CountingPostProcessor DefaultListableBeanFactory public public decl_stmt org.springframework.beans.factory.support.DefaultListableBeanFactory = new new decl_stmt CountingPostProcessor = new call DefaultListableBeanFactory.addBeanPostProcessor() call DefaultListableBeanFactory.addBeanPostProcessor() call DefaultListableBeanFactory.addBeanPostProcessor() call DefaultListableBeanFactory.addBeanPostProcessor() call DefaultListableBeanFactory.addBeanPostProcessor() decl_stmt BeanImpl1 = call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(Class,Object) call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call BeanImpl1.getImpl2() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() call CountingPostProcessor.getCount() public public return public < public < return public public return public public = public public return public public public public = public public return public public = public public return public public public public = public public return public < public < return public public return public public = public public = public public if == = return public < public < return public public return public public return AtomicInteger public public if instanceof return decl_stmt java.util.concurrent.atomic.AtomicInteger = if == = new call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() call java.util.concurrent.atomic.AtomicInteger.incrementAndGet() return AtomicInteger public public decl_stmt java.util.concurrent.atomic.AtomicInteger = if != return call java.util.concurrent.atomic.AtomicInteger.intValue() call java.util.concurrent.atomic.AtomicInteger.intValue() call java.util.concurrent.atomic.AtomicInteger.intValue() call java.util.concurrent.atomic.AtomicInteger.intValue() call java.util.concurrent.atomic.AtomicInteger.intValue() else return public public return public public = public public return public public =