org.springframework.web.socket.adapter.jetty java.util.HashMap import java.util.Map import org.eclipse.jetty.websocket.api.Session import org.eclipse.jetty.websocket.api.UpgradeRequest import org.eclipse.jetty.websocket.api.UpgradeResponse import org.junit.Test import org.mockito.Mockito import org.springframework.web.socket.handler.TestPrincipal import static static org.junit.Assert.* import static static org.mockito.BDDMockito.* import class org.springframework.web.socket.adapter.jetty.JettyWebSocketSessionTests decl Map JettyWebSocketSession TestPrincipal public public decl_stmt org.springframework.messaging.simp.TestPrincipal = new decl_stmt org.springframework.web.socket.adapter.jetty.JettyWebSocketSession = new call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() Session JettyWebSocketSession UpgradeRequest TestPrincipal UpgradeResponse public public decl_stmt org.springframework.messaging.simp.TestPrincipal = new decl_stmt UpgradeRequest = call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() decl_stmt UpgradeResponse = call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() decl_stmt sun.security.pkcs11.Session = call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() decl_stmt org.springframework.web.socket.adapter.jetty.JettyWebSocketSession = new call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() Session JettyWebSocketSession UpgradeRequest UpgradeResponse public public decl_stmt UpgradeRequest = call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() decl_stmt UpgradeResponse = call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() decl_stmt sun.security.pkcs11.Session = call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() decl_stmt org.springframework.web.socket.adapter.jetty.JettyWebSocketSession = new call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getPrincipal() UpgradeRequest Session JettyWebSocketSession String UpgradeResponse public public decl_stmt java.lang.String = decl_stmt UpgradeRequest = call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() call UpgradeRequest.getUserPrincipal() decl_stmt UpgradeResponse = call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() call UpgradeResponse.getAcceptedSubProtocol() decl_stmt sun.security.pkcs11.Session = call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeRequest() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() call Session.getUpgradeResponse() decl_stmt org.springframework.web.socket.adapter.jetty.JettyWebSocketSession = new call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.initializeNativeSession(Session) call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getAcceptedProtocol() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getAcceptedProtocol() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getAcceptedProtocol() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getAcceptedProtocol() call org.springframework.web.socket.adapter.jetty.JettyWebSocketSession.getAcceptedProtocol()