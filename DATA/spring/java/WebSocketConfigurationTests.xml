org.springframework.web.socket.config.annotation java.util.Arrays import java.util.concurrent.CountDownLatch import java.util.concurrent.TimeUnit import org.junit.Test import org.junit.runner.RunWith import org.junit.runners.Parameterized import org.junit.runners.Parameterized.Parameters import org.springframework.beans.factory.annotation.Autowired import org.springframework.context.annotation.Bean import org.springframework.context.annotation.Configuration import org.springframework.web.socket.AbstractWebSocketIntegrationTests import org.springframework.web.socket.JettyWebSocketTestServer import org.springframework.web.socket.TomcatWebSocketTestServer import org.springframework.web.socket.UndertowTestServer import org.springframework.web.socket.WebSocketSession import org.springframework.web.socket.client.jetty.JettyWebSocketClient import org.springframework.web.socket.client.standard.StandardWebSocketClient import org.springframework.web.socket.handler.AbstractWebSocketHandler import org.springframework.web.socket.server.HandshakeHandler import org.springframework.web.socket.sockjs.transport.handler.WebSocketTransportHandler import static static org.junit.Assert.* import class annotation org.springframework.web.socket.config.annotation.WebSocketConfigurationTests super super extends = public static < = public static < return new new new new new new new protected < protected < return new < TestHandler WebSocketSession public public throws decl_stmt org.springframework.web.socket.WebSocketSession = new + decl_stmt TestHandler = call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call org.springframework.web.socket.WebSocketSession.close() call org.springframework.web.socket.WebSocketSession.close() call org.springframework.web.socket.WebSocketSession.close() call org.springframework.web.socket.WebSocketSession.close() call org.springframework.web.socket.WebSocketSession.close() TestHandler WebSocketSession public public throws decl_stmt org.springframework.web.socket.WebSocketSession = new + decl_stmt TestHandler = call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call TestHandler.connectLatch() call org.springframework.web.socket.WebSocketSession.close() call org.springframework.web.socket.WebSocketSession.close() call org.springframework.web.socket.WebSocketSession.close() call org.springframework.web.socket.WebSocketSession.close() call org.springframework.web.socket.WebSocketSession.close() public public new public public return new public public throws