org.springframework.orm.jdo javax.jdo.JDOException import javax.jdo.PersistenceManager import javax.jdo.PersistenceManagerFactory import javax.jdo.Transaction import javax.sql.DataSource import org.springframework.beans.factory.InitializingBean import org.springframework.dao.DataAccessException import org.springframework.jdbc.datasource.ConnectionHandle import org.springframework.jdbc.datasource.ConnectionHolder import org.springframework.jdbc.datasource.JdbcTransactionObjectSupport import org.springframework.jdbc.datasource.TransactionAwareDataSourceProxy import org.springframework.transaction.CannotCreateTransactionException import org.springframework.transaction.IllegalTransactionStateException import org.springframework.transaction.TransactionDefinition import org.springframework.transaction.TransactionException import org.springframework.transaction.TransactionSystemException import org.springframework.transaction.support.AbstractPlatformTransactionManager import org.springframework.transaction.support.DefaultTransactionStatus import org.springframework.transaction.support.DelegatingTransactionDefinition import org.springframework.transaction.support.ResourceTransactionManager import org.springframework.transaction.support.TransactionSynchronizationManager import class annotation org.springframework.orm.jdo.JdoTransactionManager super super extends super implements PersistenceManagerFactory boolean DataSource JdoDialect public public = public public return public public if instanceof = else = public public return public public = public public = public public if == = new return Object public public if == throw new if == = new if && == decl_stmt java.lang.Object = if instanceof = if + + public public return JdoTransactionObject PersistenceManagerHolder ConnectionHolder protected protected decl_stmt JdoTransactionObject = new call JdoTransactionObject.setSavepointAllowed() call JdoTransactionObject.setSavepointAllowed() call JdoTransactionObject.setSavepointAllowed() call JdoTransactionObject.setSavepointAllowed() call JdoTransactionObject.setSavepointAllowed() decl_stmt org.springframework.orm.jdo.PersistenceManagerHolder = if != if + call org.springframework.orm.jdo.PersistenceManagerHolder.getPersistenceManager() call org.springframework.orm.jdo.PersistenceManagerHolder.getPersistenceManager() call org.springframework.orm.jdo.PersistenceManagerHolder.getPersistenceManager() call org.springframework.orm.jdo.PersistenceManagerHolder.getPersistenceManager() call org.springframework.orm.jdo.PersistenceManagerHolder.getPersistenceManager() + call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() if != decl_stmt org.springframework.jdbc.datasource.ConnectionHolder = call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() return protected protected return ConnectionHolder Object JdoTransactionObject PersistenceManager ConnectionHandle int PersistenceManager protected protected decl_stmt JdoTransactionObject = if call JdoTransactionObject.hasConnectionHolder() call JdoTransactionObject.hasConnectionHolder() call JdoTransactionObject.hasConnectionHolder() call JdoTransactionObject.hasConnectionHolder() call JdoTransactionObject.hasConnectionHolder() && ! call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getConnectionHolder() throw new + + + decl_stmt PersistenceManager try if call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() == || call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() decl_stmt PersistenceManager = if + + call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() new = call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() decl_stmt int final final = decl_stmt java.lang.Object = call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() new public public return call JdoTransactionObject.setTransactionData() call JdoTransactionObject.setTransactionData() call JdoTransactionObject.setTransactionData() call JdoTransactionObject.setTransactionData() call JdoTransactionObject.setTransactionData() if != call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() if != decl_stmt org.springframework.jdbc.datasource.ConnectionHandle = if != decl_stmt org.springframework.jdbc.datasource.ConnectionHolder = new if != call ConnectionHolder.setTimeoutInSeconds() call ConnectionHolder.setTimeoutInSeconds() call ConnectionHolder.setTimeoutInSeconds() call ConnectionHolder.setTimeoutInSeconds() call ConnectionHolder.setTimeoutInSeconds() if + call org.springframework.jdbc.datasource.ConnectionHolder.getConnectionHandle() call org.springframework.jdbc.datasource.ConnectionHolder.getConnectionHandle() call org.springframework.jdbc.datasource.ConnectionHolder.getConnectionHandle() call org.springframework.jdbc.datasource.ConnectionHolder.getConnectionHandle() call org.springframework.jdbc.datasource.ConnectionHolder.getConnectionHandle() + call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() else if + + + + + if call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() catch throw catch throw new public public return PersistenceManager protected protected if decl_stmt PersistenceManager = try if call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() call PersistenceManager.currentTransaction() catch finally JdoTransactionObject ConnectionHolder PersistenceManagerHolder protected protected decl_stmt JdoTransactionObject = call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() call JdoTransactionObject.setPersistenceManagerHolder() decl_stmt org.springframework.orm.jdo.PersistenceManagerHolder = call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() call JdoTransactionObject.setConnectionHolder() decl_stmt org.springframework.jdbc.datasource.ConnectionHolder = if != && = return new SuspendedResourcesHolder protected protected decl_stmt SuspendedResourcesHolder = call SuspendedResourcesHolder.getPersistenceManagerHolder() call SuspendedResourcesHolder.getPersistenceManagerHolder() call SuspendedResourcesHolder.getPersistenceManagerHolder() call SuspendedResourcesHolder.getPersistenceManagerHolder() call SuspendedResourcesHolder.getPersistenceManagerHolder() if != && call SuspendedResourcesHolder.getConnectionHolder() call SuspendedResourcesHolder.getConnectionHolder() call SuspendedResourcesHolder.getConnectionHolder() call SuspendedResourcesHolder.getConnectionHolder() call SuspendedResourcesHolder.getConnectionHolder() != call SuspendedResourcesHolder.getConnectionHolder() call SuspendedResourcesHolder.getConnectionHolder() call SuspendedResourcesHolder.getConnectionHolder() call SuspendedResourcesHolder.getConnectionHolder() call SuspendedResourcesHolder.getConnectionHolder() protected protected return JdoTransactionObject Transaction protected protected decl_stmt JdoTransactionObject = if + call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() + try decl_stmt Transaction = call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call Transaction.commit() call Transaction.commit() call Transaction.commit() call Transaction.commit() call Transaction.commit() catch throw JdoTransactionObject Transaction protected protected decl_stmt JdoTransactionObject = if + call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() + try decl_stmt Transaction = call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() if call Transaction.isActive() call Transaction.isActive() call Transaction.isActive() call Transaction.isActive() call Transaction.isActive() call Transaction.rollback() call Transaction.rollback() call Transaction.rollback() call Transaction.rollback() call Transaction.rollback() catch throw new JdoTransactionObject protected protected decl_stmt JdoTransactionObject = if + call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() + call JdoTransactionObject.setRollbackOnly() call JdoTransactionObject.setRollbackOnly() call JdoTransactionObject.setRollbackOnly() call JdoTransactionObject.setRollbackOnly() call JdoTransactionObject.setRollbackOnly() JdoTransactionObject PersistenceManager protected protected decl_stmt JdoTransactionObject = if call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() if call JdoTransactionObject.hasConnectionHolder() call JdoTransactionObject.hasConnectionHolder() call JdoTransactionObject.hasConnectionHolder() call JdoTransactionObject.hasConnectionHolder() call JdoTransactionObject.hasConnectionHolder() try call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getConnectionHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() catch call JdoTransactionObject.getTransactionData() call JdoTransactionObject.getTransactionData() call JdoTransactionObject.getTransactionData() call JdoTransactionObject.getTransactionData() call JdoTransactionObject.getTransactionData() if call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() call JdoTransactionObject.isNewPersistenceManagerHolder() decl_stmt PersistenceManager = call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() call JdoTransactionObject.getPersistenceManagerHolder() if + + else protected protected return public public = = public public return public public return public public return != && public public = public public return Transaction public public decl_stmt Transaction = if call Transaction.isActive() call Transaction.isActive() call Transaction.isActive() call Transaction.isActive() call Transaction.isActive() call Transaction.setRollbackOnly() call Transaction.setRollbackOnly() call Transaction.setRollbackOnly() call Transaction.setRollbackOnly() call Transaction.setRollbackOnly() if Transaction public public decl_stmt Transaction = return call Transaction.getRollbackOnly() call Transaction.getRollbackOnly() call Transaction.getRollbackOnly() call Transaction.getRollbackOnly() call Transaction.getRollbackOnly() public public try catch throw private private return private private return