org.springframework.aop.framework.autoproxy static static org.junit.Assert.assertEquals import static static org.junit.Assert.assertFalse import static static org.junit.Assert.assertTrue import java.io.IOException import java.lang.reflect.Method import java.util.List import javax.servlet.ServletException import org.junit.Test import org.springframework.aop.support.AopUtils import org.springframework.aop.support.StaticMethodMatcherPointcutAdvisor import org.springframework.beans.factory.BeanFactory import org.springframework.beans.factory.InitializingBean import org.springframework.context.support.ClassPathXmlApplicationContext import org.springframework.tests.aop.advice.CountingBeforeAdvice import org.springframework.tests.aop.advice.MethodCounter import org.springframework.tests.aop.interceptor.NopInterceptor import org.springframework.tests.sample.beans.ITestBean import org.springframework.tests.transaction.CallCountingTransactionManager import org.springframework.transaction.NoTransactionException import org.springframework.transaction.interceptor.TransactionInterceptor import class org.springframework.aop.framework.autoproxy.AdvisorAutoProxyCreatorIntegrationTests String String String decl Class String protected protected throws return new DefaultAdvisorAutoProxyCreator public public throws decl_stmt org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator = + call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.getAdvisorBeanNamePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.getAdvisorBeanNamePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.getAdvisorBeanNamePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.getAdvisorBeanNamePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.getAdvisorBeanNamePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.isUsePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.isUsePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.isUsePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.isUsePrefix() call org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator.isUsePrefix() BeanFactory Object public public throws decl_stmt org.springframework.beans.factory.BeanFactory = decl_stmt java.lang.Object = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) ITestBean BeanFactory public public throws decl_stmt org.springframework.beans.factory.BeanFactory = decl_stmt org.springframework.scheduling.annotation.ITestBean = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) ITestBean BeanFactory MethodCounter public public throws decl_stmt org.springframework.beans.factory.BeanFactory = decl_stmt org.springframework.scheduling.annotation.ITestBean = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) decl_stmt org.springframework.tests.aop.advice.MethodCounter = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.scheduling.annotation.ITestBean.getName() call org.springframework.scheduling.annotation.ITestBean.getName() call org.springframework.scheduling.annotation.ITestBean.getName() call org.springframework.scheduling.annotation.ITestBean.getName() call org.springframework.scheduling.annotation.ITestBean.getName() call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) call org.springframework.tests.aop.advice.MethodCounter.getCalls(String) ITestBean BeanFactory OrderedTxCheckAdvisor CallCountingTransactionManager int public public throws decl_stmt org.springframework.beans.factory.BeanFactory = decl_stmt org.springframework.scheduling.annotation.ITestBean = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) decl_stmt org.springframework.tests.transaction.CallCountingTransactionManager = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) decl_stmt OrderedTxCheckAdvisor = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call org.springframework.scheduling.annotation.ITestBean.getAge() call org.springframework.scheduling.annotation.ITestBean.getAge() call org.springframework.scheduling.annotation.ITestBean.getAge() call org.springframework.scheduling.annotation.ITestBean.getAge() call org.springframework.scheduling.annotation.ITestBean.getAge() decl_stmt int = call org.springframework.scheduling.annotation.ITestBean.setAge(int) call org.springframework.scheduling.annotation.ITestBean.setAge(int) call org.springframework.scheduling.annotation.ITestBean.setAge(int) call org.springframework.scheduling.annotation.ITestBean.setAge(int) call org.springframework.scheduling.annotation.ITestBean.setAge(int) call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call org.springframework.scheduling.annotation.ITestBean.getAge() call org.springframework.scheduling.annotation.ITestBean.getAge() call org.springframework.scheduling.annotation.ITestBean.getAge() call org.springframework.scheduling.annotation.ITestBean.getAge() call org.springframework.scheduling.annotation.ITestBean.getAge() BeanFactory OrderedTxCheckAdvisor CallCountingTransactionManager Rollback Exception public public throws decl_stmt org.springframework.beans.factory.BeanFactory = decl_stmt Rollback = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) decl_stmt org.springframework.tests.transaction.CallCountingTransactionManager = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) decl_stmt OrderedTxCheckAdvisor = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() call OrderedTxCheckAdvisor.getCountingBeforeAdvice() decl_stmt Exception = new try call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() catch BeanFactory CallCountingTransactionManager Rollback public public throws decl_stmt org.springframework.beans.factory.BeanFactory = decl_stmt Rollback = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) decl_stmt org.springframework.tests.transaction.CallCountingTransactionManager = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) try call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() call Rollback.echoException() new catch BeanFactory Object Rollback CallCountingTransactionManager public public throws decl_stmt org.springframework.beans.factory.BeanFactory = decl_stmt java.lang.Object = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) instanceof decl_stmt org.springframework.tests.transaction.CallCountingTransactionManager = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) decl_stmt Rollback = call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call org.springframework.beans.factory.BeanFactory.getBean(String) call Rollback.rollbackOnly() call Rollback.rollbackOnly() call Rollback.rollbackOnly() call Rollback.rollbackOnly() call Rollback.rollbackOnly() call Rollback.rollbackOnly() call Rollback.rollbackOnly() call Rollback.rollbackOnly() call Rollback.rollbackOnly() call Rollback.rollbackOnly()