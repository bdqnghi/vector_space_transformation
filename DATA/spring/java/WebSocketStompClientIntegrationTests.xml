org.springframework.web.socket.messaging static static org.hamcrest.Matchers.* import static static org.junit.Assert.* import java.lang.reflect.Type import java.util.ArrayList import java.util.List import org.apache.commons.logging.Log import org.apache.commons.logging.LogFactory import org.junit.After import org.junit.Before import org.junit.Rule import org.junit.Test import org.junit.rules.TestName import org.springframework.context.annotation.Configuration import org.springframework.messaging.converter.StringMessageConverter import org.springframework.messaging.simp.config.MessageBrokerRegistry import org.springframework.messaging.simp.stomp.StompCommand import org.springframework.messaging.simp.stomp.StompFrameHandler import org.springframework.messaging.simp.stomp.StompHeaders import org.springframework.messaging.simp.stomp.StompSession import org.springframework.messaging.simp.stomp.StompSessionHandlerAdapter import org.springframework.web.context.support.AnnotationConfigWebApplicationContext import org.springframework.web.socket.TomcatWebSocketTestServer import org.springframework.web.socket.WebSocketTestServer import org.springframework.web.socket.client.WebSocketClient import org.springframework.web.socket.client.standard.StandardWebSocketClient import org.springframework.web.socket.config.annotation.StompEndpointRegistry import org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurationSupport import org.springframework.web.socket.server.RequestUpgradeStrategy import org.springframework.web.socket.server.standard.TomcatRequestUpgradeStrategy import org.springframework.web.socket.server.support.DefaultHandshakeHandler import class org.springframework.web.socket.messaging.WebSocketStompClientIntegrationTests WebSocketStompClient Log AnnotationConfigWebApplicationContext TestName WebSocketTestServer WebSocketClient public public throws call Log.debug() call Log.debug() call Log.debug() call Log.debug() call Log.debug() + + = new = new decl_stmt org.springframework.web.socket.client.WebSocketClient = new = new new public public throws try catch call Log.error() call Log.error() call Log.error() call Log.error() call Log.error() try catch call Log.error() call Log.error() call Log.error() call Log.error() call Log.error() try catch call Log.error() call Log.error() call Log.error() call Log.error() call Log.error() String TestHandler public public throws decl_stmt java.lang.String = + + decl_stmt TestHandler = new call TestHandler.awaitForMessageCount() call TestHandler.awaitForMessageCount() call TestHandler.awaitForMessageCount() call TestHandler.awaitForMessageCount() call TestHandler.awaitForMessageCount() call TestHandler.getReceived() call TestHandler.getReceived() call TestHandler.getReceived() call TestHandler.getReceived() call TestHandler.getReceived() RequestUpgradeStrategy protected protected decl_stmt org.springframework.web.socket.server.RequestUpgradeStrategy = new new public public public < public < return public public new public public return public public try catch call Log.error() call Log.error() call Log.error() call Log.error() call Log.error() public public return public public long public public throws if call Log.isDebugEnabled() call Log.isDebugEnabled() call Log.isDebugEnabled() call Log.isDebugEnabled() call Log.isDebugEnabled() call Log.debug() call Log.debug() call Log.debug() call Log.debug() call Log.debug() + decl_stmt long = while < if - > return return public public call Log.error() call Log.error() call Log.error() call Log.error() call Log.error() + + public public call Log.error() call Log.error() call Log.error() call Log.error() call Log.error() + + + public public call Log.error() call Log.error() call Log.error() call Log.error() call Log.error()