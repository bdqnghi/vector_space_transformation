org.springframework.jdbc.object java.sql.Connection import java.sql.PreparedStatement import java.sql.ResultSet import java.sql.ResultSetMetaData import java.sql.SQLException import java.sql.Types import java.util.HashMap import java.util.Map import javax.sql.DataSource import org.junit.After import org.junit.Before import org.junit.Rule import org.junit.Test import org.junit.rules.ExpectedException import org.springframework.jdbc.JdbcUpdateAffectedIncorrectNumberOfRowsException import org.springframework.jdbc.core.SqlParameter import org.springframework.jdbc.support.GeneratedKeyHolder import org.springframework.jdbc.support.KeyHolder import static static org.junit.Assert.* import static static org.mockito.BDDMockito.* import class org.springframework.jdbc.object.SqlUpdateTests ExpectedException String PreparedStatement String String ResultSet String Connection DataSource String ResultSetMetaData String String public public throws = = = = = call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() call javax.sql.DataSource.getConnection() public public throws Updater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt Updater = new decl_stmt int = call Updater.run() call Updater.run() call Updater.run() call Updater.run() call Updater.run() IntUpdater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt IntUpdater = new decl_stmt int = call IntUpdater.run() call IntUpdater.run() call IntUpdater.run() call IntUpdater.run() call IntUpdater.run() IntIntUpdater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt IntIntUpdater = new decl_stmt int = call IntIntUpdater.run() call IntIntUpdater.run() call IntIntUpdater.run() call IntIntUpdater.run() call IntIntUpdater.run() public public throws public public throws NamedParameterUpdater decl Map int private private final final throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) class class extends extends public public if new new else new new public public decl_stmt java.util.Map < = new < call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() return decl_stmt NamedParameterUpdater = new decl_stmt int = call NamedParameterUpdater.run() call NamedParameterUpdater.run() call NamedParameterUpdater.run() call NamedParameterUpdater.run() call NamedParameterUpdater.run() decl Map public public decl_stmt java.util.Map < = new < call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() call decl Map.put() return StringUpdater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt StringUpdater = new decl_stmt int = call StringUpdater.run() call StringUpdater.run() call StringUpdater.run() call StringUpdater.run() call StringUpdater.run() MixedUpdater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt MixedUpdater = new decl_stmt int = call MixedUpdater.run() call MixedUpdater.run() call MixedUpdater.run() call MixedUpdater.run() call MixedUpdater.run() KeyHolder GeneratedKeysUpdater int public public throws call java.sql.ResultSetMetaData.getColumnCount() call java.sql.ResultSetMetaData.getColumnCount() call java.sql.ResultSetMetaData.getColumnCount() call java.sql.ResultSetMetaData.getColumnCount() call java.sql.ResultSetMetaData.getColumnCount() call java.sql.ResultSetMetaData.getColumnLabel(int) call java.sql.ResultSetMetaData.getColumnLabel(int) call java.sql.ResultSetMetaData.getColumnLabel(int) call java.sql.ResultSetMetaData.getColumnLabel(int) call java.sql.ResultSetMetaData.getColumnLabel(int) call java.sql.ResultSet.getMetaData() call java.sql.ResultSet.getMetaData() call java.sql.ResultSet.getMetaData() call java.sql.ResultSet.getMetaData() call java.sql.ResultSet.getMetaData() call java.sql.ResultSet.next() call java.sql.ResultSet.next() call java.sql.ResultSet.next() call java.sql.ResultSet.next() call java.sql.ResultSet.next() call java.sql.ResultSet.getObject(int,java,util) call java.sql.ResultSet.getObject(int,java,util) call java.sql.ResultSet.getObject(int,java,util) call java.sql.ResultSet.getObject(int,java,util) call java.sql.ResultSet.getObject(int,java,util) call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call PreparedStatement.getGeneratedKeys() call PreparedStatement.getGeneratedKeys() call PreparedStatement.getGeneratedKeys() call PreparedStatement.getGeneratedKeys() call PreparedStatement.getGeneratedKeys() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt GeneratedKeysUpdater = new decl_stmt org.springframework.jdbc.support.KeyHolder = new decl_stmt int = call GeneratedKeysUpdater.run() call GeneratedKeysUpdater.run() call GeneratedKeysUpdater.run() call GeneratedKeysUpdater.run() call GeneratedKeysUpdater.run() call org.springframework.jdbc.support.KeyHolder.getKeyList() call org.springframework.jdbc.support.KeyHolder.getKeyList() call org.springframework.jdbc.support.KeyHolder.getKeyList() call org.springframework.jdbc.support.KeyHolder.getKeyList() call org.springframework.jdbc.support.KeyHolder.getKeyList() call KeyHolder.getKey() call KeyHolder.getKey() call KeyHolder.getKey() call KeyHolder.getKey() call KeyHolder.getKey() ConstructorUpdater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt ConstructorUpdater = new decl_stmt int = call ConstructorUpdater.run() call ConstructorUpdater.run() call ConstructorUpdater.run() call ConstructorUpdater.run() call ConstructorUpdater.run() MaxRowsUpdater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt MaxRowsUpdater = new decl_stmt int = call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() MaxRowsUpdater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt MaxRowsUpdater = new decl_stmt int = call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() MaxRowsUpdater public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt MaxRowsUpdater = new call ExpectedException.expect() call ExpectedException.expect() call ExpectedException.expect() call ExpectedException.expect() call ExpectedException.expect() call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() call MaxRowsUpdater.run() RequiredRowsUpdater int public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) decl_stmt RequiredRowsUpdater = new decl_stmt int = call RequiredRowsUpdater.run() call RequiredRowsUpdater.run() call RequiredRowsUpdater.run() call RequiredRowsUpdater.run() call RequiredRowsUpdater.run() RequiredRowsUpdater public public throws call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call java.sql.PreparedStatement.executeUpdate() call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call sun.rmi.transport.Connection.prepareStatement(String) call ExpectedException.expect() call ExpectedException.expect() call ExpectedException.expect() call ExpectedException.expect() call ExpectedException.expect() decl_stmt RequiredRowsUpdater = new call RequiredRowsUpdater.run() call RequiredRowsUpdater.run() call RequiredRowsUpdater.run() call RequiredRowsUpdater.run() call RequiredRowsUpdater.run() public public return public public return public public return public public return public public return public public return new public public return public public return public public return