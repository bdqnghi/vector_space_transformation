org.springframework.transaction org.junit.After import org.junit.Test import org.springframework.transaction.support.DefaultTransactionDefinition import org.springframework.transaction.support.DefaultTransactionStatus import org.springframework.transaction.support.TransactionCallbackWithoutResult import org.springframework.transaction.support.TransactionSynchronizationManager import org.springframework.transaction.support.TransactionTemplate import static static org.junit.Assert.* import class org.springframework.transaction.TransactionSupportTests PlatformTransactionManager DefaultTransactionStatus DefaultTransactionStatus public public decl_stmt org.springframework.transaction.PlatformTransactionManager = new decl_stmt org.springframework.transaction.support.DefaultTransactionStatus = call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() new call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() == decl_stmt org.springframework.transaction.support.DefaultTransactionStatus = call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() new call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() != call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() try call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() new catch PlatformTransactionManager DefaultTransactionStatus DefaultTransactionStatus DefaultTransactionStatus public public decl_stmt org.springframework.transaction.PlatformTransactionManager = new decl_stmt org.springframework.transaction.support.DefaultTransactionStatus = call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() new call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() != ! call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() decl_stmt org.springframework.transaction.support.DefaultTransactionStatus = call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() new call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() != ! call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() try decl_stmt org.springframework.transaction.support.DefaultTransactionStatus = call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() call PlatformTransactionManager.getTransaction() new call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() call org.springframework.transaction.support.DefaultTransactionStatus.getTransaction() != ! call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() call DefaultTransactionStatus.isNewTransaction() catch TransactionStatus TestTransactionManager public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.TransactionStatus = call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() ! ! TransactionStatus TestTransactionManager public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.TransactionStatus = call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.rollback() call TestTransactionManager.rollback() call TestTransactionManager.rollback() call TestTransactionManager.rollback() call TestTransactionManager.rollback() ! ! TransactionStatus TestTransactionManager public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.TransactionStatus = call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TransactionStatus.setRollbackOnly() call TransactionStatus.setRollbackOnly() call TransactionStatus.setRollbackOnly() call TransactionStatus.setRollbackOnly() call TransactionStatus.setRollbackOnly() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() ! ! TransactionStatus TestTransactionManager public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.TransactionStatus = call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() ! ! ! ! TransactionStatus TestTransactionManager public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.TransactionStatus = call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.rollback() call TestTransactionManager.rollback() call TestTransactionManager.rollback() call TestTransactionManager.rollback() call TestTransactionManager.rollback() ! ! ! TransactionStatus TestTransactionManager public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.TransactionStatus = call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TestTransactionManager.getTransaction() call TransactionStatus.setRollbackOnly() call TransactionStatus.setRollbackOnly() call TransactionStatus.setRollbackOnly() call TransactionStatus.setRollbackOnly() call TransactionStatus.setRollbackOnly() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() call TestTransactionManager.commit() ! ! ! TestTransactionManager TransactionTemplate public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.support.TransactionTemplate = new call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new protected protected ! ! protected protected MockCallbackPreferringTransactionManager TransactionTemplate public public decl_stmt org.springframework.transaction.MockCallbackPreferringTransactionManager = new decl_stmt org.springframework.transaction.support.TransactionTemplate = new call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new protected protected call MockCallbackPreferringTransactionManager.getDefinition() call MockCallbackPreferringTransactionManager.getDefinition() call MockCallbackPreferringTransactionManager.getDefinition() call MockCallbackPreferringTransactionManager.getDefinition() call MockCallbackPreferringTransactionManager.getDefinition() call org.springframework.transaction.MockCallbackPreferringTransactionManager.getStatus() call org.springframework.transaction.MockCallbackPreferringTransactionManager.getStatus() call org.springframework.transaction.MockCallbackPreferringTransactionManager.getStatus() call org.springframework.transaction.MockCallbackPreferringTransactionManager.getStatus() call org.springframework.transaction.MockCallbackPreferringTransactionManager.getStatus() protected protected TestTransactionManager RuntimeException TransactionTemplate public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.support.TransactionTemplate = new decl_stmt RuntimeException final final = new try call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new protected protected throw catch == ! ! protected protected throw TransactionSystemException TestTransactionManager RuntimeException TransactionTemplate public public decl_stmt org.springframework.transaction.TransactionSystemException final final = new decl_stmt org.springframework.transaction.TestTransactionManager = new protected protected throw decl_stmt org.springframework.transaction.support.TransactionTemplate = new decl_stmt RuntimeException final final = new try call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new protected protected throw catch == ! ! protected protected throw protected protected throw TestTransactionManager TransactionTemplate public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.support.TransactionTemplate = new try call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) call org.springframework.transaction.support.TransactionTemplate.execute(TransactionCallback) new protected protected throw new catch ! ! protected protected throw new TestTransactionManager TransactionTemplate public public decl_stmt org.springframework.transaction.TestTransactionManager = new decl_stmt org.springframework.transaction.support.TransactionTemplate = new call org.springframework.transaction.support.TransactionTemplate.setTransactionManager(PlatformTransactionManager) call org.springframework.transaction.support.TransactionTemplate.setTransactionManager(PlatformTransactionManager) call org.springframework.transaction.support.TransactionTemplate.setTransactionManager(PlatformTransactionManager) call org.springframework.transaction.support.TransactionTemplate.setTransactionManager(PlatformTransactionManager) call org.springframework.transaction.support.TransactionTemplate.setTransactionManager(PlatformTransactionManager) call TransactionTemplate.getTransactionManager() call TransactionTemplate.getTransactionManager() call TransactionTemplate.getTransactionManager() call TransactionTemplate.getTransactionManager() call TransactionTemplate.getTransactionManager() == try call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.setPropagationBehaviorName() catch call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.setPropagationBehaviorName() call TransactionTemplate.getPropagationBehavior() call TransactionTemplate.getPropagationBehavior() call TransactionTemplate.getPropagationBehavior() call TransactionTemplate.getPropagationBehavior() call TransactionTemplate.getPropagationBehavior() == try call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() catch call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.setPropagationBehavior() call TransactionTemplate.getPropagationBehavior() call TransactionTemplate.getPropagationBehavior() call TransactionTemplate.getPropagationBehavior() call TransactionTemplate.getPropagationBehavior() call TransactionTemplate.getPropagationBehavior() == try call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.setIsolationLevelName() catch call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.setIsolationLevelName() call TransactionTemplate.getIsolationLevel() call TransactionTemplate.getIsolationLevel() call TransactionTemplate.getIsolationLevel() call TransactionTemplate.getIsolationLevel() call TransactionTemplate.getIsolationLevel() == try call TransactionTemplate.setIsolationLevel() call TransactionTemplate.setIsolationLevel() call TransactionTemplate.setIsolationLevel() call TransactionTemplate.setIsolationLevel() call TransactionTemplate.setIsolationLevel() catch call TransactionTemplate.setIsolationLevel() call TransactionTemplate.setIsolationLevel() call TransactionTemplate.setIsolationLevel() call TransactionTemplate.setIsolationLevel() call TransactionTemplate.setIsolationLevel() call TransactionTemplate.getIsolationLevel() call TransactionTemplate.getIsolationLevel() call TransactionTemplate.getIsolationLevel() call TransactionTemplate.getIsolationLevel() call TransactionTemplate.getIsolationLevel() == public public