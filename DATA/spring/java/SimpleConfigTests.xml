org.springframework.context.annotation java.util.concurrent.Future import java.util.concurrent.FutureTask import example.scannable.FooService import example.scannable.ServiceInvocationCounter import org.junit.Test import org.springframework.context.support.ClassPathXmlApplicationContext import static static org.junit.Assert.* import class org.springframework.context.annotation.SimpleConfigTests decl Future FooService ClassPathXmlApplicationContext ServiceInvocationCounter String public public throws decl_stmt org.springframework.context.support.ClassPathXmlApplicationContext = new decl_stmt org.springframework.cache.config.FooService = call ClassPathXmlApplicationContext.getBean() call ClassPathXmlApplicationContext.getBean() call ClassPathXmlApplicationContext.getBean() call ClassPathXmlApplicationContext.getBean() call ClassPathXmlApplicationContext.getBean() decl_stmt example.scannable.ServiceInvocationCounter = call ClassPathXmlApplicationContext.getBean() call ClassPathXmlApplicationContext.getBean() call ClassPathXmlApplicationContext.getBean() call ClassPathXmlApplicationContext.getBean() call ClassPathXmlApplicationContext.getBean() decl_stmt java.lang.String = call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) decl_stmt java.util.concurrent.Future < = call org.springframework.cache.config.FooService.asyncFoo(int) call org.springframework.cache.config.FooService.asyncFoo(int) call org.springframework.cache.config.FooService.asyncFoo(int) call org.springframework.cache.config.FooService.asyncFoo(int) call org.springframework.cache.config.FooService.asyncFoo(int) instanceof call decl Future.get() call decl Future.get() call decl Future.get() call decl Future.get() call decl Future.get() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call org.springframework.cache.config.FooService.foo(int) call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() call ServiceInvocationCounter.getCount() public public return new