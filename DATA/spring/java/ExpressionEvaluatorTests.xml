org.springframework.cache.interceptor java.lang.reflect.Method import java.util.Collection import java.util.Collections import java.util.Iterator import org.junit.Test import org.springframework.beans.factory.BeanFactory import org.springframework.beans.factory.config.BeanDefinition import org.springframework.beans.factory.support.RootBeanDefinition import org.springframework.cache.annotation.AnnotationCacheOperationSource import org.springframework.cache.annotation.Cacheable import org.springframework.cache.annotation.Caching import org.springframework.cache.concurrent.ConcurrentMapCache import org.springframework.context.expression.AnnotatedElementKey import org.springframework.context.support.StaticApplicationContext import org.springframework.expression.EvaluationContext import org.springframework.expression.spel.standard.SpelExpressionParser import org.springframework.util.ReflectionUtils import static static org.hamcrest.Matchers.* import static static org.junit.Assert.* import class org.springframework.cache.interceptor.ExpressionEvaluatorTests AnnotationCacheOperationSource ExpressionEvaluator Method private < private < decl_stmt com.sun.jdi.Method = return call org.springframework.cache.annotation.AnnotationCacheOperationSource.getCacheOperations(CacheAnnotationParser) call org.springframework.cache.annotation.AnnotationCacheOperationSource.getCacheOperations(CacheAnnotationParser) call org.springframework.cache.annotation.AnnotationCacheOperationSource.getCacheOperations(CacheAnnotationParser) call org.springframework.cache.annotation.AnnotationCacheOperationSource.getCacheOperations(CacheAnnotationParser) call org.springframework.cache.annotation.AnnotationCacheOperationSource.getCacheOperations(CacheAnnotationParser) CacheOperation decl Iterator decl Collection public public throws decl_stmt java.util.Collection < = call decl Collection.size() call decl Collection.size() call decl Collection.size() call decl Collection.size() call decl Collection.size() decl_stmt java.util.Iterator < = call decl Collection.iterator() call decl Collection.iterator() call decl Collection.iterator() call decl Collection.iterator() call decl Collection.iterator() decl_stmt org.springframework.cache.interceptor.CacheOperation = call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() instanceof call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getKey() call org.springframework.cache.interceptor.CacheOperation.getKey() call org.springframework.cache.interceptor.CacheOperation.getKey() call org.springframework.cache.interceptor.CacheOperation.getKey() call org.springframework.cache.interceptor.CacheOperation.getKey() = call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() instanceof call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getCacheNames() call org.springframework.cache.interceptor.CacheOperation.getKey() call org.springframework.cache.interceptor.CacheOperation.getKey() call org.springframework.cache.interceptor.CacheOperation.getKey() call org.springframework.cache.interceptor.CacheOperation.getKey() call org.springframework.cache.interceptor.CacheOperation.getKey() AnnotatedClass decl Collection decl Object decl Iterator AnnotatedElementKey Object Object Method EvaluationContext decl Collection public public throws decl_stmt AnnotatedClass = new decl_stmt com.sun.jdi.Method = decl_stmt java.lang.Object = new new new decl_stmt java.util.Collection < = new decl_stmt org.springframework.expression.EvaluationContext = call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call AnnotatedClass.getClass() call AnnotatedClass.getClass() call AnnotatedClass.getClass() call AnnotatedClass.getClass() call AnnotatedClass.getClass() decl_stmt java.util.Collection < = decl_stmt java.util.Iterator < = call decl Collection.iterator() call decl Collection.iterator() call decl Collection.iterator() call decl Collection.iterator() call decl Collection.iterator() decl_stmt org.springframework.context.expression.AnnotatedElementKey = new decl_stmt java.lang.Object = call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() decl_stmt java.lang.Object = call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call org.springframework.cache.interceptor.ExpressionEvaluator.key(String,AnnotatedElementKey,EvaluationContext) call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() call decl Iterator.next() Object EvaluationContext public public throws decl_stmt org.springframework.expression.EvaluationContext = decl_stmt java.lang.Object = new Object EvaluationContext public public throws decl_stmt org.springframework.expression.EvaluationContext = decl_stmt java.lang.Object = new Object EvaluationContext public public throws decl_stmt org.springframework.expression.EvaluationContext = decl_stmt java.lang.Object = new EvaluationContext public public throws decl_stmt org.springframework.expression.EvaluationContext = try new catch StaticApplicationContext Object EvaluationContext BeanDefinition public public throws decl_stmt org.springframework.context.support.StaticApplicationContext = new decl_stmt org.springframework.beans.factory.config.BeanDefinition = new call StaticApplicationContext.registerBeanDefinition() call StaticApplicationContext.registerBeanDefinition() call StaticApplicationContext.registerBeanDefinition() call StaticApplicationContext.registerBeanDefinition() call StaticApplicationContext.registerBeanDefinition() call StaticApplicationContext.refresh() call StaticApplicationContext.refresh() call StaticApplicationContext.refresh() call StaticApplicationContext.refresh() call StaticApplicationContext.refresh() decl_stmt org.springframework.expression.EvaluationContext = decl_stmt java.lang.Object = new private private return decl Collection decl Object AnnotatedClass Method private private decl_stmt AnnotatedClass = new decl_stmt com.sun.jdi.Method = decl_stmt java.lang.Object = new new new decl_stmt java.util.Collection < = new return call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call org.springframework.cache.interceptor.ExpressionEvaluator.createEvaluationContext(Collection,Method,Object,Object,Class,BeanFactory) call AnnotatedClass.getClass() call AnnotatedClass.getClass() call AnnotatedClass.getClass() call AnnotatedClass.getClass() call AnnotatedClass.getClass() = = = = = public = = = = = public