log4net.Util System using System.Runtime.InteropServices using System.Security.Principal using System.Security.Permissions using log4net.Core using class log4net.Util.WindowsSecurityContext super super SecurityContext super IOptionHandler string string WindowsIdentity string return = return = return = = public public if == if == throw new if == throw new if == throw new = public override public override if == if != return new call WindowsIdentity.Impersonate() call WindowsIdentity.Impersonate() call WindowsIdentity.Impersonate() call WindowsIdentity.Impersonate() call WindowsIdentity.Impersonate() else if == return new return IntPtr int WindowsIdentity NativeError int IntPtr int endif = private static endif = private static decl_stmt int const const = decl_stmt int const const = decl_stmt IntPtr = if ! ref decl_stmt log4net.Util.NativeError = throw new + + + + + call NativeError.ToString() call NativeError.ToString() call NativeError.ToString() call NativeError.ToString() call NativeError.ToString() decl_stmt int const const = decl_stmt IntPtr = if ! ref decl_stmt log4net.Util.NativeError = if != throw new + call NativeError.ToString() call NativeError.ToString() call NativeError.ToString() call NativeError.ToString() call NativeError.ToString() decl_stmt System.Security.Principal.WindowsIdentity = new if != if != return public public