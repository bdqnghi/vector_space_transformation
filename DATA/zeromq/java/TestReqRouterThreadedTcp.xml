org.zeromq static static org.hamcrest.CoreMatchers.is import static static org.hamcrest.CoreMatchers.notNullValue import static static org.junit.Assert.assertThat import java.util.concurrent.atomic.AtomicBoolean import org.junit.Test import org.zeromq.ZMQ.Socket import class org.zeromq.TestReqRouterThreadedTcp long decl Socket ZContext decl ZMQ public public decl_stmt org.zeromq.ZContext = new decl_stmt java.net.Socket = call org.zeromq.ZContext.createSocket(int) call org.zeromq.ZContext.createSocket(int) call org.zeromq.ZContext.createSocket(int) call org.zeromq.ZContext.createSocket(int) call org.zeromq.ZContext.createSocket(int) call decl ZMQ.bind() call decl ZMQ.bind() call decl ZMQ.bind() call decl ZMQ.bind() call decl ZMQ.bind() + decl_stmt org.zeromq.ZMsg = call decl Socket.send() call decl Socket.send() call decl Socket.send() call decl Socket.send() call decl Socket.send() call decl Socket.destroy() call decl Socket.destroy() call decl Socket.destroy() call decl Socket.destroy() call decl Socket.destroy() call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.close() call org.zeromq.ZContext.close() call org.zeromq.ZContext.close() call org.zeromq.ZContext.close() call org.zeromq.ZContext.close() decl Socket decl ZMQ ZContext public public decl_stmt org.zeromq.ZContext = new decl_stmt java.net.Socket = call org.zeromq.ZContext.createSocket(int) call org.zeromq.ZContext.createSocket(int) call org.zeromq.ZContext.createSocket(int) call org.zeromq.ZContext.createSocket(int) call org.zeromq.ZContext.createSocket(int) call decl ZMQ.connect() call decl ZMQ.connect() call decl ZMQ.connect() call decl ZMQ.connect() call decl ZMQ.connect() + call decl ZMQ.send() call decl ZMQ.send() call decl ZMQ.send() call decl ZMQ.send() call decl ZMQ.send() decl_stmt java.lang.String = call decl ZMQ.recvStr() call decl ZMQ.recvStr() call decl ZMQ.recvStr() call decl ZMQ.recvStr() call decl ZMQ.recvStr() call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.destroySocket(Socket) call org.zeromq.ZContext.close() call org.zeromq.ZContext.close() call org.zeromq.ZContext.close() call org.zeromq.ZContext.close() call org.zeromq.ZContext.close() protected protected int decl ZMQ decl Poller protected protected decl_stmt zmq.Poller = new call decl ZMQ.register() call decl ZMQ.register() call decl ZMQ.register() call decl ZMQ.register() call decl ZMQ.register() decl_stmt int = call decl ZMQ.poll() call decl ZMQ.poll() call decl ZMQ.poll() call decl ZMQ.poll() call decl ZMQ.poll() decl_stmt boolean = call decl ZMQ.pollin() call decl ZMQ.pollin() call decl ZMQ.pollin() call decl ZMQ.pollin() call decl ZMQ.pollin() boolean Client int Server public public throws decl_stmt int = decl_stmt com.sun.security.ntlm.Server = new call Server.start() call Server.start() call Server.start() call Server.start() call Server.start() decl_stmt Client = new call Client.start() call Client.start() call Client.start() call Client.start() call Client.start() call Server.join() call Server.join() call Server.join() call Server.join() call Server.join() call Client.join() call Client.join() call Client.join() call Client.join() call Client.join() decl_stmt boolean = call Client.finished() call Client.finished() call Client.finished() call Client.finished() call Client.finished() call Client.finished() call Client.finished() call Client.finished() call Client.finished() boolean ClientPoll int Server public public throws decl_stmt int = decl_stmt com.sun.security.ntlm.Server = new call Server.start() call Server.start() call Server.start() call Server.start() call Server.start() decl_stmt ClientPoll = new call ClientPoll.start() call ClientPoll.start() call ClientPoll.start() call ClientPoll.start() call ClientPoll.start() call Server.join() call Server.join() call Server.join() call Server.join() call Server.join() call ClientPoll.join() call ClientPoll.join() call ClientPoll.join() call ClientPoll.join() call ClientPoll.join() decl_stmt boolean = call ClientPoll.finished() call ClientPoll.finished() call ClientPoll.finished() call ClientPoll.finished() call ClientPoll.finished() call ClientPoll.finished() call ClientPoll.finished() call ClientPoll.finished() call ClientPoll.finished()