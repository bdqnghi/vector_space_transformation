com.datastax.driver.core.policies com.datastax.driver.core.* import com.datastax.driver.core.exceptions.NoHostAvailableException import com.datastax.driver.core.exceptions.ReadTimeoutException import com.datastax.driver.core.exceptions.UnavailableException import org.testng.annotations.Test import java.util.concurrent.CountDownLatch import static static java.util.concurrent.TimeUnit.SECONDS import static static org.assertj.core.api.Assertions.assertThat import static static org.assertj.core.api.Assertions.fail import static static org.scassandra.http.client.PrimingRequest.queryBuilder import static static org.scassandra.http.client.Result.read_request_timeout import static static org.scassandra.http.client.Result.unavailable import class com.datastax.driver.core.policies.LatencyAwarePolicyTest super super extends public public public public throws public public public public decl LatencyAwarePolicy Cluster decl Cluster decl Builder LatencyTrackerBarrier Session LatencyAwarePolicy String = public = public throws decl_stmt java.lang.String = decl_stmt com.datastax.driver.core.policies.LatencyAwarePolicy = new decl_stmt com.datastax.driver.stress.Builder = call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() decl_stmt com.datastax.driver.core.Cluster = call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() try call decl Builder.init() call decl Builder.init() call decl Builder.init() call decl Builder.init() call decl Builder.init() decl_stmt LatencyTrackerBarrier = new call decl Builder.register() call decl Builder.register() call decl Builder.register() call decl Builder.register() call decl Builder.register() decl_stmt com.datastax.driver.core.Session = call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call Cluster.await() call Cluster.await() call Cluster.await() call Cluster.await() call Cluster.await() decl_stmt com.sun.tools.hat.internal.model.Snapshot = call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call Session.getAllStats() call Session.getAllStats() call Session.getAllStats() call Session.getAllStats() call Session.getAllStats() decl_stmt Stats = call Session.getStats() call Session.getStats() call Session.getStats() call Session.getStats() call Session.getStats() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getLatencyScore() call decl LatencyAwarePolicy.getLatencyScore() call decl LatencyAwarePolicy.getLatencyScore() call decl LatencyAwarePolicy.getLatencyScore() call decl LatencyAwarePolicy.getLatencyScore() - finally call decl Builder.close() call decl Builder.close() call decl Builder.close() call decl Builder.close() call decl Builder.close() decl LatencyAwarePolicy Cluster decl Cluster decl Builder LatencyTrackerBarrier Throwable Session LatencyAwarePolicy String = public = public throws decl_stmt java.lang.String = decl_stmt com.datastax.driver.core.policies.LatencyAwarePolicy = new decl_stmt com.datastax.driver.stress.Builder = call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() decl_stmt com.datastax.driver.core.Cluster = call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() try call decl Builder.init() call decl Builder.init() call decl Builder.init() call decl Builder.init() call decl Builder.init() decl_stmt LatencyTrackerBarrier = new call decl Builder.register() call decl Builder.register() call decl Builder.register() call decl Builder.register() call decl Builder.register() decl_stmt com.datastax.driver.core.Session = call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() try call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() catch decl_stmt java.lang.Throwable = call Cluster.await() call Cluster.await() call Cluster.await() call Cluster.await() call Cluster.await() decl_stmt com.sun.tools.hat.internal.model.Snapshot = call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call Throwable.getAllStats() call Throwable.getAllStats() call Throwable.getAllStats() call Throwable.getAllStats() call Throwable.getAllStats() decl_stmt Stats = call Throwable.getStats() call Throwable.getStats() call Throwable.getStats() call Throwable.getStats() call Throwable.getStats() finally call decl Builder.close() call decl Builder.close() call decl Builder.close() call decl Builder.close() call decl Builder.close() decl LatencyAwarePolicy Cluster decl Cluster decl Builder LatencyTrackerBarrier Session LatencyAwarePolicy String = public = public throws decl_stmt java.lang.String = decl_stmt com.datastax.driver.core.policies.LatencyAwarePolicy = new decl_stmt com.datastax.driver.stress.Builder = call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withLoadBalancingPolicy() call decl Cluster.withRetryPolicy() call decl Cluster.withRetryPolicy() call decl Cluster.withRetryPolicy() call decl Cluster.withRetryPolicy() call decl Cluster.withRetryPolicy() decl_stmt com.datastax.driver.core.Cluster = call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() call decl Cluster.build() try call decl Builder.init() call decl Builder.init() call decl Builder.init() call decl Builder.init() call decl Builder.init() decl_stmt LatencyTrackerBarrier = new call decl Builder.register() call decl Builder.register() call decl Builder.register() call decl Builder.register() call decl Builder.register() decl_stmt com.datastax.driver.core.Session = call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() call decl Builder.connect() try call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() call LatencyTrackerBarrier.execute() catch call Cluster.await() call Cluster.await() call Cluster.await() call Cluster.await() call Cluster.await() decl_stmt com.sun.tools.hat.internal.model.Snapshot = call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call com.datastax.driver.core.policies.LatencyAwarePolicy.getScoresSnapshot() call Session.getAllStats() call Session.getAllStats() call Session.getAllStats() call Session.getAllStats() call Session.getAllStats() decl_stmt Stats = call Session.getStats() call Session.getStats() call Session.getStats() call Session.getStats() call Session.getStats() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getMeasurementsCount() call decl LatencyAwarePolicy.getLatencyScore() call decl LatencyAwarePolicy.getLatencyScore() call decl LatencyAwarePolicy.getLatencyScore() call decl LatencyAwarePolicy.getLatencyScore() call decl LatencyAwarePolicy.getLatencyScore() - finally call decl Builder.close() call decl Builder.close() call decl Builder.close() call decl Builder.close() call decl Builder.close()